<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>RHCSA | 渊</title><meta name="keywords" content="基础,Linux"><meta name="author" content="渊"><meta name="copyright" content="渊"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="RHCSA"><meta name="application-name" content="RHCSA"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="RHCSA"><meta property="og:url" content="http://example.com/2024/04/05/RHCSA/index.html"><meta property="og:site_name" content="渊"><meta property="og:description" content="第一章 Linux系统入门1.1 Linux系统简介1.2 虚拟机环境1.3 远程共享搭建1.3.1 虚拟机设置共享文件夹如果共享丢失了执行如下命令： vmhgfs-fuse -o allow_other -o auto_unmount .host:&amp;#x2F;&amp;#x2F;mnt&amp;#x2F;hgfs    另外补充： windo"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://example.com/img/default_cover1.jpg"><meta property="article:author" content="渊"><meta property="article:tag" content="天若有情天亦老 大道无情情至公"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://example.com/img/default_cover1.jpg"><meta name="description" content="第一章 Linux系统入门1.1 Linux系统简介1.2 虚拟机环境1.3 远程共享搭建1.3.1 虚拟机设置共享文件夹如果共享丢失了执行如下命令： vmhgfs-fuse -o allow_other -o auto_unmount .host:&amp;#x2F;&amp;#x2F;mnt&amp;#x2F;hgfs    另外补充： windo"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2024/04/05/RHCSA/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":10,"position":"top","messagePrev":"距离上次更新已经","messageNext":"天了，文章的内容可能已经过时了。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 渊","link":"链接: ","source":"来源: 渊","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: {"enable":true,"delay":100,"shiftDelay":200},
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '渊',
  title: 'RHCSA',
  postAI: '',
  pageFillDescription: '第一章 Linux系统入门, 1.1 Linux系统简介, 1.2 虚拟机环境, 1.3 远程共享搭建, 1.3.1 虚拟机设置共享文件夹, 1.3.2 Xshell共享文件夹, 1.3.3 Xftp文件共享, 1.4 基本命令格式, 第二章 文件管理系统, 2.1目录管理命令, 2.2 文件管理命令, 2.3 编辑器vim命令, 2.4 压缩解压缩文件, 2.5 离线管理命令, 第三章 包x2F源管理命令, 3.1 本地源管理命令, 3.2 网络源管理命令, 3.3 源码管理命令, 第四章 网络管理命令, 4.1 网络基础知识, 4.2 接口管理命令, 第五章 系统维护命令, 5.1网络维护命令, 5.2 进程管理命令, 5.3 系统管理命令, 5.4 磁盘管理命令, 5.5 逻辑卷管理, 第六章 用户管理命令, 6.1 用户管理命令, 6.2 用户组管理命令, 6.3 用户配置, 第七章 基础项目演练, 搭建FTP文件共享服务器第一章系统入门系统简介虚拟机环境远程共享搭建虚拟机设置共享文件夹如果共享丢失了执行如下命令另外补充在你指定的目录文件夹创建共享文件并设置共享账号共享文件夹注意尽量不要用中文路径对于对于挂载卸载挂载的共享文件夹在重启之后就会消失的如果还要使用是需要重新挂载的如果希望开机自动挂载共享文件夹则需要将挂载命令添加到的将挂载文件生效共享文件夹文件共享基本命令格式是终端提示符类似与下的的命令行界面是当前系统登录的用户名是分隔符当前机器的名称本地主机通俗解释就是当前操作系统是当前用户的家目录自己的家环境鼠标打开的主目录位置表示当前是普通用户如果这个位置是表示当前用户是超级管理员键是单次命令的提交符号一旦按下键表示命令执行系统操作要求必须先将鼠标置于虚拟机环境全屏退出虚拟机快速呼出终端中有效无效终端字符变大终端字符缩小清屏操作切换操作任务查看系统内核版本命令查看系统发行版本命令除过可视化环境下的终端以外还有默认的个终端不支持鼠标只支持键盘一般是用于可视化界面显示是可视化界面注意如果在操作命令的过程中终端提示符不能正常返回可以使用终止本次命令操作在操作系统中所有的文件和目录都被组织成以一个根节点开始的倒置的树状结构文件系统的最顶层是由根目录开始的系统使用来表示根目录在根目录之下的既可以是目录也可以是文件而每一个目录中又可以包含子目录文件如此反复就可以构成一个庞大的文件系统一般系统根目录有如下文件夹重要的二进制应用程序包含二进制文件系统的所有用户使用的命令都在这个目录下启动配置文件包含引导加载程序相关的文件设备文件包含设备文件包括终端设备或连接到系统的任何设备配置文件启动脚本等包含所有程序所需的配置文件也包含了用于启动停止单个程序的启动和关闭脚本本地用户主目录所有用户用目录来存储他们的个人档案系统库文件包含支持位于和下的二进制文件的库文件在根目录下提供一个遗失查找系统必须在用户下才可以查看当前目录下的内容挂载可移动介质诸如数码相机等用于挂载可移动设备的临时目录挂载文件系统临时安装目录系统管理员可以挂载文件系统提供一个供可选的应用程序安装目录应用程序应该安装在或者的子目录下特殊的动态目录用以维护系统信息和状态包括当前运行中进程信息包含系统进程的相关信息是一个虚拟的文件系统包含有关正在运行的进程的信息系统资源以文本信息形式存在超级用户主文件夹读作是当前系统的最高权限拥有着类似于的重要的系统二进制文件也是包含的二进制可执行文件在这个目录下的命令通常都是由系统管理员使用的对系统进行维护系统文件临时文件包含系统和用户创建的临时文件当系统重启时这个目录下的文件将都被删除包含绝大部分所有用户都能访问的应用程序和文件包含二进制文件库文件文档和二级程序的源代码经常变化的文件诸如日志或数据库等代表变量文件在这个目录下可以找到内容可能增长的文件在系统中有几个目录是比较重要的平时需要注意不要误删除或者随意更改内部文件这个是系统中的配置文件如果你更改了该目录下的某个文件可能会导致系统不能启动这是系统预设的执行文件的放置目录比如就是在目录下的是给系统用户使用的指令除外的通用户而则是给使用的指令这是一个非常重要的目录系统上跑了很多程序那么每个程序都会有相应的日志产生而这些日志就被记录到这个目录下具体在目录下另外的预设放置也是在这里可以在文件下查看相关的情况而可以查看内存相关信息中一般有两种文件二进制文件不能阅读但是赋予权限后可以执行的程序文件能阅读有时候需要二进制文件打开这类文件一般情况下二进制程序库文件配置文件帮助文件下的文件类型分为如下种普通文件目录文件文件夹块设备字符设备符号链接文件快捷方式管道文件共享缓存文件套接字文件文件用于网络通信验证等价于等于文件权限和类型关系权限等于第一列是文件类型参考种文件类型第二三四列只读只写执行可写可读可执行拥有者权限第五六七列只读无只写执行可读不可写可执行组员权限第八九十列只读无只写执行可读不可写可执行其他人权限绝对路径以正斜杠开始完整的文件的位置路径可用于任何想指定一个文件名的时候指令可以看到当前位置距离位置的绝对路径相对路径不以斜线开始指定相对于当前工作目录或某目录的位置可以作为一个简短的形式指定一个文件名第二章文件管理系统目录管理命令新建目录查看目录切换目录修改目录删除目录打开终端后我们默认处于主目录家目录标志就是中目录类似与的文件夹命令来自英文词组的缩写其功能是创建目录文件该命令的使用简单但需要注意若要创建的目标目录已经存在则会提示已存在而不继续创建不覆盖已有文件若目录不存在则立即创建一个目录可以创建具有嵌套的依赖关系时例如要想一次性创建则需要加入参数进行递归操作语法格式参数目录名常用参数创建目录的同时设置权限显示执行过程详细信息递归创建多级目录设置目录安全上下文可读可写可执行参考示例创建者权限组权限其他权限建立一个目录文件默认的目录权限是权限创建一个目录文件并设置权限不让除所有主以外的任何人读写执行它一次性创建多个目录文件在系统根目录中一次性创建多个有嵌套关系的目录文件命令来自英文单词的缩写中文译为列出其功能是显示目录中的文件及其属性信息是最常使用的命令之一默认不添加任何参数的情况下命令会列出当前工作目录中的文件信息常与或命令搭配使用十分方便带上参数后我们可以做更多的事情作为最基础最频繁使用的命令有必要仔细了解其常用功能语法格式参数文件名常用参数显示所有文件及目录不显示当前目录和父目录显示目录自身的属性信息显示文件的属性信息显示文件的详细属性信息以逗号为间隔符水平显示文件信息依据首字母将文件以相反次序显示递归显示所有子文件依据内容大小将文件排序显示依据最后修改时间将文件排序显示依据扩展名将文件排序显示以彩色显示信息参考示例显示当前目录中的文件名默认不含隐藏文件显示当前目录中的文件名默认含隐藏文件中隐藏文件用开头以详细信息模式输出文件名及其属性信息简写显示指定目录中的文件列表默认查看是当前工作目录显示当前目录中的文件名及属性信息依据文件内容大小进行排序显示指定目录中文件名及其属性详情信息命令来自英文词组的缩写其功能是更改当前所处的工作目录路径可以是绝对路径也可以是相对路径若省略不写则会跳转至当前使用者的家目录语法格式参数目录名常用参数切换至符号链接所在的目录切换至符号链接对应的实际目录切换至上次所在目录切换至用户家目录切换至当前位置的上一级目录参考示例切换到根目录下指定目录注意如果没有这个目录或者权限不足则提示不能切换切换到当前目录下的指定目录切换到当前位置下的多层级目录切换到上级目录下的指定目录切换至当前用户的家目录等价于回车默认进入家目录进入到上一级所在目录如果不清楚位置命令可以看到绝对路径通过多次的上级目录切换到上级的上级的上级目录返回到上一次所在目录直接进入到根目录所在位置命令来自英文单词的缩写中文译为移动其功能与英文含义相同能够对文件进行剪切和重命名操作这是一个被高频使用的文件管理命令我们需要留意它与复制命令的区别当前命令应理解成重命名操作语法格式参数源文件名目标文件名常用参数覆盖前为目标文件创建备份强制覆盖目标文件而不询问覆盖目标文件前询问用户是否确认不要覆盖已有文件当源文件比目标文件更新时才执行覆盖操作显示执行过程详细信息设置文件安全上下文显示帮助信息显示版本信息参考示例将文件重命名为文件注意源文件必须存在将指定文件移动到当前目录中保留文件原始名称将指定目录移动到当前目录中并定义新的目录名称为将当前目录中所有的文件都移动到当前工作目录中若遇到文件已存在则直接覆盖中文件将全部移走变空目录注意所有操作都限于当前家目录不要在目录下工作有权限限制命令来自英文词组的缩写其功能是删除空目录文件命令仅能删除空内容的目录文件如需删除非空目录时需要使用带有参数的命令进行操作而命令的递归删除操作参数使用并不意味着能删除目录中已有的文件而是要求每个子目录都必须是空的语法格式参数目录名常用参数递归处理所有子文件显示执行过程详细信息显示帮助信息显示版本信息参考示例删除指定的空目录非空目录删除失败删除指定的空目录及其内部的子空目录删除指定的空目录并显示删除的过程文件管理命令新建文件编辑文件查看文件修改文件删除文件拷贝文件移动文件链接文件绝对路径命令的功能是创建空文件与修改时间戳如果文件不存在则会创建一个空内容的文本文件如果文件已经存在则会对文件的访问时间和修改时间进行修改操作管理员可以完成此项工作而普通用户只能管理主机的文件语法格式参数文件名常用参数设置文件的读取时间记录不创建新文件设置时间与日期设置文件的时间记录显示帮助信息显示版本信息设置文件的修改时间记录参考示例创建出一个指定名称的空文件建议文件名要符合规范注意中没有文件后缀的概念结合通配符创建多个指定名称的空文件属于文件前缀属于文件后缀是文件创建编号边界修改指定文件的查看时间和修改时间编辑器编辑器只能在可视化界面操作命令来自英文词组的缩写其功能是用于编辑文本信息是桌面环境的文本编辑器命令拥有非常强大的通用文本编辑功能能够创建和编辑各类型文本文件用户还可以向中添加自主选择的插件让编辑器支持更多高级功能语法格式参数文件名常用参数忽略部分错误信息使用独立模式使用独占方式打开文件递归处理所有子文件显示执行过程详细信息设置字符编码参考示例打开并编辑指定的文件打开文件时使用的字符编码命令来自英文词组的缩写其功能是在终端设备上显示文件内容在系统中有很多用于查看文件内容的命令例如等每个命令都有各自的特点命令适合查看内容较少的纯文本文件对于内容较多的文件使用命令查看后会在屏幕上快速滚屏用户往往看不清所显示的具体内容只好按组合键中断命令执行对于大文件干脆用命令语法格式参数文件名常用参数等价于参数组合显示行数空行不编号等价于参数组合和除外每行结束处显示符号显示行数空行也编号显示行数多个空行算一个编号等价于参数组合将字符显示为符号使用和引用显示帮助信息显示版本信息参考示例查看指定文件的内容查看指定文件的内容并显示行号搭配空设备文件和输出重定向操作符清空指定文件的内容搭配输出重定向操作符将光盘设备制作成镜像文件查看大文件内容使用可以通过空格和键翻页默认在文件开头位置不论文件大小默认查看前行可以通过查看指定行文件不论文件大小默认查看后行可以通过查看指定行文件查看文件的属性信息包括文件大小权限链接时间类型属主命令来自英文词组的缩写其功能是改变文件或目录权限的命令默认只有文件的所有者和管理员可以设置文件权限普通用户只能管理自己文件的权限属性设置权限时可以使用数字法亦可使用字母表达式对于目录文件建议加入参数进行递归操作这意味着不仅对于目录本身而且也对目录内的子文件目录进行新权限的设定语法格式参数文件名常用参数改变权限成功后再输出成功信息改变权限失败后不显示错误信息递归处理所有子文件显示执行过程详细信息显示帮助信息不特殊对待根目录禁止对根目录进行递归操作使用指定参考文件的权限显示版本信息参考示例设定某个文件的权限为设定某个文件让任何人都可以读取设定某个目录及其内部的子文件可被任何人读取为某个二进制命令文件新增特殊权限位所属用户增加可读权限所属用户减少可读权限所属用户设置可读权限给所有人增加可读权限同时修改多个权限同时修改多个权限给所有人增加读写执行权限小心使用不是必须不要权限目录修改目录及目录下所有文件的权限一般情况下目录的默认权限是普通文件的权限是补充说明第位表示文件类型表示目录表示文件第位表示文件所有者的权限第位表示用户组的权限第位表示其他用户的权限权限使用四种符号表示表示读权限文件可以被查看表示写权限文件可以被修改表示执行权限文件可以被执行表示没有权限超级用户用来修改文件的属主和文件组权限命令来自英文单词的缩写中文译为消除其功能是删除文件或目录一次可以删除多个文件或递归删除目录及其内的所有子文件也是一个很危险的命令使用的时候要特别当心尤其对于新手更要格外注意例如执行命令会清空系统中所有的文件甚至无法恢复回来所以我们在执行之前一定要再次确认在在哪个目录中到底要删除什么文件考虑好后再敲击键要时刻保持清醒的头脑语法格式参数文件名常用参数仅删除无子文件的空目录强制删除文件而不询问删除文件前询问用户是否确认递归删除目录及其内全部子文件显示执行过程详细信息显示帮助信息显示版本信息参考示例删除文件时默认会进行二次确认敲击进行确认二次确认后删除不确认文件保留强制删除文件而无须二次确认删除指定目录及其内的全部子文件一并强制删除强制删除当前工作目录内所有以为后缀的文件强制清空当前所在位置的文件但是千万不要在根目录或者一级子目录执行强制清空服务器系统内的所有文件慎用命令来自英文单词的缩写中文译为复制其功能是复制文件或目录命令能够将一个或多个文件或目录复制到指定位置亦常用于文件的备份工作参数用于递归操作复制目录时若忘记添加则会直接报错参数则用于当目标文件已存在时会直接覆盖而不再询问这两个参数尤为常用语法格式参数源文件名目标文件名常用参数功能等价于参数组合覆盖目标文件前先进行备份复制链接文件时将目标文件也建立为链接文件若目标文件已存在则会直接覆盖若目标文件已存在则会询问是否覆盖对源文件建立硬链接而非复制文件保留源文件或目录的所有属性信息递归复制所有子文件对源文件建立软链接而非复制文件显示执行过程详细信息参考示例使用这些命令之前建议查看文件是否在如果不在会操作失败复制指定的源文件并定义新文件的名称相当于文件备份复制指定的源目录并定义新目录的名称复制文件时保留其原始权限及用户归属信息将指定文件复制到目录中并覆盖已有文件不进行询问将多个文件一同复制到目录中注意拷贝操作会有新的一份文件生成所以源文件依旧存在如果只需要一份文件而是移动了文件的位置请用命令拷贝文件到指定目录源文件依旧存在移动文件到指定目录源文件不存在共享文件拷贝从共享中拷贝文件到虚拟机的家目录从家目录考别文件到共享文件目录从盘拷贝东西到家目录盘地址命令来自英文单词的缩写中文译为链接其功能是为某个文件在另外一个位置建立同步的链接系统中的链接文件有两种形式一种是硬链接另一种是软链接软链接相当于系统中的快捷方式文件原始文件被移动或删除后软链接文件也将无法使用硬链接则是将文件的属性块进行了复制因此把原始文件移动或删除后硬链接文件依然可以使用语法格式参数源文件名目标文件名常用参数为已存在的目标文件创建备份允许管理员创建目录的硬链接强制创建链接而不询问若目标文件已存在则需要用户二次确认若目标文件为软链接找到其对应文件将指向目录的软链接视为普通文件若目标文件为软链接直接链接它自身创建相对于文件位置的软链接对源文件创建软链接设置备份文件的后缀设置链接文件存放于哪个目录显示执行过程详细信息备份已存在的文件显示帮助信息显示版本信息参考示例为指定的源文件创建快捷方式默认为硬链接形式为指定的源文件创建快捷方式设定为软链接形式为指定的源文件创硬连接并输出制作的过程信息命令来自英文词组的缩写其功能是显示当前工作目录的路径即显示所在位置的绝对路径在实际工作中我们经常会在不同目录之间进行切换为了防止迷路可以使用命令快速查看当前所处的工作目录路径方便开展后续工作语法格式参数常用参数显示逻辑路径显示实际物理地址显示版本信息显示帮助信息参考示例查看当前工作目录路径编辑器命令是家目录也是每次终端打开的主目录位置一般是用户名是当前目录一般根据实际的位置有关可以判断当前位置是上级目录一般是当前位置的上一级目录也可以通过判断位置命令是提权命令在没有权限执行的时候在命名最前面加上该命令就会用身份执行但是会要求执行时候输入密码看不见但是输入正确即可命令终端下编辑文件的首选工具号称编辑器之神基本上可以分为三种模式分别是命令模式输入的命令和快捷键默认打开文件时候的模式插入模式进入编辑模式可以编辑文件底行模式调整文件内容常规基本操作后跟文件名打开文件默认进入命令行模式不能编辑文件按下字符即可进入插入模式注意文件左下角会出现插入粘贴开始编辑文件内容按下键切换到命令行模式再按下组合键进入底行模式标志是文件左下角出现不停闪烁的在之后写回车保存退出其他操作命令移动命令所有操作在命令行模式执行默认支持方向键移动向前移动空格向后移动移动到下一行方向下键移动到上一行方向上键向上向前光标当前位置向后向下其他快捷操作移动到行首移动到行尾屏幕滚动下屏幕滚动上定位到屏幕顶端定位到屏幕底端定位到文件开头定位到文件末尾编辑命令插入在光标当前插入在光标行开头插入附加在光标后增加在光标行最后增加新行在光标行下新起一行在光标行上面新起一行删除删除光标所在处字符删除光标前面的字符可以表示删除多少个字符删除行删除光标所在行从光标所在位置开始到行末位删除光标所在行到文件开头的所有数据删除光标所在行到文件末尾的所有数据用来插销刚才的操作剪贴与粘贴剪贴一行粘贴一行复制与粘贴复制一行粘贴一行复制与移动底行模式下执行开始行结束行目标行例如把第一行到第二行复制到第五行开始行结束行目标行例如把第一行到第二行移动到第五行移动到指定行行号行号查找与替换命令查找在命令模式使用在其后直接写需要查询的关键字然后回车来查询表示从光标处开始往下找表示从光标处开始往上找表示严格匹配查找字符比如严格匹配只查找该单词模糊匹配只要包含该单词都高亮显示在当前文档中严格匹配查找单词替换将文件中所有的字符串都替换成和可以使字母也可以是字符串比如将当前文档中所有的小写全部替换成大写的其他常用操作撤销刚才的操作重复刚才的动作挂起恢复关键字补齐自动缩进高亮显示文件名横纵向窗口多窗口切换显示不同去掉显示不同语法保存退出命令保存退出不保存退出保存退出强制保存退出强制不保存退出指定位置保存文件压缩解压缩文件指令命令可以为的文件和目录创建档案利用可以为某一特定文件创建档案备份文件也可以在档案中改变文件或者向档案中加入新的文件最初被用来在磁带上创建档案现在用户可以在任何设备上创建档案利用命令可以把一大堆的文件和目录全部打包成一个文件这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的语法选项参数选项或新增文件到以存在的备份文件设置区块大小或建立新的备份文件目录这个选项用在解压缩若要在特定目录解压缩可以使用这个选项记录文件的差别或或从备份文件中还原文件或列出备份文件的内容或或通过指令处理备份文件或或通过指令处理备份文件备份文件或备份文件指定备份文件或显示指令执行过程添加文件到已经压缩的文件添加改变了和现有的文件到已经存在的压缩文件支持解压文件显示操作过程文件系统边界设置保留原有文件不覆盖保留文件不被覆盖确认压缩文件的正确性操作案例打包将文件目录打包成为包文件解包将包文件释放到当前目录中注意如果要指定位置解包压缩将文件压缩为的压缩文件如果是目录文件则为解压缩将压缩文件解压缩到当前目录如果要指定目录解压缩必须打包压缩命令将文件目录打包压缩为文件将文件目录打包压缩为文件解压缩解包命令将压缩文件直接解压缩解包到当前目录可以将文件用参数指定解压缩到目录比如将压缩文件直接接压缩解包到当前目录离线管理命令命令命令来自英文词组的缩写中文译为红帽软件包管理器其功能是在系统下对软件包进行安装卸载查询验证升级等工作常见的主流系统如等都采用这种软件包管理器推荐用固定搭配软件包名安装软件而卸载软件则用固定搭配软件包名简单好记又好用语法格式参数软件包名常用参数显示所有软件包仅显示组态配置文件仅显示文本文件卸载软件包显示文件或命令属于哪个软件包安装软件包时显示标记信息安装软件包显示软件包的文件列表显示指定的软件包信息显示指定软件包是否已安装显示软件包的依赖关系显示文件状态信息升级软件包显示执行过程信息显示执行过程详细信息使用示例正常安装软件包需要提前下载包文件显示系统已安装过的全部软件包过滤出其中某一个包列出所有已安装软件包按照最近安装或更新时间排序列出最近安装的个软件查询某个软件的安装路径查看包的信息查看某一个程序来自哪个安装包查看安装包的帮助文档位置查看安装的软件的配置文件位置查看安装软件的依赖包查看包将要安装的文件卸载通过软件包安装的某个服务卸载软件包忽略其依赖项升级某个软件包强制安装软件包即使存在版本冲突或其他问题如果需要依赖可以下载依赖并将依赖和程序一起安装主程序依赖依赖练习安装工具测试功能出现表示连接目标服务器和端口成功不是输入的信息是按下会自动输入这个符号并退出连接整体退出当前控制环境卸载工具第三章包源管理命令本地源管理命令命令命令来自英文词组的缩写其功能是在系统中基于技术进行软件包的管理工作技术通用于等主流系统可以让系统管理人员交互式地自动化更新和管理软件包实现从指定服务器自动下载更新删除软件包的工作软件仓库及命令能够自动处理软件依赖关系一次性安装所需的全部软件无须烦琐的操作语法格式参数动作软件包常用参数安装软件包更新软件包检查是否有可用的更新软件包删除软件包显示软件包的信息搜索指定软件包显示指定软件包的描述和概要信息清理过期的缓存设置使用的提示符显示软件包的依赖关系安装本地软件包更新本地软件包显示软件包的依赖关系参考示例清理原有的软件仓库信息缓存建立最新的软件仓库信息缓存默认连接原来的互联网源安装指定的服务及相关软件包更新指定的服务及相关软件包卸载指定的服务及相关软件包使用查找软件包显示可安装的软件包组列表列出所有可安裝的软件清单显示指定服务的软件信息列出所有可更新的软件清单安装所有更新软件列出所有已安装的软件包出所有已安裝的软件包信息本地源实现过程及原理先在服务器上创建仓库在仓库中事先存储了众多包以及包的相关的元数据文件放置于特定目录下当客户端利用工具进行安装时会自动下载中的元数据查询元数据是否存在相关的包及依赖关系自动从仓库中找到相关包下载并安装需要依赖于环境依赖于服务端和客户端允许跨网络服务端需要的两个文件包文件夹中元数据文件夹目录软件的目录软件的依赖关系软件的位置客户端的配置文件中地址一定要写到这两个文件夹和的上级目录最终形成两个文件夹包文件夹一般取名和元数据文件夹仓库类型光盘的仓库基本仓库比较常用的扩展仓库比较新本地光盘仓库搭建过程虚拟机加载并连接系统安装光盘挂载光盘到本地临时目录是挂载命令也叫映射命令可以将指定文件映射到另一个位置是根目录是目录下的一级子目录是目录下的光盘文件是根目录是目录下的一级子目录因为这是系统临时挂载目录如果映射成功如果映射不成功根据实际错误找解决方案记着可能会失效关机重启光盘断开如果要主动断开用会主动断开挂载如果有文件就备份本地原有配置没有则跳过本操作创建新的本地配置文件要注意文件权限问题打开或者再打开写入如下内容主配置文件默认的仓库是官方的源需要联网才可以使用保存着的全局设置检查来源是否合法需要有制作者的公钥信息同时可以安装个软件包最小为设置为或者则不限制删除包时是否将不再使用的包删除升级时自动选择安装最新版即使缺少包的依赖不解决依赖安装刷新缓存本地光盘源仓库创建成功测试安装软件网络源管理命令局域网源配置建设一个本地网络仓库给本地局域网用户提供下载安装第三方源配置在线获取最新安装文件的通道局域网方式源配置服务器提供安装服务安装并启动关闭查看当前状态关闭状态的效果临时关闭防火墙查看防火墙状态空圈表示关闭绿点表示开启按键退出查看状态命令启动查看是否启动查看完毕用键退出服务的目录文件在进入该目录创建文件夹挂载光盘到在浏览器输入本机比如出现下面页面代表配置完成中文乱码解决方法在配置文件中加入客户端访问服务器的源当在上一台机器已经配置好后我们选择同一网段内网其他机器配置源去访问此台服务器如果使用拿不到地址是因为我们都是同一个虚拟机拷贝的会出现地址冲突网络接口备份重启虚拟机机器设备在重启阶段会自动创建一个新的接口有地址后测试一下当前客户机是否与服务器联通情况测试当前主机是否与服务器连接畅通加入如下内容清理旧缓存建立新缓存查看仓库列表测试安装建立第三方网络源要求互联网要畅通阿里云网络源的镜像站点为版本是在里点击注此处先查看自己的发行版本信息选择相应的仓库仓库文件可以自己写也可以从网站下载验证互联网源是否配置成功删除旧缓存创建新缓存验证能否装包成功最后显示如下表示编译器安装成功版本清华源镜像站点为中国科技大学镜像站点网易开源镜像站等等很多大学开源镜像站点扩展源是的一个软件源里面包含了许多基本源里没有的软件然后可以安装其他扩展软件源码管理命令源码包的安装编译需要编译环境开发环境开发库开发工具常用的编译环境有种环境的编译器环境的编译器进行编译的动作编译命令的统一项目管理工具编译时有可能调用也有可能调用使用文件定义按何种次序去编译源程序文件中的源程序源码安装三部曲常见第一步定制组件指定安装路径例如启用或禁用某项功能例如和其它软件关联例如检查安装环境例如是否有编译器是否满足软件的依赖需求检测通过后生成文件第二步生成程序执行命令进行编译可以使用指定核心数进行编译按文件进行编译编译成可执行二进制文件生成各类模块和主程序第三步按定义好的路径拷贝至安装目录中上面介绍的源码三部曲不能百分百通用于所有源码包也就是说源码包的安装并非存在标准安装步骤但是大部分源码安装都是类似的步骤建议拿到源码包解压后然后进入到目录找相关的帮助文档通常会以或者为文件名编辑器写代码编译器编代码调试器调程序平台操作系统源码包编译实例下面通过编译安装来深入理解源码包安装基础环境准备编译器依赖包下载源码包源码包一定要上官方站点下载其他站点不安全解压源码包并进入相应目录配置相关的选项并生成配置编译环境以上结果就是文件生成请检查如果没有就是失败编译并安装开始编译源码成功就有程序在目录生成开始安装程序建立软链接测试效果停止的进入当前生成的程序目录启动程序它也是一个服务器可以通过浏览器访问打开浏览器输入可能出现的错误解决方案解决方案解决方案解决方案解决方案将行注释掉解决方案进入目录下修改文件将去掉源码包安装示例安装黑客帝国矩阵效果安装安装安装安装验证程序是否可以执行退出程序按键可能出现的错误对未定义的引用报错致命错误没有那个文件或目录原因主要因为系统中没有找到软件包解决对未定义的引用报错错误原因需要的包都安装了可能是软件配置时出现了问题解决删除该目录重新解压重新配置扩展在选择服务器时和都是备受推崇的选择然而对于许多开发者和管理员来说选择哪一个可能会成为一个难以解决的问题因此我们需要对两者进行比较以确定哪一个更适合我们的需求首先以其高效的性能而闻名它是一个轻量级的服务器可以处理大量并发连接相比之下是一个成熟的服务器但它在处理并发连接时可能会出现性能瓶颈因此如果您需要处理大量并发连接可能是更好的选择其次具有更好的负载均衡功能它可以在多个服务器之间均衡地分配流量以提高性能和可靠性也可以实现负载均衡但相对来说要更为复杂最后的配置文件比更为简单和易于理解这意味着您可以更快地配置服务器并更快地上线相比之下的配置可能会更加复杂需要更多的时间和精力第四章网络管理命令网络基础知识层模型应用层应用程序及接口表示层对数据进行转换加密和压缩会话层建立管理和终止会话传输层提供可靠的端到端的报文传输和差错控制网络层将分组从源端传送到目的端提供网络互联数据链路层将分组数据封装成帧提供节点到节点方式的传输物理层在媒体上传输比特提供机械的和电气的规约层模型应用层表示层会话层应用层应用程序传输层传输层网络层互联网层操作系统数据链路层网卡层物理层硬件设备驱动程序与网络接口地址每一个设备都拥有唯一的地址共位使用十六进制表示以太网协议是一种使用广泛的局域网技术是一种应用于数据链路层的协议使用以太网可以完成相邻设备的数据帧传输目的地址源地址类型帧数据的划分按照网络的作用范围进行分类分别为广域网几十到几千公里城域网局域网左右个人局域网米左右地址分类地址互联网中的地址特殊地址网络地址广播地址类地址类地址类地址类地址类地址互联网中的地址有两个字段组成第一个字段是网络号标志着主机或路由器要连接到的网络第二个字段是主机号标志着一台主机号在他前面的网络号所指明的网络范围内必须是唯一的特殊地址网络地址广播地址等网络号特定值主机号全是网络地址表示一个网络如网络号特定值主机号全是直接广播地址指特定网络中的所有主机如网络号主机号都为有限广播地址指本网络中的所有主机网络号主机号都为未获取地址的主机或路由表中的默认路由网络号主机号全或全除外的任何数环回地址用于本主机软件环回测试网络号主机号全或全除外的任何数当不能正常得到地址时系统自动分配的地址单播单个源节点向单个目的结点发送分组广播单个源节点向同网络中的所有结点发送分组多播单个源节点向多个目的结点发送分组任播单个源节点向多个目的结点中距离最近的单个结点发送分组和的特点传输控制协议仅单播不支持多播广播面向连接可靠按序流量控制发送速率不超过接收方的接收能力拥塞控制网络过载时限制发送方的发送速率用户数据报协议支持单播多播广播无连接不可靠可以任何速率发送数据接口管理命令自动化运维系统运维操作系统管理配置日志权限运维数据库安全运维系统安全应用软件安全已知漏洞攻击防御网络运维交换机路由器三层设备命令字符终端可以立即生效但系统重启后配置会丢失命令字符终端可以立即生效且系统重启后配置也不会丢失命令可视化终端立即生效重启有效命令指令可以显示或操作路由网路设备设置路由策略和通道此命令的适用范围选项对象可以是网络设备设备的协议地址路由表策略缓存通道多播地址多播路由是操作命令不同的对象有不同的命令配置对象支持的命令对象支持的命令对象支持的命令对象支持的命令对象支持的命令对象支持的命令支持的命令支持的命令其中选项列表显示版本信息显示帮助信息显示详细的信息指定协议类型等同等同等同每条记录输出一行使用系统名字解析使用命令可以配置临时网络的连接信息相关命令示例如下显示网络设备运行状态协议地址管理路由表管理显示更详细的设备信息网络设备名仅显示指定的网络设备名的信息网络设备名将指定的网络设备下线网络设备名将指定的网络设备下线网络设备名查看指定网络设备网卡名称的配置信息如果加了选项会添加相关的统计信息如果接收到的或传送的数据包等地址掩码网络设备名添加一个临时的的地址重启后失效添加完成查看效果地址掩码网络设备名删除网卡的临时地址删除完成查看效果也可以修改配置文件添加地址但是在中已经不推荐修改配置文件了而推荐使用命令的方式来进行配置要修改配置文件我们需要编辑目录下文件中注意不同的电脑这个文件的名称可能不同下面我们把这个文件编辑一下把我们固定写到这个文件中并指定和网关省略其他省略保持不变常用其他详见附件命令命令自动把配置写到接口是物理设备一个物理设置可以拥有多个配置文件但只能有一个配置文件属于使用状态配置文件的生成与使用状态均由控制查看网卡设备语法或者简写为使用示例显示指定设备的详细信息连接网络就是激活设备断开网络也就是把网卡禁用了查看网卡配置语法或简写为查看网卡信息查看自动获取的网关地址查看当前网卡的配置配置网卡非交互式需求修改的地址为并且是自动连接为网关为子网掩码为然后再添加一个地址如果没有立即生效需要重启服务命令说明表示要修改的网卡表示网络连接方式为手动配置表示自动连接即系统一启动网络就可以用配置格式的地址和子网掩码配置网关信息就是路由指向下一跳配置服务域名解析服务表示再添加一个地址表示删除一个地址交互式连接网络即让网卡可用并使设置立即生效断开网络删除网络注意这个命令不要执行说明在里有个维度连接和设备这是多对一的关系想给某个网卡配首先要能纳管这个网卡设备里存在的网卡即可以看到的就是纳管的接着可以为一个设备配置多个连接即可以看到的每个连接可以理解为一个配置文件同一时刻一个设备只能有一个连接活跃可以通过切换连接是设备的意思一般都是某个网卡设备是连接的意思一般都是某个配置文件一个可以有多个但是一个一定只有一个常用让命令立即生效连接网络让命令立即生效断开网络最后也可以通过如下方式让命令生效需要重新取消激活激活或者重启网络服务才能使之生效命令这个命令是用于可视化的方式来进行配置网络问题汇总连接激活失败解决方案第五章系统维护命令网络维护命令命令命令命令命令命令命令命令命令的功能是安全地远程连接服务器主机系统作为套件中的客户端连接工具命令可以让我们轻松地基于加密协议进行远程主机访问从而实现对远程服务器的管理工作默认已经安装软件包查看状态前提网络要畅通服务器上要的服务要启动语法格式参数域名或地址常用参数使用协议版本使用协议版本基于网络协议基于网络协议关闭认证代理连接转发功能开启认证代理连接转发功能设置本机对外提供服务的地址设置会话的密码算法压缩所有数据设置密钥文件设置登录用户名不执行远程指令设置配置参数选项设置远程服务器上的端口号静默执行模式请求远程主机上的子系统调用显示执行过程详细信息显示版本信息参考示例基于协议远程访问服务器主机系统用默认的身份访问目标服务器这里输入的密码使用指定的用户身份登录远程服务器主机系统登录远程服务器主机系统后执行一条命令然后直接返回当前用户强制使用版本的加密协议连接远程服务器主机也可以用等可视化的工具直接通过的号端口连接访问命令命令来自英文词组的缩写其功能是显示各种网络相关信息例如网络连接状态路由表信息接口状态多播成员等命令不仅应用于系统而且及均已默认支持并且可用参数也相同有经验的运维人员可以直接上手语法格式参数常用参数显示所有连接中的接口信息设置网络连接类型持续显示网络状态显示路由配置信息显示路由缓存信息显示多重广播功能群组成员名单显示帮助信息显示网络界面信息表单仅显示正在监听的服务状态直接使用地址而不是域名显示网络硬件外围设备的符号链接名称显示计时器数据信息显示正在使用接口的程序显示路由表信息显示网络工作信息统计表信息显示传输协议的连线状态显示传输协议的连线状态显示版本信息参考示例显示系统网络状态中的所有连接信息显示系统网络状态中的连接信息显示系统网络状态中的连接端口号使用信息显示网卡当前状态信息显示网络路由表状态信息找到某个服务对应的连接信息对照学习指令显示所有套接字显示处于监听状态的套接字不解析服务名称以数字形式显示显示使用套接字的进程显示协议的套接字显示协议的套接字参数输出常用命令命令来自英文词组的缩写其功能是动态获取或释放地址使用命令前需要将网卡模式设置成自动获取否则静态模式的网卡不会主动向服务器获取如地址等网卡信息默认没有安装这个命令需要手动安装命令在包中子模块属于动态网络地址管理单元语法格式参数网卡名常用参数基于网络协议基于网络协议以前台方式运行设置向服务器发送的设置向服务器发送的主机名不配置任何接口设置客户端监听的端口号静默执行模式释放地址在获取地址前指定服务器显示执行过程详细信息设置要发送给服务器的厂商类标识符即使没有找到广播接口也继续运行停止客户端而不释放当前租约设置最大响应超时时间显示版本信息参考用例通过指定网卡发起请求获取网卡参数释放系统中已获取的网卡参数向指定的服务器请求获取网卡参数手动停止执行服务进程命令命令来自英文词组的缩写其功能是显示或设置网络设备参数信息在系统中与之类似的命令为同样的功能可以使用去完成通常不建议使用命令配置网络设备的参数信息因为一旦服务器重启配置过的参数会自动失效因此还是编写到配置文件中更稳妥语法格式参数网卡名动作常用参数显示所有网卡状态显示简短状态列表显示执行过程详细信息常用动作设置网络设备的地址删除网络设备的地址关闭指定的网络设备启动指定的网络设备参考示例显示系统的网络设备信息对指定的网卡设备依次进行关闭和启动操作对指定的网卡设备执行地址修改操作对指定的网卡设备执行地址修改操作对指定的网卡设备依次进行协议关闭和开启操作就是实际网卡名称你要配置的地址配置给地址的子网掩码就是个配置和后启动改网卡网卡停用网卡重新配置网卡启动对照学习命令命令的功能是测试主机间网络的连通性它发送出基于传输协议的数据包要求对方主机予以回复若对方主机的网络功能没有问题且防火墙放行流量则就会回复该信息我们也就可得知对方主机系统在线并运行正常了不过值得注意的是命令在下与在下有一定差异系统下的命令会发送出去个请求后自动结束该命令而系统则不会自动终止需要用户手动按下组合键才能结束或是发起命令时加入参数限定发送数据包的个数语法格式参数域名或地址常用参数基于网络协议基于网络协议发送数据时发出鸣响声允许一个广播地址设置发送数据包的次数使用指定的网络接口送出数据包仅输出数值设置填满数据包的范本样式静默执行模式记录路由过程信息参考示例测试与指定域名之间的网络连通性需手动按下组合键结束命令测试与指定主机之间的网络连通性发送请求包限定为个测试与指定域名之间的网络连通性发送请求包限定为个测试与指定主机之间的网络连通性发送个请求包每次间隔最长等待时间为互联网出故障的解决流程自己的网卡确认网卡工作正常的自己的网关确认下一跳工作正常服务器确认互联网能工作组成国内域名解析服务器国外域名解析服务器陕西省的域名解析服务器公共网站比如测试与外网服务器的联通添加网关路由指令命令是一个防火墙策略管理工具的命令同时也是一个基于内核级别的防火墙服务用户可以基于它来对数据包进行过滤操作拒绝掉危险的外部请求流量保护内网的安全命令默认仅支持协议如需协议支持需使用命令语法格式参数对象常用参数向规则链中追加条目初始化包计数器和字节计数器从规则链中删除条目重命名指定的用户自定链清除规则链中的现有条目设置要管理的表显示帮助信息设置数据包进入本机的网络接口设置要跳转的目标向规则链中插入条目显示规则链中的已有条目创建新的用户自定义规则链设置数据包离开本机所使用的网络接口设置要匹配数据包的协议类型设置规则链中的默认目标策略替换规则链中的指定条目设置要匹配数据包的源地址显示执行过程详细信息删除指定的用户自定链清空规则链中的包计数器和字节计数器参考示例显示当前防火墙策略中全部的过滤表信息显示当前防火墙策略中指定的表信息禁止指定的远程主机访问本地全部的服务通通禁止禁止指定的远程主机访问本地的某个端口其余允许清理后全部放开同行进程管理命令命令命令命令命令命令命令来自英文单词的缩写中文译为进程其功能是显示当前系统的进程状态使用命令可以查看到进程的所有信息例如进程的号码发起者系统资源使用占比运行状态等命令可帮助我们及时发现哪些进程出现僵死或不可中断等异常情况命令经常会与命令搭配使用以中断和删除不必要的服务进程避免服务器的资源浪费语法格式参数常用参数显示所有进程信息不显示程序路径不显示阶段作业程序显示环境变量信息用字符显示树状结构显示所有程序及其所属组的程序显示属于指定终端主机的程序状态显示当前终端主机下的所有程序使用用户为主的格式来显示程序状态显示属于指定用户的程序状态使用虚拟内存的格式显示程序状态使用宽阔的格式显示程序状态参考示例显示系统中全部的进程信息含详细信息占用率显示系统中全部的进程信息含详细信息结合管道操作符将当前系统运行状态中指定的进程信息过滤出来将当前系统运行状态中指定用户的进程信息过滤出来结合管道操作符与命令依据处理器使用量第三列情况降序排序通过和内存使用来查看占用资源的进程根据使用来升序内存使用来升序排序并通过管道显示前个结果命令命令来自英文词组的缩写其功能是用于以树状图形式显示进程信息帮助管理员更好地了解进程间的关系系统中常用命令查看进程状态信息但是却无法了解进程之间的依赖关系哪个是父进程哪个是子进程这些信息则可通过命令进行查看语法格式参数常用参数显示完整信息使用字符绘制树不使用精简标示法显示进程组使用终端机的列绘图字符特别标明现在执行的程序使用长格式显示树状图依据排序上下级进程参考示例以树状图的形式显示当前系统中全部进程默认以树状图的形式显示当前系统中全部进程带有进程号以更完整更丰富的信息样式显示每个进程命令是一个在和其他类系统上常用的实时系统监控工具它提供了一个动态的交互式的实时视图显示系统的整体性能信息以及正在运行的进程的相关信息语法格式参数说明秒数指定命令的刷新时间间隔单位为秒次数指定命令运行的次数后自动退出进程仅显示指定进程的信息用户名仅显示指定用户名的进程信息在进程信息中显示线程详细信息不显示闲置或无用的进程以批处理模式运行直接将结果输出到文件显示完整的命令行而不截断累计显示进程的使用时间参考示例显示进程信息显示完整命令设置信息更新时间为秒显示进程号为的进程信息内存占用率等补充在命令下按以下大写字母分别按不同的维度进行排序根据内存使用情况排序根据使用情况排序根据进程排序根据进程使用的时间排序当然你也可以在命令启动时直接对加参数比如以使用情况排序命令命令的功能是杀死结束进程系统中如需结束某个进程既可以使用如或这样的管理命令来结束服务也可以使用命令直接结束进程信息如使用命令后进程并没有结束则可以使用信号进行强制杀死动作语法格式参数进程号常用参数不限制命令名与进程号的对应关系不发送任何信号显示系统支持的信号列表设置向进程发送的信号参考示例列出系统支持的全部信号列表结束某个指定的进程数字为对应的值强制结束某个指定的进程数字为对应的值扩展命令该命令非常强大它通过支持进程名而不是来结束进程命令也支持通配符使用时候要小心有可能结束的重要的系统进程也可以批量结束进程系统管理命令命令命令命令命令命令关机重启命令命令命令的功能是根据给定的路径和条件查找相关文件或目录其参数灵活方便且支持正则表达式结合管道符后能够实现更加复杂的功能是系统运维人员必须掌握的命令之一命令通常进行的是从根目录开始的全盘搜索有别于等有条件或部分文件的搜索对于服务器负载较高的情况建议不要在高峰时期用命令的模糊搜索这会消耗较多的系统资源语法格式路径条件文件名常用参数匹配文件名匹配无所属主的文件匹配文件权限匹配无所属组的文件匹配文件所属主匹配比指定文件更新的文件匹配文件所属组匹配文件类型匹配最后修改文件内容时间匹配文件大小操作示例全盘搜索系统中所有以结尾的文件全盘搜索并从结果中展示有关相关的内容在目录中搜索所有大于的文件在目录中搜索所有属于指定用户的文件列出当前工作目录中的所有文件目录以及子文件信息在目录下搜索所有指定后缀的文件搜索当前工作目录中所有近天被修改过的文件全盘搜索系统中所有类型为目录且权限为的目录文件全盘搜索系统中所有类型为普通文件且可以执行的文件信息全盘搜索系统中所有后缀为的文件并删除所有查找到的文件命令命令来自英文词组的拼写其功能是用于显示命令及相关文件的路径位置信息能够找到命令二进制程序命令源代码帮助手册等相关的文件路径位置信息帮助我们更好地管理这些文件有别于命令进行的全盘搜索命令查找速度非常快因为它不是在磁盘中乱找而是在指定数据库中查询该数据库是系统自动创建的包含有本地所有文件的信息每天自动更新一次但正因为这样命令的搜索结果会不及时比如刚添加的文件可能搜不到原因就是该数据库文件没有被更新管理人员则手动执行命令进行更新即可语法格式参数命令名常用参数查找二进制程序或命令文件查找帮助手册文件仅查找源代码文件查找可执行文件源代码及帮助文档参考示例查找指定命令程序及相关文件所在位置仅查找指定命令程序文件所在位置仅查找指定命令的帮助文件所在位置命令命令的功能是用于查找命令文件能够快速搜索二进制程序所对应的位置如果我们既不关心同名文件与也不关心命令所对应的源代码和帮助文件仅仅是想找到命令本身所在的路径那么这个命令就太合适了语法格式参数文件名常用参数显示变量中所有匹配的可执行文件设置文件名长度不含路径设置文件名长度含路径显示版本信息设置输出时栏位的宽度参考示例查找某个指定命令文件所在位置查找多个指定命令文件所在位置命令英文全拼命令用于显示操作系统信息例如内核版本主机名处理器类型等可显示电脑以及操作系统的相关信息语法参数说明或显示全部的信息包括内核名称主机名操作系统版本处理器类型等或显示处理器类型或显示主机名或显示内核版本号或显示操作系统名称显示操作系统的版本显示帮助操作示例显示系统信息显示计算机类型显示计算机名显示操作系统发行编号显示操作系统名称注意区别发行版版本号或者命令命令的功能是显示与管理历史命令记录系统默认会记录用户执行过的有命令可以使用命令查阅它们也可以对其记录进行修改和删除操作语法格式参数常用参数保存命令记录读取命令记录到缓冲区清空命令记录添加命令记录到缓冲区删除指定序号的命令记录将缓冲区信息写入历史文件读取命令记录操作示例显示执行过的全部命令记录显示最近执行过的条命令将本次缓存区信息写入历史文件将历史文件中的信息读入当前缓冲区清空本次缓冲区及历史文件中的信息关机重启命令重启命令立刻重启用户使用过分钟自动重启用户使用在时间为时候重启用户使用如果是通过命令设置重启的话可以用命令取消重启关机命令立刻关机立刻关机立刻关机用户使用分钟后自动关机如果是通过命令设置关机的话可以用命令取消重启磁盘管理命令英文全称其功能是查看系统的磁盘使用情况英文全称列出文件系统的整体磁盘使用量英文全称检查磁盘空间使用量用于磁盘分区创建并构建一个文件系统挂载分区命令来自英文词组的缩写其功能是查看系统的磁盘使用情况语法格式参数常用参数显示所有设备信息显示权限信息显示以字节为单位的设备大小不显示标题排除指定设备输出列信息参考示例查看磁盘信息添加一个的类型的磁盘一个的类型的磁盘注意要添加磁盘我们先关闭虚拟机添加好上面的两个磁盘后然后再查看磁盘信息表示第一块硬盘如果是第二块则名称为第三块为依次类推表示第一块光盘如果是则表示第二块光盘表示第一块类型的硬盘表示第二块类型的硬盘显示系统中磁盘设备的归属及权限信息以列表格式显示磁盘设备信息并且不显示标题命令参数功能检查文件系统的磁盘空间占用情况可以利用该命令来获取硬盘被占用了多少空间目前还剩下多少空间等信息语法目录或文件名选项与参数列出所有的文件系统包括系统特有的等文件系统以的容量显示各文件系统以的容量显示各文件系统以人们较易阅读的等格式自行显示以取代的进位方式显示文件系统类型连同该的名称例如也列出不用硬盘容量而以的数量来显示参考示例将系统内所有的文件系统列出来将容量结果以易读的容量格式显示出来将系统内的所有特殊文件格式及名称都列出来将底下的可用的磁盘容量以易读的容量格式显示查看文件系统类型扩展是一个全的文件系统可以支持上百万字节的存储空间对于特大文件及小尺寸文件的支持都表现很出众支持特大数量的目录最大可支持的文件大小为最大文件系统尺寸为支持大文件和大分区读写文件速度快其中的和文件系统的区别的使用比好硬盘文件系统主流基于内核的虚拟内存的动态文件系统断电易失速度快网络文件系统淘宝内部使用的专门用来存放淘宝的图片和文件的文件系统分布式的存放搜索数据存放的文件系统分布式中分区的查看接口盘一般是以开头的接口的盘开头虚拟云磁盘开头命令也是查看使用空间的但是与命令不同的是命令是对文件和目录磁盘使用的空间的查看还是和命令有一些区别的这里介绍命令语法文件或目录名称选项与参数列出所有的文件与目录容量因为默认仅统计目录底下的文件量而已以人们较易读的容量格式显示仅显示指定目录或文件的总大小而不显示其子目录的大小包括子目录下的总计与有点差别以列出容量显示以列出容量显示参考示例只列出当前目录下的所有文件夹容量包括隐藏文件夹方便阅读的格式显示目录所占空间情况将文件的容量也列出来检查根目录底下每个目录所占用的容量显示指定文件所占空间如果我们想要在系统里面新增一颗硬盘时应该有哪些动作需要做的呢对磁盘进行分割以建立可用的可以用命令完成对该进行行格式化以建立系统可用的若想要仔细一点则可对刚刚建立好的进行检验在系统上需要建立挂载点亦即是目录并将他挂载上来是的磁盘分区表操作工具语法装置名称选项与参数输出后面接的装置所有的分区内容若仅有时则系统将会把整个系统内能够搜寻到的装置的分区均列出来指定每个硬盘分区的大小可用数值为兼容模式或默认显示帮助信息搭配参数列表会用分区数目取代柱面数目来表示每个分区的起始地址显示版本信息将指定的分区大小输出到标准输出上以块为单位指定硬盘的柱面数参考示例列出所有分区信息找出你系统中的根目录所在磁盘并查阅该硬盘内的相关信息一般常规选项删除一个分区将分区格式转化为将分区格式转化为添加一个分区打印分区表信息保存并退出退出比如运行以下命令对数据盘进行分区我们看到有一个的设备信息如下接下来我们给这个设备进行分区输入查看数据盘的分区情况本示例中数据盘没有分区输入创建一个新分区输入选择分区类型为主分区说明创建一个单分区数据盘可以只创建主分区如果要创建四个以上分区您应该至少选择一次创建至少一个扩展分区输入分区编号按回车键本示例中仅创建一个分区直接按回车键采用默认值输入第一个可用的扇区编号按回车键本示例中直接按回车键采用默认值输入最后一个扇区编号按回车键本示例中仅创建一个分区直接按回车键采用默认值输入查看该数据盘的规划分区情况输入开始分区并在完成分区后退出执行命令后发现这个分区已经建好磁盘格式化磁盘分割完毕后自然就是要进行文件系统的格式化格式化的命令非常的简单使用命令语法文件系统格式装置文件名选项与参数可以接文件系统格式例如等系统有支持才会生效参考示例将分区可指定你自己的分区格式化为文件系统我们继续以上分区后的操作然后开始格式化系统使用扩展检查指定的磁盘设备并进行格式化操作对指定的磁盘设备进行格式化操作保留容量给管理员对磁盘设备进行格式化操作添加卷标识并修改块大小使用这个命令查询时发现所有的分区实际上还是一个块设备需要将它挂载到文件系统的某个已存在的目录下这个时候就需要使用命令命令的磁盘挂载使用命令卸载使用命令磁盘挂载语法文件系统名额外选项装置文件名挂载点磁盘卸载命令语法装置文件名或挂载点强制卸除可用在类似网络文件系统无法读取到的情况下不升级情况下卸除操作示例上述命令将挂载到了这个目录下并且这个目录占用的空间是在上面的用默认的方式将挂载到上面卸载查看当前系统中已有的文件系统信息挂载文件中所有已定义的设备文件强制以文件系统挂载硬盘设备到指定目录以上都是临时一次性操作如果需要永久挂载方案一这这个目录下自动挂载系统启动文件这个目录下写入挂载信息一定要检查自己有没有写错注意这个文件一旦写错则服务器将无法启动一定要谨慎使用这个操作第二种写法使用可以查看到号使用号写入方案二最优在文件中写入挂载命令加上执行权限每次启动系统就会进行自动挂载这两个目录随便修改一个即可写入挂载命令给文件加上执行权限这样每次系统在启动的时候都会执行这个文件的命令方案三在文件加入挂载命令启动的时候就可以自动加载文件中的挂载命令手动挂载把手动挂载写入到开机启动的文件中卸载分区挂载点挂载点强行卸载挂载点安装挂载点会获得一个类似于获得的逻辑卷管理逻辑卷由以下几个部分组成物理设备一般指的是系统存储设备如等物理卷它是由多个分区或整个硬盘组成卷组它可以看成单独的逻辑磁盘一个卷组中至少包括一个在卷组创建好后可以动态添加到卷组中逻辑卷相当于物理分区它是建立在卷组之上常用的部署命令如下功能物理卷管理卷组管理逻辑卷管理扫描建立显示删除创建物理卷的命令为要创建物理卷的设备或分区查看如果希望查看详细的物理卷信息我们使用卷组管理卷组创建的命令是物理卷名称逻辑卷管理逻辑卷的创建命令为逻辑卷名称逻辑卷大小卷组名称查看逻辑卷如果希望查看的详细信息格式化逻辑卷我们将逻辑卷格式化为类型的文件系统挂载逻辑卷我们将格式化好的逻辑卷挂载到目录上删除逻辑卷卷组和物理卷查看卸载验证是否卸载成功删除逻辑卷命令的格式为逻辑卷路径删除卷组命令的格式为卷组名称删除物理卷交换分区管理也有相应的命令分区设备名将指定的分区格式化为交换文件系统交换分区交换分区设备名启用指定的交换分区交换分区设备名禁用指定的交换分区查看交换分区的使用情况以兆字节为单位显示物理内存交换分区的使用情况第六章用户管理命令用户管理命令用户增加命令用户修改命令密码修改命令用户删除命令用户提权命令命令命令的功能是创建并设置用户信息使用命令可以自动完成用户信息基本组家目录等的创建工作并在创建过程中对用户初始信息进行定制语法格式参数用户名常用参数添加备注文字设置新用户登录时所使用的家目录设置新用户的预设值设置用户的终止日期设置用户过期几日后永久停权设置用户对应的基本用户组设置用户对应的扩展用户组显示帮助信息不建立用户家目录不建立以用户名称为名的组允许创建重复的用户设置用户的密码建立系统用户设置根目录设置新用户的默认终端设置用户参考示例创建指定的用户信息创建指定的用户信息但不创建家目录亦不让登录系统创建指定的用户信息并自定义值创建指定的用户信息并追加指定组为该用户的扩展组创建指定的用户信息并指定过期时间扩展新建用户并将其加入指定用户组作为其主用户组每个用户有且只有一个主用户组用户组名称用户名称或者新建用户并将其加入指定附属用户组附属用户组可以有多个多个附属组名称用逗号分隔即可用户组名称用户名称命令命令来自英文单词的缩写其功能是修改用户的密码值同时也可以对用户进行锁定等操作但需要管理员身份才可以执行当使用命令来添加用户后默认该用户还不能登录因为没有为该用户设置密码只有设置了密码后才可以登录而设置密码的命令是常用格式参数用户名常用参数清除已有密码下次登录时强制修改密码强制执行操作而不询问设置用户在期满后能仍能正常使用锁定用户的密码值不允许修改显示当前密码状态解锁用户的密码值允许修改设置密码到期前几天收到警告信息设置最大密码有效期显示帮助信息参考示例修改当前登录用户的密码值注意输入过程中密码不可见修改指定用户的密码值锁定指定用户的密码值不允许其进行修改解锁指定用户的密码值允许其进行修改强制指定的用户在下次登录时必须重置其密码删除指定用户的密码值查看指定用户的密码状态扩展网上搜索不同平台的如下方法重置密码方法首先重新启动系统然后快速按下键进入界面然后再最后一行之前输入如图输入好后按来重启系统重启启动后按任意键继续然后在第一个命令提示符下输入输入好后回车再输入后回车如下图所示然后在命令提示符下输入如下命令然后再后面的命令提示符下输入两次来退出然后系统会自动重新启动启动好后输入和后就可以登录了命令命令来自英文词组的缩写其功能是修改用户信息中的各项参数在创建用户后如果发现信息错误可以不用删除而是用命令直接修改用户信息并且参数会立即生效语法格式参数用户名常用参数将用户添加至扩展组中锁定用户密码使密码立即失效修改用户的备注文字将用户家目录内容移动到新位置修改用户登录时的家目录允许重复的用户修改用户的有效期限设置用户的新密码设置在密码过期多少天后关闭该用户修改用户登录后使用的终端修改用户所属的基本群修改用户的参考示例修改指定用户的家目录路径注意不能有用户正在使用该账号修改指定用户的修改指定用户的名称为锁定指定的用户临时不允许登录系统解锁指定的用户再次允许登录系统扩展将已有用户添加到指定用户组将已有用户添加到指定用户组作为其附属用户组代表和一起使用将用户添加到新用户组中而不必来开原有的其他用户组用户组名称用户名称将已有用户的主用户组改为新的用户组新的用户组名称用户名称命令命令来自英文词组的缩写其功能是删除用户信息在系统中一切都是文件用户信息被保存到了以及文件中因此使用命令实际上就是删除指定用户在上述个文件中的对应信息语法格式参数用户名常用参数强制删除用户而不询问删除用户的家目录及其内全部子文件显示帮助信息删除用户的映射用户参考示例删除指定的用户信息删除指定的用户信息及家目录注意删除的时候要慎重扩展将用户从该用户的附属组中删除用户名称用户组名称命令命令来自英文单词的缩写其功能是切换用户身份将管理员切换至任意用户身份时无须密码验证而将普通用户切换至任意用户身份时均需密码验证另外添加单个减号参数表示完全的身份变更不保留之前用户的任何环境变量信息语法格式参数用户名常用参数完全地切换身份切换身份时不变更环境变量执行完命令后自动恢复原来的身份设置要执行的终端不读取启动文件适用于和显示帮助信息切换身份时同时变更工作目录显示版本信息参考示例变更至指定的用户身份完全变更至指定的用户身份它们之间的区别在使用命令时不会加载用户的环境变量您仍然会保留当前用户的权限和环境设置只是切换到用户的身份使用命令时会加载用户的完整环境变量这意味着您将切换到用户的身份并使用用户的环境设置有部分用户提示不在文件中此事将被报告修改如下文件即可切换到身份修改文件权限修改文件内容保存退出后恢复文件权限返回自己的身份再次执行指令验证效果权限在文件中该文件默认权限是用户组管理命令用户组添加命令用户组修改命令用户组密码设置命令用户组删除命令命令命令的功能是创建新的用户组每个用户在创建时都有一个与其同名的基本组后期可以使用命令创建出新的用户组信息让多个用户加入指定的扩展组从而为后续的工作提供了良好的文档共享环境语法格式参数用户组常用参数若用户组已存在则以成功状态退出允许创建重复的用户组设置用户组设置用户组密码显示帮助信息创建系统用户组参考示例创建一个新的用户组创建一个新的用户组并指定用户组创建一个新的用户组设定为系统工作组以内的编号是系统组普通用户组扩展新建用户并将其加入指定用户组作为其主用户组每个用户有且只有一个主用户组用户组名称用户名称是加入主要组或者新建用户并将其加入指定附属用户组附属用户组可以有多个多个附属组名称用逗号分隔即可用户组名称用户名称是加入附属组主要群组每个文件都必须有一个组所有者因此必须有个与每个用户相关的默认组这个默认组成为新建文件的组所有者被称作用户的主要群组用户的主要群组在文件中的第四个字段中定义次要群组除了主要群组用户也可以根据需要在隶属于其他群组这些群组被称为次要群组在文件中第四个字段中定义将已有用户添加到指定用户组将已有用户添加到指定用户组作为其附属用户组代表和一起使用将用户添加到新用户组中而不必来开原有的其他用户组已有用户组名称已有用户名称将已有用户的主用户组改为新的用户组新的用户组名称已有用户名称通过可以查看用户和组比如用户组组用户组组目录的权限权限一般只用在目录上用在文档上起不到什么作用在一个目录上设了权限位后如权限为任何的用户都能够在这个目录下创建文档但只能删除自己创建的文档除外这就对任何用户能写的目录下的用户文档启到了保护的作用可以通过来设置权限命令命令来自英文词组的缩写其功能是用于更改群组属性系统中的群组信息一般不建议更改因为涉及已加入用户的归属问题尤其是群组名称组一定要确认好后再操作语法格式参数群组名常用参数设置群组识别码显示帮助信息设置群组名称允许重复使用群组识别码设置群组密码参考示例更改指定用户组的名称原名更改指定用户组的识别码命令命令来自英文词组的缩写其功能是用于删除用户组系统中的用户组信息被保存在和文件中手动删除对应信息即可亦可以用命令删除语法格式参数群组名常用参数强制删除而不询问显示帮助信息参考实例删除指定名称的用户组强制删除指定名称的用户组用户配置在中用户名密码用户组和用户组密码都是在保存在不同的文件配置文件中用于保存用户账号文件用户保存用户的密码文件用于保存用户组的文件用于保存用户组密码的文件保存用户家目录文件隐藏文件用户定义添加用户的信息文件用户配置文件是一个文本文件用于定义系统的用户账号由于这个文件是所有用户都对需要读取的权限所以文件中只定义用户的账号而不保存用户密码在这个文件中每一行记录了一个用户信息而用户信息是以英文冒号来进行分隔的个部分组成这个部分的意义说明如下用户名用户登录密码的占位符如果为表示有密码如果为空或表示没有密码用户的即用户所属组即用户的个人信息包含用户的完整名称地址办公电话家庭住址等个人信息用户的家目录用户的默认登录所能使用的类型中每个用户是通过来唯一标识的管理员普通用户自动分配系统用户以前以后对守护进程获取资源进行权限分配登录用户以前以后给用户进行交互式登录使用这个文件是用户保存用户密码的文件我们可以通过如下的命令来查看这个文件这个文件每一行记录了一个用户的密码信息它们共有个字段分别表示如下第一列用户名第二列加密后的密码但是这一列是有玄机的有些特殊的字符表示特殊的意义该列留空即表示该用户没有密码该列为即表示该用户被锁被锁将无法登陆但是可能其他的登录方式是不受限制的该列为即也表示该用户被锁和效果是一样的该列以或开头则也表示该用户被锁该列为即表示该用户从来没设置过密码如果格式为则表示该用户密码正常其中的表示密码的加密算法表示使用算法表示使用算法是另一算法长度的表示算法而表示算法可见上面的结果中都是使用算法的和这两种算法的破解难度远高于是加密时使用的才是真正的密码部分第三列从年月日到上次密码修改经过的时间天数通过计算现在离年月日的天数减去这个值结果就是上次修改密码到现在已经经过了多少天即现在的密码已经使用了多少天第四列密码最少使用期限天数省略或者表示不设置期限例如刚修改完密码又想修改可以限制多久才能再次修改第五列密码最大使用期限天数超过了它不一定密码就失效可能下一个字段设置了过期后的宽限天数设置为空时将永不过期后面设置的提醒和警告将失效等一些用户的已经默认设置为了表示永不过期如果值设置小于最短使用期限用户将不能修改密码第六列密码过期前多少天就开始提醒用户密码将要过期空或将不提醒第七列密码过期后宽限的天数在宽限时间内用户无法使用原密码登录必须改密码或者联系管理员设置为空表示没有强制的宽限时间可以过期后的任意时间内修改密码第八列帐号过期时间从年月日开始计算天数设置为空帐号将永不过期不能设置为不同于密码过期密码过期后账户还有效改密码后还能登录帐号过期后帐号失效修改密码重设密码都无法使用该帐号第九列保留字段这个文件中存储是用户组信息我们可以通过如下的命令来进行查看在这文件中每一行记录了一个组信息使用英文冒号分隔成个字段分别代表如下表示组名称表示组的密码占位符真正的密码保存在文件中表示组的值表示附加组中的用户列表以英文逗号分隔如果为空表示没有附加用户这个文件是用于保存组的密码信息通过如下命令来查看在这个文件中每一行代表一个组的密码信息通过英文冒号分隔为段分别表示如下组名称与文件中第一列相同组密码如果值为表示没有密码组管理的用户名很少使用组中附加用户也中第列相同这个文件中记录是用户家目录下的相关隐藏文件默认情况下当新创建好一个用户后会在这个用户的家目录下新建一个隐藏文件而这些隐藏文件就是从这个文件中拷贝过来的在这个文件中记录了创建用户的相关信息这个选项用于建立用户的默认组它是公有组而目录使用的是私有组所以它无效用于指定所创建的用户所在的家目录它是创建普通用户的家目录用于指定密码过期的宽限时间如果值为表示不限制它与文件中第个字段对应用于指定密码的过期时间它与文件中的第个字段对应如果值为空表示永久有效用于指定用户登录后的操作它与文件中第个字段对应用于指定用户所在家目录下的隐藏文件的拷贝来源用于给新建的用户指定邮箱地址它与文件中指向的地址相同第七章基础项目演练搭建文件共享服务器一实验目的及要求掌握服务器的配置方法熟悉客户端工具的使用掌握常见的服务器的故障排除二实验项目背景某企业想构建一台服务器为企业局域网中的计算机提供文件传送任务为财务部门销售部门和系统提供异地数据备份要求能够对服务器设置连接限制日志记录消息验证客户端身份等属性并能创建用户隔离的站点三实验的环境系统版本或者系统软件版本系统版本位四实验方法和步骤安装服务器离线安装在线安装修改配置文件匿名账户具有访问上传和创建目录的权限文件说明本地登陆控制表示禁止表示允许是否允许匿名用户访问表示允许表示不允许上传控制表示同意表示否定下载控制表示可以下载不可读文件表示不能下载目录创建控制表示最大同时访问数为家目录控制默认进入的家目录是进入登录用户的家目录写权限控制表示不允许写表示允许锁定用户到自己的家目录中重启服务测试在的地址栏输入可以看到默认的共享文件匿名登录查看及创建目录如果需要创建目录上传资料需要如下修改关闭查看是否关闭是关闭状态或者将改为然后重启关闭防火墙关闭防火墙关闭防火墙开机启动修改配置文件修改本地上传目录权限放入的用户永久黑名单放入的用户默认黑名单配置文件里新写入此参数表示允许的用户登录则变白名单扩展虚拟用户访问建立认证文件模板建立模板需要在的目录下完成我们建立我们写了个虚拟用户和密码注意写的时候注意后面的空格在这里空格也是会被计算在内的加密认证文件然后我们把写出的文件转换成系统可识别的认证文件建立认证文件是我们系统中的一个插件程序用来确认配对信息例如我们用登录主机用户获取信息是需要先输入用户名然后输入密码才可以进入可以来查看的配置目录里的文件内容在目录里是有的认证文件的文件内容我们列出来了所以我们建立的虚拟用户也需要建立这样的认证文件才可以让别人访问建立文件这个文件名可以自定义我们来分析一下这个文件内容账户认证也就是密码必须通过强制认证的插件名称指定插件认证的文件注意的是我们刚转换的格式但是这里默认找的就是后缀为的文件所以不需要加编辑主配置文件指定认证的文件之前用的是指定虚拟用户功能开启指定虚拟用户在服务器上的用户身份的家目录就是的家目录可以查看里的内容找到完成这些设定后就完成了虚拟用户的建立重启服务就可以测试登录查看测试登录我们使用另一台主机登录这些虚拟用户参考来源服务程序的三种认证模式匿名开放模式本地用户模式虚拟用户模式再延伸虚拟用户家目录的独立设定默认的虚拟用户我们登录的家目录都在里那他们创建的目录上传的东西都会在一起如果要删除某个虚拟用户的文件找起来就很麻烦了所以为了方便管理我们将这些虚拟用户建立分开的家目录首先我们去给每个虚拟用户建立他们的家目录编辑配置文件写入两条配置指定用户的登录的家目录是系统对于用户的一个变量指代指定上面写的是我们系统中的否则无法识别完成后依然是重启服务就可以测试登录查看',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-08 20:00:55',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://index.anheyu.com/" title="个人主页"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/13/64d8c2748ef34.jpg" alt="个人主页"/><span class="back-menu-item-text">个人主页</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://updateyuan.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">渊</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/img/reward/wx.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/wx.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/reward/zfb.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/zfb.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Anaconda/" style="font-size: 1.05rem;">Anaconda<sup>10</sup></a><a href="/tags/Android/" style="font-size: 1.05rem;">Android<sup>2</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 1.05rem;">C语言<sup>1</sup></a><a href="/tags/FAT32%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">FAT32文件系统<sup>2</sup></a><a href="/tags/HCIP/" style="font-size: 1.05rem;">HCIP<sup>2</sup></a><a href="/tags/JAVA%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" style="font-size: 1.05rem;">JAVA程序设计<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>5</sup></a><a href="/tags/MacOS/" style="font-size: 1.05rem;">MacOS<sup>1</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>2</sup></a><a href="/tags/SQL/" style="font-size: 1.05rem;">SQL<sup>3</sup></a><a href="/tags/VMware-Workstation/" style="font-size: 1.05rem;">VMware-Workstation<sup>1</sup></a><a href="/tags/Web/" style="font-size: 1.05rem;">Web<sup>1</sup></a><a href="/tags/Windows/" style="font-size: 1.05rem;">Windows<sup>1</sup></a><a href="/tags/Winhex/" style="font-size: 1.05rem;">Winhex<sup>7</sup></a><a href="/tags/hexo/" style="font-size: 1.05rem;">hexo<sup>13</sup></a><a href="/tags/python/" style="font-size: 1.05rem;">python<sup>10</sup></a><a href="/tags/%E4%B8%93%E5%8D%87%E6%9C%AC/" style="font-size: 1.05rem;">专升本<sup>1</sup></a><a href="/tags/%E5%8A%9E%E5%85%AC%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size: 1.05rem;">办公自动化<sup>1</sup></a><a href="/tags/%E5%8D%8E%E4%B8%BA/" style="font-size: 1.05rem;">华为<sup>2</sup></a><a href="/tags/%E5%8D%8E%E4%B8%BA1-X/" style="font-size: 1.05rem;">华为1+X<sup>8</sup></a><a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 1.05rem;">基础<sup>5</sup></a><a href="/tags/%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" style="font-size: 1.05rem;">基础教程<sup>33</sup></a><a href="/tags/%E5%A4%A7%E5%AD%A6/" style="font-size: 1.05rem;">大学<sup>3</sup></a><a href="/tags/%E5%B1%80%E5%9F%9F%E7%BD%91%E7%BB%84%E5%BB%BA%E4%B8%8E%E7%BB%B4%E6%8A%A4/" style="font-size: 1.05rem;">局域网组建与维护<sup>2</sup></a><a href="/tags/%E5%BA%94%E7%94%A8%E5%AF%86%E7%A0%81%E6%8A%80%E6%9C%AF/" style="font-size: 1.05rem;">应用密码技术<sup>3</sup></a><a href="/tags/%E6%80%9D%E7%A7%91/" style="font-size: 1.05rem;">思科<sup>2</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">操作系统<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 1.05rem;">数学<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.05rem;">数据库<sup>2</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D/" style="font-size: 1.05rem;">数据恢复<sup>13</sup></a><a href="/tags/%E6%9B%B4%E6%96%B0/" style="font-size: 1.05rem;">更新<sup>13</sup></a><a href="/tags/%E6%9D%82%E8%AE%B0/" style="font-size: 1.05rem;">杂记<sup>1</sup></a><a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 1.05rem;">爬虫<sup>10</sup></a><a href="/tags/%E7%A1%AC%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88/" style="font-size: 1.05rem;">硬件工程师<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">网络<sup>4</sup></a><a href="/tags/%E7%BE%8E%E5%8C%96/" style="font-size: 1.05rem;">美化<sup>13</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" style="font-size: 1.05rem;">计算机基础<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A4%A7%E5%AD%A6/" itemprop="url">大学</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>基础</span></a><a class="article-meta__tags" href="/tags/Linux/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Linux</span></a></span></div></div><h1 class="post-title" itemprop="name headline">RHCSA</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-04-05T10:38:43.000Z" title="发表于 2024-04-05 18:38:43">2024-04-05</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-04-08T12:00:55.534Z" title="更新于 2024-04-08 20:00:55">2024-04-08</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">33.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>116分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="RHCSA"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为西安"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>西安</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="/img/default_cover1.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2024/04/05/RHCSA/"><header><a class="post-meta-categories" href="/categories/%E5%A4%A7%E5%AD%A6/" itemprop="url">大学</a><a href="/tags/%E5%9F%BA%E7%A1%80/" tabindex="-1" itemprop="url">基础</a><a href="/tags/Linux/" tabindex="-1" itemprop="url">Linux</a><h1 id="CrawlerTitle" itemprop="name headline">RHCSA</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">渊</span><time itemprop="dateCreated datePublished" datetime="2024-04-05T10:38:43.000Z" title="发表于 2024-04-05 18:38:43">2024-04-05</time><time itemprop="dateCreated datePublished" datetime="2024-04-08T12:00:55.534Z" title="更新于 2024-04-08 20:00:55">2024-04-08</time></header><h1 id="第一章-Linux系统入门"><a href="#第一章-Linux系统入门" class="headerlink" title="第一章 Linux系统入门"></a>第一章 Linux系统入门</h1><h2 id="1-1-Linux系统简介"><a href="#1-1-Linux系统简介" class="headerlink" title="1.1 Linux系统简介"></a>1.1 Linux系统简介</h2><h2 id="1-2-虚拟机环境"><a href="#1-2-虚拟机环境" class="headerlink" title="1.2 虚拟机环境"></a>1.2 虚拟机环境</h2><h2 id="1-3-远程共享搭建"><a href="#1-3-远程共享搭建" class="headerlink" title="1.3 远程共享搭建"></a>1.3 远程共享搭建</h2><h3 id="1-3-1-虚拟机设置共享文件夹"><a href="#1-3-1-虚拟机设置共享文件夹" class="headerlink" title="1.3.1 虚拟机设置共享文件夹"></a>1.3.1 虚拟机设置共享文件夹</h3><p>如果共享丢失了执行如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">vmhgfs-fuse -o allow_other -o auto_unmount .host://mnt/hgfs</span><br></pre></td></tr></table></figure>



<p>另外补充：</p>
<p>windows 在你指定的目录文件夹创建共享文件并设置共享账号。</p>
<p>Linux      &#x2F;mnt&#x2F;共享文件夹 ，注意：尽量不要用中文路径。</p>
<p>sudo apt-get install nfs-common       # 对于Debian&#x2F;Ubuntu</p>
<p>sudo yum install nfs-utils                    # 对于CentOS&#x2F;RHEL</p>
<p>挂载：</p>
<p>sudo mount -t cifs   &#x2F;&#x2F;192.168.42.1&#x2F;winShare      &#x2F;mnt&#x2F;share -o   username&#x3D;Linux,password&#x3D;123qaz</p>
<p>卸载：</p>
<p>umount    &#x2F;mnt&#x2F;share </p>
<p>挂载的Windows共享文件夹在Linux重启之后就会消失的，如果还要使用，是需要重新挂载的。</p>
<p>如果希望Linux开机自动挂载Windows共享文件夹，则需要将挂载命令添加到Linux的“&#x2F;etc&#x2F;fstab”。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo </span><br><span class="line">&quot; //192.168.42.1/winShare /mnt/share cifs </span><br><span class="line">defaults,username=Linux,password=123qaz,nobrl,iocharset=utf8,uid=0,gid=0 0 0&quot; </span><br><span class="line">\&gt;&gt; /etc/fstab</span><br></pre></td></tr></table></figure>

<p>将挂载文件&#x2F;etc&#x2F;fstab生效</p>
<p>mount -a</p>
<h3 id="1-3-2-Xshell共享文件夹"><a href="#1-3-2-Xshell共享文件夹" class="headerlink" title="1.3.2 Xshell共享文件夹"></a>1.3.2 Xshell共享文件夹</h3><h3 id="1-3-3-Xftp文件共享"><a href="#1-3-3-Xftp文件共享" class="headerlink" title="1.3.3 Xftp文件共享"></a>1.3.3 Xftp文件共享</h3><h2 id="1-4-基本命令格式"><a href="#1-4-基本命令格式" class="headerlink" title="1.4 基本命令格式"></a>1.4 基本命令格式</h2><p>[update@localhost ~]$ 是终端提示符，类似与win下的cmd的命令行界面</p>
<p>update是当前系统登录的用户名</p>
<p>@ 是分隔符</p>
<p>localhost 当前机器的名称，本地主机，通俗解释就是当前操作系统。</p>
<p>~ 是当前用户update的家目录 ，自己的家环境，鼠标打开的主目录位置</p>
<p>$ 表示当前是普通用户，如果这个位置是 # 表示当前用户是超级管理员root。</p>
<p>Enter键是单次命令的提交符号，一旦按下Enter键表示命令执行。</p>
<p>系统操作：要求必须先将鼠标置于虚拟机环境；</p>
<p>ctrl + alt + enter      &#x3D;&#x3D;&#x3D;》全屏&#x2F;退出虚拟机；</p>
<p>ctrl + alt + t              &#x3D;&#x3D;&#x3D;》快速呼出终端，Ubuntu中有效，redhat无效；</p>
<p>ctrl+shift + +            &#x3D;&#x3D;&#x3D;》终端字符变大</p>
<p>ctrl + -                       &#x3D;&#x3D;&#x3D;》终端字符缩小</p>
<p>ctrl + l                       &#x3D;&#x3D;&#x3D;》清屏操作；</p>
<p>alt + tab                   &#x3D;&#x3D;&#x3D;》切换操作任务；</p>
<p>uname -a               查看系统内核版本命令</p>
<p>Linux localhost.localdomain 5.14.0</p>
<p>cat &#x2F;etc&#x2F;redhat-release 查看系统发行版本命令</p>
<p>Red Hat Enterprise Linux release 9.3 (Plow)</p>
<p>除过可视化环境下的终端，以外还有默认的6个终端；</p>
<p>ctrl + alt + f1&#x2F;f2&#x2F;f3…f7 &#x3D;&#x3D;&#x3D;&gt;不支持鼠标，只支持键盘</p>
<p>一般 f7 是用于可视化界面显示；</p>
<p>redhat是 f1 可视化界面。</p>
<p>注意，如果在操作命令的过程中终端提示符不能正常返回</p>
<p>​            可以使用 ctrl + c 终止本次命令操作；</p>
<p>在 Linux 操作系统中，所有的文件和目录都被组织成以一个根节点开始的倒置的树状结构。</p>
<p>文件系统的最顶层是由根目录开始的，系统使用’&#x2F; ‘来表示根目录。在根目录之下的既可以是目录，</p>
<p>也可以是文件，而每一个目录中又可以包含子目录文件。如此反复就可以构成一个庞大的文件系统。</p>
<p>一般linux系统根目录有如下文件夹：</p>
<p>bin </p>
<p>重要的二进制 (binary) 应用程序,包含二进制文件，系统的所有用户使用的命令都在这个目录下。</p>
<p>boot </p>
<p>启动 (boot) 配置文件,包含引导加载程序相关的文件</p>
<p>dev </p>
<p>设备 (device)文件包含设备文件，包括终端设备，USB或连接到系统的任何设备</p>
<p>etc </p>
<p>配置文件、启动脚本等包含所有程序所需的配置文件，也包含了用于启动&#x2F;停止单个程序的启动和关闭shell脚本</p>
<p>home </p>
<p>本地用户主 (home) 目录所有用户用home目录来存储他们的个人档案</p>
<p>lib </p>
<p>系统库 (libraries)文件包含支持位于&#x2F;bin和&#x2F;sbin下的二进制文件的库文件。</p>
<p>lost+found </p>
<p>在根 (&#x2F;) 目录下提供一个遗失+查找(lost+found) 系统.必须在root用户下才可以查看当前目录下的内容。</p>
<p>media </p>
<p>挂载可移动介质(media)，诸如CD、数码相机等用于挂载可移动设备的临时目录</p>
<p>mnt </p>
<p>挂载 (mounted)文件系统临时安装目录，系统管理员可以挂载文件系统</p>
<p>opt </p>
<p>提供一个供可选的应用程序安装目录，应用程序应该安装在&#x2F;opt或者&#x2F;opt的子目录下</p>
<p>proc </p>
<p>特殊的动态目录，用以维护系统信息和状态，包括当前运行中进程 (processes) 信息。包含系统进程的相关信息，是一个虚拟的文件系统，包含有关正在运行的进程的信息，</p>
<p>系统资源以文本信息形式存在</p>
<p>root </p>
<p>root (root) 超级用户主文件夹，读作“slash-root”，是当前系统的最高权限拥有着，类似于win的Administrator。</p>
<p>sbin </p>
<p>重要的系统二进制(systembinaries)文件也是包含的二进制可执行文件。</p>
<p>在这个目录下的linux命令通常都是由系统管理员使用的，对系统进行维护</p>
<p>sys </p>
<p>系统 (system) 文件</p>
<p>tmp </p>
<p>临时(temporary)文件包含系统和用户创建的临时文件。当系统重启时，这个目录下的文件将都被删除</p>
<p>usr </p>
<p>包含绝大部分所有用户(users)都能访问的应用程序和文件包含二进制文件，库文件。文档和二级程序的源代码</p>
<p>var </p>
<p>经常变化的(variable)文件，诸如日志或数据库等。代表变量文件。在这个目录下可以找到内容可能增长的文件</p>
<p>在 Linux 系统中，有几个目录是比较重要的，平时需要注意不要误删除或者随意更改内部文件。</p>
<p>&#x2F;etc： 这个是系统中的配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。</p>
<p>&#x2F;bin, &#x2F;sbin, &#x2F;usr&#x2F;bin, &#x2F;usr&#x2F;sbin: 这是系统预设的执行文件的放置目录，比如 ls 就是在&#x2F;bin&#x2F;ls 目录下的。</p>
<p>&#x2F;bin,&#x2F;usr&#x2F;bin 是给系统用户使用的指令（除root外的通用户）而&#x2F;sbin, &#x2F;usr&#x2F;sbin 则是给root使用的指令。</p>
<p>&#x2F;var： 这是一个非常重要的目录，系统上跑了很多程序，那么每个程序都会有相应的日志产生，</p>
<p> 而这些日志就被记录到这个目录下，具体在&#x2F;var&#x2F;log 目录下，另外mail的预设放置也是在这里。</p>
<p>可以在proc文件下查看CPU相关的情况cat &#x2F;proc&#x2F;cpuinfo, 而cat &#x2F;proc&#x2F;meminfo可以查看内存相关信息</p>
<p>Linux中一般有两种文件：</p>
<p>1、二进制文件     &#x3D;&#x3D;》不能阅读，但是赋予权限后可以执行的程序。</p>
<p>2、ASCII文件       &#x3D;&#x3D;》能阅读，有时候需要二进制文件打开这类文件。</p>
<p>一般情况下：</p>
<p>二进制程序： &#x2F;bin, &#x2F;sbin, &#x2F;usr&#x2F;bin, &#x2F;usr&#x2F;sbin, &#x2F;usr&#x2F;local&#x2F;bin, &#x2F;usr&#x2F;local&#x2F;sbin</p>
<p>库文件：         &#x2F;lib, &#x2F;lib64, &#x2F;usr&#x2F;lib, &#x2F;usr&#x2F;lib64, &#x2F;usr&#x2F;local&#x2F;lib, &#x2F;usr&#x2F;local&#x2F;lib64</p>
<p>配置文件：     &#x2F;etc, &#x2F;usr&#x2F;local&#x2F;etc</p>
<p>帮助文件：    &#x2F;usr&#x2F;share&#x2F;man, &#x2F;usr&#x2F;share&#x2F;doc, &#x2F;usr&#x2F;local&#x2F;share&#x2F;man, &#x2F;usr&#x2F;local&#x2F;share&#x2F;doc</p>
<p>Linux下的文件类型分为如下7种：</p>
<p>- 普通文件</p>
<p>d 目录文件(文件夹)</p>
<p>b 块设备 ls -l &#x2F;dev&#x2F;sr0</p>
<p> c 字符设备 ls -l &#x2F;dev&#x2F;zero</p>
<p>l 符号链接文件(快捷方式) ls -l &#x2F;run&#x2F;shm</p>
<p>p 管道文件 pipe 共享缓存文件</p>
<p>s 套接字文件 socket文件，用于网络通信</p>
<p> 验证：ls -l &#x2F;run&#x2F; 等价于 ll &#x2F;run&#x2F; &#x3D;&#x3D;&gt;ls -l 等于 ll</p>
<p> ls -l &#x2F;dev</p>
<p>Linux 文件权限和类型关系：</p>
<p> drwxr-xr-x &#x3D;&#x3D;权限等于 0755 </p>
<p> 第一列：d 是文件类型，参考7种文件类型。</p>
<p> 第二，三，四列： rwx r 只读(4) w 只写(2) x 执行(1) rwx 可写可读可</p>
<p>执行 4+2+1 &#x3D; 7 拥有者权限</p>
<p> 第五，六，七列： r-x r 只读(4) - 无只写 x执行(1) r-x 可读不可写</p>
<p>可执行 4 +0+1 &#x3D; 5 组员权限</p>
<p> 第八，九，十列： r-x r 只读(4) - 无只写 x执行(1) r-x 可读不可写</p>
<p>可执行 4 +0+1 &#x3D; 5 其他人权限</p>
<p>绝对路径</p>
<p>　　以正斜杠开始</p>
<p>　　完整的文件的位置路径</p>
<p>　　可用于任何想指定一个文件名的时候</p>
<p>eg：[update@localhost mycode]$ pwd 指令可以看到当前位置距离 &#x2F;</p>
<p>位置的绝对路径。</p>
<p>&#x2F;home&#x2F;update&#x2F;mycode</p>
<p>相对路径</p>
<p>　　不以斜线开始</p>
<p>　　指定相对于当前工作目录或某目录的位置</p>
<p>　　可以作为一个简短的形式指定一个文件名</p>
<h1 id="第二章-文件管理系统"><a href="#第二章-文件管理系统" class="headerlink" title="第二章 文件管理系统"></a>第二章 文件管理系统</h1><h2 id="2-1目录管理命令"><a href="#2-1目录管理命令" class="headerlink" title="2.1目录管理命令"></a>2.1目录管理命令</h2><p>新建目录： mkdir</p>
<p>查看目录： ls</p>
<p>切换目录： cd</p>
<p>修改目录： mv</p>
<p>删除目录： rmdir </p>
<hr>
<p>打开终端后我们默认处于主目录(家目录) 标志就是： ~ </p>
<p>Linux 中目录 类似与win的 文件夹。</p>
<p>mkdir ：</p>
<p>mkdir命令来自英文词组make directories的缩写，其功能是创建目录文件。</p>
<p>该命令的使用简单，但需要注意，</p>
<p>若要创建的目标目录已经存在，则会提示已存在而不继续创建，不覆盖已有文件。</p>
<p>若目录不存在，则立即创建一个目录。</p>
<p>可以创建具有嵌套的依赖关系时，例如&#x2F;Dir1&#x2F;Dir2&#x2F;Dir3&#x2F;Dir4&#x2F;Dir5，要想一次性创建则需要加入-p参数，</p>
<p>进行递归操作。</p>
<p>语法格式 : mkdir 参数 目录名</p>
<p>常用参数：-m 创建目录的同时设置权限 </p>
<p> -v 显示执行过程详细信息</p>
<p> -p 递归创建多级目录</p>
<p> -z 设置目录安全上下文</p>
<p>r 可读&#x3D;4 w 可写&#x3D;2 x可执行 &#x3D;1</p>
<p>参考示例 </p>
<p>创建者权限 组权限 其他权限</p>
<p>mkdir Dir1 </p>
<p>#建立一个目录文件，默认的目录权限是 0755 权限。 rwx r-x r-x</p>
<p>mkdir -m 700 Dir2 #创建一个目录文件并设置700权限，不让除所有主以外的任何人读、写、执行它：</p>
<p>mkdir Dir3 Dir4 Dir5                                      #一次性创建多个目录文件</p>
<p>mkdir -p &#x2F;Dir1&#x2F;Dir2&#x2F;Dir3&#x2F;Dir4&#x2F;Dir5             #在系统根目录中，一次性创建多个有嵌套关系的目录文件</p>
<p>ls</p>
<p>ls命令来自英文单词list的缩写，中文译为“列出”，其功能是显示目录中的文件及其属性信息，</p>
<p>是最常使用的Linux命令之一。 默认不添加任何参数的情况下，ls命令会列出当前工作目录中的文件信息，</p>
<p>常与cd或pwd命令搭配使用，十分方便。</p>
<p>带上参数后，我们可以做更多的事情。作为最基础、最频繁使用的命令，有必要仔细了解其常用功能。</p>
<p>语法格式：ls 参数 文件名</p>
<p>常用参数：</p>
<p>-a         显示所有文件及目录 </p>
<p>-A        不显示当前目录和父目录 </p>
<p>-d        显示目录自身的属性信息 </p>
<p>-i          显示文件的inode属性信息 </p>
<p>-l          显示文件的详细属性信息 </p>
<p>-m        以逗号为间隔符，水平显示文件信息 </p>
<p>-r          依据首字母将文件以相反次序显示</p>
<p>-R         递归显示所有子文件</p>
<p>-S         依据内容大小将文件排序显示</p>
<p>-t          依据最后修改时间将文件排序显示</p>
<p>-X         依据扩展名将文件排序显示</p>
<p>-color   以彩色显示信息</p>
<p>参考示例：</p>
<p>ls #显示当前目录中的文件名（默认不含隐藏文件）</p>
<p>ls -a #显示当前目录中的文件名（默认含隐藏文件,Linux中隐藏文件用 . 开头）</p>
<p>ls -l #以详细信息模式输出文件名及其属性信息， 简写 ll </p>
<p>ls &#x2F;etc #显示指定目录中的文件列表,默认查看是当前工作目录。</p>
<p>ls -i #显示当前目录中的文件名及inode属性信息</p>
<p>ls -Sl &#x2F;etc #依据文件内容大小进行排序，显示指定目录中文件名及其属性详情信息</p>
<p>cd</p>
<p>cd命令来自英文词组change directory的缩写，</p>
<p>其功能是更改当前所处的工作目录，路径可以是绝对路径，也可以是相对路径，</p>
<p>若省略不写则会跳转至当前使用者的家目录。</p>
<p>语法格式：cd 参数 目录名</p>
<p>常用参数：</p>
<p>-L 切换至符号链接所在的目录 </p>
<p>-P 切换至符号链接对应的实际目录 </p>
<p>- 切换至上次所在目录</p>
<p>~ 切换至用户家目录</p>
<p>.. 切换至当前位置的上一级目录</p>
<p>参考示例</p>
<p>cd &#x2F;Dir #切换到根目录下指定目录，注意如果没有这个目录，或者权限不足则提示不能切换。</p>
<p>cd .&#x2F;Dir #切换到当前目录下的指定目录</p>
<p>cd .&#x2F;Dir1&#x2F;xxx&#x2F;yyy #切换到当前位置下的多层级目录</p>
<p>cd ..&#x2F;Dir #切换到上级目录下的指定目录</p>
<p>cd ~ #切换至当前用户的家目录，等价于 cd 回车默认进入家目录</p>
<p>cd .. #进入到上一级所在目录，如果不清楚位置，pwd命令可以看到绝对路径。</p>
<p>cd ..&#x2F;..&#x2F;..&#x2F; #通过多次的上级目录，切换到上级的上级的上级目录。</p>
<p>cd - #返回到上一次所在目录</p>
<p>cd &#x2F; #直接进入到根目录所在位置</p>
<p>mv </p>
<p>mv命令来自英文单词move的缩写，中文译为“移动”，其功能与英文含义相同，能够对文件进行剪切和重命名操作。</p>
<p>这是一个被高频使用的文件管理命令，我们需要留意它与复制命令的区别。当前mv命令应理解成重命名操作.</p>
<p>语法格式：mv 参数 源文件名 目标文件名</p>
<p>常用参数：</p>
<p>-b 覆盖前为目标文件创建备份 </p>
<p>-f 强制覆盖目标文件而不询问 </p>
<p>-i 覆盖目标文件前询问用户是否确认 </p>
<p>-n 不要覆盖已有文件 </p>
<p>-u 当源文件比目标文件更新时，才执行覆盖操作 </p>
<p>-v 显示执行过程详细信息</p>
<p>-Z 设置文件安全上下文</p>
<p>–help 显示帮助信息</p>
<p>–version 显示版本信息</p>
<p>参考示例：</p>
<p>mv File1.cfg File2.cfg #将File1.cfg文件重命名为File2.cfg文件，注意源文件必须存在。</p>
<p>mv File2.cfg .&#x2F;Dir1 #将指定文件File2.cfg移动到当前Dir1目录中，保留文件原始名称：</p>
<p>mv Dir1 .&#x2F;Dir11&#x2F;Dir2 #将指定目录移动到当前Dir11目录中，并定义新的目录名称为Dir2：</p>
<p>mv -f .&#x2F;Dir11&#x2F;* . #将当前Dir11目录中所有的文件都移动到当前工作目录中，</p>
<p> 若遇到文件已存在则直接覆盖,Dir11中文件将全部移走变空目录。</p>
<p>注意：所有操作都限于当前家目录，不要在 &#x2F; 目录下工作，有权限限制。</p>
<p>rmdir</p>
<p>rmdir命令来自英文词组remove directory的缩写，其功能是删除空目录文件。</p>
<p>rmdir命令仅能删除空内容的目录文件，如需删除非空目录时，需要使用带有-R参数的rm命令进行操作。</p>
<p>而rmdir命令的递归删除操作（-p参数使用）并不意味着能删除目录中已有的文件，而是要求每个子目录都必须是空的。</p>
<p>语法格式：rmdir 参数 目录名</p>
<p>常用参数：</p>
<p>-p 递归处理所有子文件 </p>
<p>-v 显示执行过程详细信息 </p>
<p>–help 显示帮助信息</p>
<p>–version 显示版本信息</p>
<p>参考示例：</p>
<p>rmdir Dir #删除指定的空目录，非空目录删除失败。</p>
<p>rmidr -p Dir #删除指定的空目录及其内部的子空目录</p>
<p>rmdir -v Dir #删除指定的空目录并显示删除的过程</p>
<h2 id="2-2-文件管理命令"><a href="#2-2-文件管理命令" class="headerlink" title="2.2 文件管理命令"></a>2.2 文件管理命令</h2><p>新建文件： touch、vim, gedit </p>
<p>编辑文件： vim 、 gedit </p>
<p>查看文件： cat 、more、head、 tail 、vim 、stat</p>
<p>修改文件: chmod、 chown</p>
<p>删除文件： rm </p>
<p>拷贝文件： cp</p>
<p>移动文件： mv</p>
<p>链接文件： ln</p>
<p>绝对路径： pwd</p>
<hr>
<p>touch </p>
<p>touch命令的功能是创建空文件与修改时间戳。</p>
<p>如果文件不存在，则会创建一个空内容的文本文件；</p>
<p>如果文件已经存在，则会对文件的Atime（访问时间）和Ctime（修改时间）进行修改操作，</p>
<p>管理员可以完成此项工作，而普通用户只能管理主机的文件。</p>
<p>语法格式：touch 参数 文件名</p>
<p>常用参数：</p>
<p>-a 设置文件的读取时间记录 </p>
<p>-c 不创建新文件 </p>
<p>-d 设置时间与日期 </p>
<p>-t 设置文件的时间记录</p>
<p>–help 显示帮助信息</p>
<p>–version 显示版本信息</p>
<p>-m 设置文件的修改时间记录 </p>
<p>参考示例：</p>
<p>touch File.txt #创建出一个指定名称的空文件，建议文件名要符合规范。</p>
<p>#注意：linux中没有文件后缀的概念。</p>
<p>touch File{1..5}.txt #结合通配符，创建多个指定名称的空文件</p>
<p>#File属于文件前缀，.txt属于文件后缀，{1..5} 是文件创建编号边界</p>
<p>touch -d “2023-05-18 15:44” File.cfg #修改指定文件的查看时间和修改时间</p>
<p>编辑器: vim gedit emacs …..</p>
<p>gedit: 编辑器只能在可视化界面操作</p>
<p>gedit命令来自英文词组“GNOME text editor”的缩写，其功能是用于编辑文本信息，</p>
<p>是GNOME桌面环境的文本编辑器。gedit命令拥有非常强大的通用文本编辑功能，</p>
<p>能够创建和编辑各类型文本文件，用户还可以向gedit中添加自主选择的插件，让编辑器支持更多高级功能。</p>
<p>语法格式：gedit [参数] [文件名]</p>
<p>常用参数：</p>
<p>-f 忽略部分错误信息 </p>
<p>-s 使用独立模式 </p>
<p>-w 使用独占方式打开文件 </p>
<p>-R 递归处理所有子文件</p>
<p>-v 显示执行过程详细信息</p>
<p>–encoding 设置字符编码</p>
<p>参考示例：</p>
<p>gedit File.cfg #打开并编辑指定的文件：</p>
<p>gedit –encoding&#x3D;UTF-8 File #打开文件时使用的字符编码</p>
<p>cat</p>
<p>cat命令来自英文词组concatenate files and print的缩写，其功能是在终端设备上显示文件内容。</p>
<p>在Linux系统中有很多用于查看文件内容的命令，例如more、tail、head等，每个命令都有各自的特点。</p>
<p>cat命令适合查看内容较少的纯文本文件。 对于内容较多的文件，使用cat命令查看后会在屏幕上快速滚屏，</p>
<p>用户往往看不清所显示的具体内容，只好按Ctrl+C组合键中断命令执行，对于大文件干脆用more命令。</p>
<p>语法格式：cat 参数 文件名</p>
<p>常用参数：</p>
<p>-A 等价于-vET参数组合 </p>
<p>-b 显示行数（空行不编号） </p>
<p>-e 等价于-vE参数组合 </p>
<p>LFD和TAB除外</p>
<p>-E 每行结束处显示$符号 </p>
<p>-n 显示行数（空行也编号） </p>
<p>-s 显示行数（多个空行算一个编号） </p>
<p>-t 等价于-vT参数组合</p>
<p>-T 将TAB字符显示为^I符号</p>
<p>-v 使用^和M-引用，</p>
<p>–help 显示帮助信息</p>
<p>–version 显示版本信息</p>
<p>参考示例：</p>
<p>cat file #查看指定文件的内容</p>
<p>cat -n file #查看指定文件的内容并显示行号</p>
<p>cat &#x2F;dev&#x2F;null &gt; file #搭配空设备文件和输出重定向操作符，清空指定文件的内容</p>
<p>cat &#x2F;dev&#x2F;cdrom &gt; rhel.iso #搭配输出重定向操作符，将光盘设备制作成镜像文件：</p>
<p>more 查看大文件内容使用， 可以通过空格和enter键翻页，默认在文件开头位置。</p>
<p>head 不论文件大小，默认查看前10行，可以通过 head -n xxx 查看指定行文件。</p>
<p>tail 不论文件大小，默认查看后10行，可以通过 tail -n xxx 查看指定行文件</p>
<p>stat 查看文件的属性信息，包括文件大小，权限，链接，时间，类型，属主 ……</p>
<p>chmod </p>
<p>chmod命令来自英文词组change mode的缩写，其功能是改变文件或目录权限的命令。</p>
<p>默认只有文件的所有者和管理员可以设置文件权限，普通用户只能管理自己文件的权限属性。</p>
<p>设置权限时可以使用数字法，亦可使用字母表达式，对于目录文件，建议加入-R参数进行递归操作，</p>
<p>这意味着不仅对于目录本身，而且也对目录内的子文件&#x2F;目录进行新权限的设定。</p>
<p>语法格式：chmod 参数 文件名</p>
<p>常用参数：</p>
<p>-c 改变权限成功后再输出成功信息 </p>
<p>-f 改变权限失败后不显示错误信息 </p>
<p>-R 递归处理所有子文件 </p>
<p>-v 显示执行过程详细信息 </p>
<p>–help 显示帮助信息 </p>
<p>–no-preserve-root 不特殊对待根目录</p>
<p>–preserve-root禁止对根目录进行递归操作</p>
<p>--reference 使用指定参考文件的权限</p>
<p>–version显示版本信息</p>
<p>参考示例：</p>
<p>chmod 0775 File.cfg #设定某个文件的权限为0775</p>
<p>chmod a+r File.cfg #设定某个文件让任何人都可以读取</p>
<p>chmod -R a+r Dir #设定某个目录及其内部的子文件可被任何人读取</p>
<p>chmod u+s .&#x2F;testFile #为某个二进制命令文件新增SUID特殊权限位</p>
<p>chmod u+r a.txt # 所属用户增加可读权限</p>
<p>chmod u-r a.txt # 所属用户减少可读权限</p>
<p>chmod u&#x3D;r a.txt # 所属用户设置可读权限</p>
<p>chmod a+r a.txt # 给所有人增加可读权限</p>
<p>chmod u+x,g+w a.txt # 同时修改多个权限</p>
<p>chmod ug+x a.txt # 同时修改多个权限</p>
<p>chmod 777 a.txt # 给所有人增加读、写、执行权限 小心使用，不是必须不要777权限。</p>
<p>chmod -R 777 目录 # 修改目录及目录下所有文件的权限一般情况下，目录的默认权限是：0755</p>
<p>普通文件的权限是：0644</p>
<p>补充说明：</p>
<p>第1位： 表示文件类型（d表示目录，-表示文件）</p>
<p>第2~4位 ： 表示文件所有者的权限 u </p>
<p>第5~7位： 表示用户组的权限 g</p>
<p>第8~10位：表示其他用户的权限 o</p>
<p>权限使用 r 、 w 、 x 、 - 四种符号表示</p>
<p>r：read， 表示读权限，文件可以被查看</p>
<p>w：write， 表示写权限，文件可以被修改</p>
<p>x：execute，表示执行权限，文件可以被执行</p>
<p>-：表示没有权限</p>
<p>chown：超级用户用来修改文件的属主和文件组权限。</p>
<p>rm</p>
<p>rm命令来自英文单词remove的缩写，中文译为“消除”，其功能是删除文件或目录，一次可以删除多个文件，或递归删除目录及其内的所有子文件。</p>
<p>rm也是一个很危险的命令，使用的时候要特别当心，尤其对于新手更要格外注意。</p>
<p>例如，执行 rm -rf &#x2F;* 命令会清空系统中所有的文件，甚至无法恢复回来。所以我们在执行之前一定要再次</p>
<p>确认在在哪个目录中、到底要删除什么文件，考虑好后再敲击Enter键，要时刻保持清醒的头脑。</p>
<p>语法格式：rm 参数 文件名</p>
<p>常用参数：</p>
<p>-d 仅删除无子文件的空目录 </p>
<p>-f 强制删除文件而不询问 </p>
<p>-i 删除文件前询问用户是否确认 </p>
<p>-r 递归删除目录及其内全部子文件 </p>
<p>-v 显示执行过程详细信息</p>
<p>–help 显示帮助信息</p>
<p>–version 显示版本信息</p>
<p>参考示例：</p>
<p>rm File.cfg #删除文件时默认会进行二次确认，敲击y进行确认</p>
<p>rm -i file.cfg #二次确认后删除，不确认文件保留。</p>
<p>rm -f File.cfg #强制删除文件而无须二次确认：</p>
<p>rm -rf Dir #删除指定目录及其内的全部子文件，一并强制删除：</p>
<p>rm -f *.txt #强制删除当前工作目录内所有以.txt为后缀的文件</p>
<p>rm -rf .&#x2F;* #强制清空当前所在位置的文件，但是千万不要在根目录或者一级子目录执行。</p>
<p>rm -rf &#x2F;* #强制清空服务器系统内的所有文件（慎用！！！）：</p>
<p>cp</p>
<p>cp命令来自英文单词copy的缩写，中文译为“复制”，其功能是复制文件或目录。</p>
<p>cp命令能够将一个或多个文件或目录复制到指定位置，亦常用于文件的备份工作。</p>
<p>-r参数用于递归操作，复制目录时若忘记添加则会直接报错；</p>
<p>-f参数则用于当目标文件已存在时会直接覆盖而不再询问。这两个参数尤为常用。</p>
<p>语法格式：cp 参数 源文件名 目标文件名</p>
<p>常用参数：</p>
<p>-a 功能等价于pdr参数组合 </p>
<p>-b 覆盖目标文件前先进行备份</p>
<p>-d 复制链接文件时，将目标文件也建立为链接文件 </p>
<p>-f 若目标文件已存在，则会直接覆盖</p>
<p>-i 若目标文件已存在，则会询问是否覆盖 </p>
<p>-l 对源文件建立硬链接，而非复制文件</p>
<p>-p 保留源文件或目录的所有属性信息</p>
<p>-r 递归复制所有子文件</p>
<p>-s 对源文件建立软链接，而非复制文件</p>
<p>-v 显示执行过程详细信息</p>
<p>参考示例：</p>
<p>使用这些命令之前，建议ls 查看文件是否在，如果不在 cp&#x2F;mv 会操作失败</p>
<p>cp File1.cfg File2.cfg #复制指定的源文件，并定义新文件的名称，相当于文件备份：</p>
<p>cp -r Dir1 Dir2 #复制指定的源目录，并定义新目录的名称：</p>
<p>cp -a File1.cfg File2.cfg #复制文件时，保留其原始权限及用户归属信息</p>
<p>cp -f File1.cfg &#x2F;dir1 #将指定文件复制到&#x2F;dir1目录中，并覆盖已有文件，不进行询问</p>
<p>cp File1.cfg File2.cfg &#x2F;dir2 #将多个文件一同复制到&#x2F;dir2目录中</p>
<p>注意：拷贝操作 会有新的一份文件生成，所以源文件依旧存在。</p>
<p>如果只需要一份文件，而是移动了文件的位置请用mv命令。</p>
<p>cp xxx.txt yyy.txt zzz.txt .&#x2F;dir1 #拷贝文件到指定目录，源文件依旧存在</p>
<p>mv xxx.txt yyy.txt zzz.txt .&#x2F;dir1 #移动文件到指定目录，源文件不存在</p>
<p>共享文件拷贝：</p>
<p>从共享中拷贝文件到虚拟机的家目录： cp &#x2F;mnt&#x2F;hgfs&#x2F;share&#x2F;???.txt ~</p>
<p>从家目录考别文件到共享文件目录： cp ~&#x2F;xxx.txt &#x2F;mnt&#x2F;hgfs&#x2F;share </p>
<p>从U盘拷贝东西到家目录： cp &#x2F;media&#x2F;u盘地址&#x2F;???.txt ~</p>
<p>ln </p>
<p>ln命令来自英文单词link的缩写，中文译为“链接”，其功能是为某个文件在另外一个位置建立同步的链接。</p>
<p>Linux系统中的链接文件有两种形式，一种是硬链接，另一种是软链接。</p>
<p>软链接相当于Windows系统中的快捷方式文件，原始文件被移动或删除后，软链接文件也将无法使用；</p>
<p>硬链接则是将文件的inode属性块进行了复制，因此把原始文件移动或删除后，硬链接文件依然可以使用。</p>
<p>语法格式： ln 参数 源文件名 目标文件名</p>
<p>常用参数：</p>
<p>-b 为已存在的目标文件创建备份 </p>
<p>-d 允许管理员创建目录的硬链接 </p>
<p>-f 强制创建链接而不询问 </p>
<p>-i 若目标文件已存在，则需要用户二次确认 </p>
<p>-L 若目标文件为软链接，找到其对应文件 </p>
<p>-n 将指向目录的软链接视为普通文件 </p>
<p>-P 若目标文件为软链接，直接链接它自身 </p>
<p>-r 创建相对于文件位置的软链接</p>
<p>-s 对源文件创建软链接</p>
<p>-S 设置备份文件的后缀</p>
<p>-t 设置链接文件存放于哪个目录</p>
<p>-v 显示执行过程详细信息</p>
<p>–backup 备份已存在的文件</p>
<p>–help 显示帮助信息</p>
<p>–version 显示版本信息</p>
<p>参考示例：</p>
<p>ln File1.cfg linkFile2.cfg #为指定的源文件创建快捷方式（默认为硬链接形式）9&#x2F;9</p>
<p>ln -s File1.cfg linkFile2.cfg #为指定的源文件创建快捷方式（设定为软链接形式）</p>
<p>ln -v File1.cfg File2.cfg #为指定的源文件创硬连接，并输出制作的过程信息</p>
<p>pwd</p>
<p>pwd命令来自英文词组print working directory的缩写，其功能是显示当前工作目录的路径，</p>
<p>即显示所在位置的绝对路径。 在实际工作中，我们经常会在不同目录之间进行切换，</p>
<p>为了防止“迷路”，可以使用pwd命令快速查看当前所处的工作目录路径，方便开展后续工作。</p>
<p>语法格式： pwd 参数</p>
<p>常用参数：</p>
<p>-L 显示逻辑路径 </p>
<p>-P 显示实际物理地址 </p>
<p>–version 显示版本信息</p>
<p>–help 显示帮助信息</p>
<p>参考示例：</p>
<p>pwd #查看当前工作目录路径</p>
<h2 id="2-3-编辑器vim命令"><a href="#2-3-编辑器vim命令" class="headerlink" title="2.3 编辑器vim命令"></a>2.3 编辑器vim命令</h2><p>~ 是家目录，也是每次终端打开的主目录位置，一般是： &#x2F;home&#x2F;用户名</p>
<p>.&#x2F; 是当前目录，一般根据实际的位置有关，pwd可以判断当前位置。</p>
<p>..&#x2F; 是上级目录，一般是当前位置的上一级目录，也可以通过pwd判断位置。</p>
<p>sudo 命令是提权命令，在没有权限执行的时候，在命名最前面加上该命令就会用root身份执行。</p>
<p>但是会要求执行时候输入密码，看不见但是输入正确即可。</p>
<p>vi&#x2F;vim 命令：终端下编辑文件的首选工具，号称：编辑器之神</p>
<p>基本上vim可以分为三种模式，分别是</p>
<p>命令模式（command mode） &#x3D;&#x3D;&#x3D;&gt;输入vi的命令和快捷键，默认打开文件时候的模式。</p>
<p>插入模式（Insert mode） &#x3D;&#x3D;&#x3D;&gt;进入编辑模式，可以编辑文件</p>
<p>底行模式（last line mode） &#x3D;&#x3D;&#x3D;&gt;调整文件内容</p>
<p>常规基本操作：</p>
<p>1、vim file #vim后跟文件名打开文件，默认进入命令行模式，不能编辑文件</p>
<p>2、按下 i 字符即可进入插入模式，注意文件左下角会出现 “–插入(粘贴)–”</p>
<p>3、开始编辑文件内容</p>
<p>4、按下 ESC 键，切换到命令行模式,再按下 shift + : 组合键，进入底行模式，标志是文件左下角出现不停闪烁的” ： “在”:”之后写 wq 回车 保存退出</p>
<p>其他操作命令：</p>
<p>1、移动命令，所有操作在命令行模式执行</p>
<p>​		0)默认支持方向键移动</p>
<p>​		1)向前移动: l 、 空格、-&gt; </p>
<p>​		2)向后移动: h、 &lt;-</p>
<p>​		3)移动到下一行: +、ENTER、j、ctrl+n、方向下键</p>
<p>​		4)移动到上一行: - 、 k、 ctrl+p 、 方向上键</p>
<p>向上</p>
<p>|</p>
<p> |</p>
<p> - | k</p>
<p>|</p>
<p>|</p>
<p>向前&lt;—h—-光标当前位置 —l—&gt;向后</p>
<p>|</p>
<p> + | j</p>
<p>|</p>
<p>|</p>
<p> 向下</p>
<p>其他快捷操作：</p>
<p>移动到行首：0 </p>
<p>移动到行尾：$</p>
<p>屏幕滚动下： ctrl+f </p>
<p>屏幕滚动上： ctrl+b</p>
<p>zt 定位到屏幕顶端 z</p>
<p>b 定位到屏幕底端</p>
<p>gg 定位到文件开头 </p>
<p>G 定位到文件末尾</p>
<p>2、编辑命令</p>
<p>\1) 插入 i&#x2F;I i 在光标当前插入 </p>
<p> I 在光标行开头插入 </p>
<p>\2) 附加 a&#x2F;A a 在光标后增加 </p>
<p> A 在光标行最后增加</p>
<p>3)新行 o&#x2F;O o 在光标行下新起一行 </p>
<p> O 在光标行上面新起一行</p>
<p>4)删除 x&#x2F;X x 删除光标所在处字符 </p>
<p> X 删除光标前面的字符，</p>
<p>可以 nx &#x2F;nX 表示删除多少个字符</p>
<p>5)删除行 dd&#x2F;D dd 删除光标所在行 </p>
<p> D 从光标所在位置开始到行末位</p>
<p> dgg 删除光标所在行到文件开头的所有数据</p>
<p> dG 删除光标所在行到文件末尾的所有数据</p>
<p> u 用来插销刚才的操作</p>
<p>6)剪贴与粘贴： </p>
<p> dd 剪贴一行</p>
<p> p 粘贴一行</p>
<p>7)复制与粘贴： </p>
<p> yy 复制一行</p>
<p> p 粘贴一行 </p>
<p>8)复制与移动： 底行模式下执行</p>
<p>：开始行，结束行 co 目标行 </p>
<p> 例如 ：1,2 co 5 把第一行到第二行复制到第五行</p>
<p>：开始行，结束行 m 目标行 </p>
<p> 例如： ：1,2 m 5 把第一行到第二行移动到第五行</p>
<p>9)移动到指定行： ：行号 行号G </p>
<p>3、查找与替换命令</p>
<p>\1) 查找 在命令模式使用 “&#x2F;“ 在其后直接写需要查询的</p>
<p> 关键字 然后 回车 &#x3D;&#x3D;》n&#x2F;N 来查询</p>
<p> n 表示从光标处开始往下找</p>
<p> N 表示从光标处开始往上找</p>
<p> &#x2F;&lt;xx&gt; 表示严格匹配查找 xx 字符</p>
<p>比如：&#x2F;&lt;printf&gt; &#x3D;&#x3D;&gt;严格匹配，只查找该单词</p>
<p> &#x2F;printf &#x3D;&#x3D;&gt;模糊匹配，只要包含该单词都高亮显示</p>
<p> 在当前文档中严格匹配查找单词printf</p>
<p>\2) 替换 ：g&#x2F;s1&#x2F;s&#x2F;&#x2F;s2&#x2F;g </p>
<p>将文件中所有的s1字符串都替换成s2，</p>
<p>s1和s2可以使字母也可以是字符串</p>
<p>比如：:g&#x2F;printf&#x2F;s&#x2F;&#x2F;PRINTF&#x2F;g</p>
<p>将当前文档中所有的小写printf全部替换成大写的</p>
<p>printf</p>
<p>4、其他常用操作</p>
<p> u 撤销刚才的操作 . 重复刚才的动作</p>
<p>挂起 ctrl+z 恢复 fg</p>
<p>关键字补齐 ctrl+n 自动缩进 “&#x3D;” </p>
<p>高亮显示 % :sp(:vsp) 文件名 横(纵)向窗口，</p>
<p>ctrl+w 多窗口切换</p>
<p>显示不同 :set diff 去掉显示不同语法 :set nodiff</p>
<p>5、保存退出命令</p>
<p>： wq 保存退出</p>
<p>： q 不保存退出</p>
<p>： x 保存退出</p>
<p>： wq！ 强制保存退出</p>
<p>: q! 强制不保存退出</p>
<p>：wq &#x2F;home&#x2F;linux&#x2F;xxx.c 指定位置保存文件</p>
<h2 id="2-4-压缩解压缩文件"><a href="#2-4-压缩解压缩文件" class="headerlink" title="2.4 压缩解压缩文件"></a>2.4 压缩解压缩文件</h2><p>tar 指令：</p>
<p>tar命令可以为linux的文件和目录创建档案。利用tar，可以为某一特定文件创建档案（备份文件），</p>
<p>也可以在档案中改变文件，或者向档案中加入新的文件。tar最初被用来在磁带上创建档案，现在，</p>
<p>用户可以在任何设备上创建档案。利用tar命令，可以把一大堆的文件和目录全部打包成一个文件，</p>
<p>这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的。</p>
<p>语法</p>
<p>tar (选项) (参数)</p>
<p>选项：</p>
<p>-A或–catenate：新增文件到以存在的备份文件； </p>
<p>-B：设置区块大小；</p>
<p>-c或–create：建立新的备份文件；</p>
<p>-C &lt;目录&gt;：这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。</p>
<p>-d：记录文件的差别； </p>
<p>-x或–extract或–get：从备份文件中还原文件；</p>
<p>-t或–list：列出备份文件的内容； </p>
<p>-z或–gzip或–ungzip：通过gzip指令处理备份文件；</p>
<p>-Z或–compress或–uncompress：通过compress指令处理备份文件；</p>
<p>-f&lt;备份文件&gt;或–file&#x3D;&lt;备份文件&gt;：指定备份文件； </p>
<p>-v或–verbose：显示指令执行过程；</p>
<p>-r：添加文件到已经压缩的文件； </p>
<p>-u：添加改变了和现有的文件到已经存在的压缩文件；</p>
<p>-j：支持bzip2解压文件； </p>
<p>-v：显示操作过程；</p>
<p>-l：文件系统边界设置； </p>
<p>-k：保留原有文件不覆盖；</p>
<p>-m：保留文件不被覆盖； </p>
<p>-w：确认压缩文件的正确性；</p>
<p>操作案例：</p>
<p>打包： tar -cvf xxx.tar xxx</p>
<p>将 xxx 文件&#x2F;目录打包成为 xxx.tar 包文件</p>
<p>解包： tar -xvf xxx.tar</p>
<p>将 xxx.tar 包文件，释放到当前目录中</p>
<p>注意：如果要指定位置解包</p>
<p> tar -xvf xxx.tar -C path</p>
<p>压缩：</p>
<p>zip xxx.zip xxx</p>
<p>将 xxx 文件压缩为 xxx.zip 的压缩文件</p>
<p>如果是目录文件则为：</p>
<p>zip -r xxx.zip xxx</p>
<p>解压缩：</p>
<p>unzip xxx.zip</p>
<p>将xxx.zip压缩文件解压缩到当前目录</p>
<p>如果要指定目录解压缩必须：</p>
<p>unzip xxx.zip -d path</p>
<p>打包压缩命令：</p>
<p>tar -zcvf xxx.tar.gz xxx</p>
<p>将xxx文件&#x2F;目录 打包压缩为 xxx.tar.gz 文件</p>
<p>tar -jcvf xxx.tar.bz2 xxx</p>
<p>将xxx文件&#x2F;目录 打包压缩为 xxx.tar.bz2 文件</p>
<p>解压缩解包命令：</p>
<p>tar -zxvf xxx.tar.gz</p>
<p>将压缩文件直接解压缩解包到当前目录</p>
<p>可以将文件用 -C 参数指定解压缩到目录，比如： tar -zxvf xxx.tar.gz -</p>
<p>C &#x2F;temp </p>
<p>tar -jxvf xxx.tar.bz2</p>
<p>将压缩文件直接接压缩解包到当前目录</p>
<h2 id="2-5-离线管理命令"><a href="#2-5-离线管理命令" class="headerlink" title="2.5 离线管理命令"></a>2.5 离线管理命令</h2><p>rpm 命令：</p>
<p>rpm命令来自英文词组redhat package manager的缩写，中文译为“红帽软件包管理器”，</p>
<p>其功能是在Linux系统下对软件包进行安装、卸载、查询、验证、升级等工作，</p>
<p>常见的主流系统（如RHEL、CentOS、Fedora等）都采用这种软件包管理器，</p>
<p>推荐用固定搭配“rpm -ivh 软件包名”安装软件，而卸载软件则用固定搭配“rpm -evh 软件包名”，</p>
<p>简单好记又好用。</p>
<p>语法格式：rpm 参数 软件包名</p>
<p>常用参数：</p>
<p>-a 显示所有软件包 </p>
<p>-c 仅显示组态配置文件 </p>
<p>-d 仅显示文本文件 </p>
<p>-e 卸载软件包 </p>
<p>-f 显示文件或命令属于哪个软件包 </p>
<p>-h 安装软件包时显示标记信息 </p>
<p>-i 安装软件包 </p>
<p>-l 显示软件包的文件列表</p>
<p>-p 显示指定的软件包信息</p>
<p>-q 显示指定软件包是否已安装</p>
<p>-R 显示软件包的依赖关系</p>
<p>-s 显示文件状态信息 </p>
<p>-U 升级软件包</p>
<p>-v 显示执行过程信息</p>
<p>-vv 显示执行过程详细信息</p>
<p>使用示例：</p>
<p>rpm -ivh cockpit-185-2.el8.x86_64.rpm #正常安装软件包，需要提前下载rpm包文件</p>
<p>#<a target="_blank" rel="noopener" href="https://rpmfind.net/linux/RPM/">https://rpmfind.net/linux/RPM/</a> </p>
<p>#<a target="_blank" rel="noopener" href="http://rpm.pbone.net/">http://rpm.pbone.net/</a></p>
<p>rpm -qa  #显示系统已安装过的全部RPM软件包</p>
<p>rpm -qa | grep cockpit #过滤出其中某一个包</p>
<p>rpm -qa –last #列出所有已安装软件包，按照最近安装或更新时间排序</p>
<p>rpm -qa –last | head -20 #列出最近安装的20个软件</p>
<p>rpm -ql cockpit #查询某个软件的安装路径</p>
<p>rpm -qi cockpit #查看包的信息</p>
<p>rpm -qf &#x2F;sbin&#x2F;ifconfig #查看某一个程序来自哪个安装包</p>
<p>rpm -qd net-tools #查看安装包的帮助文档位置</p>
<p>rpm -qc rsync #查看安装的软件的配置文件位置</p>
<p>rpm -qR et-tools #查看安装软件的依赖包</p>
<p>rpm -qal net-tools-2.0-0.25.20131004git.1.al7.x86_64.rpm #查看rpm包将要安装的文件</p>
<p>rpm -evh cockpit#卸载通过RPM软件包安装的某个服务</p>
<p>rpm -e –nodeps cockpit #卸载软件包，忽略其依赖项。</p>
<p>rpm -Uvh cockpit-185-2.el8.x86_64.rpm #升级某个软件包</p>
<p>rpm -Uvh –force cockpit-185-2.el8.x86_64.rpm #强制安装软件包，即使存在版本冲突或其他问题</p>
<p>如果需要依赖，可以下载依赖并将依赖和程序一起安装</p>
<p>sudo rpm -ivh 主程序.rpm 依赖1.rpm 依赖2.rpm ……</p>
<p>练习：</p>
<p>1、安装telnet工具</p>
<p>2、测试telnet功能</p>
<p>^] 出现表示telnet连接目标服务器和端口成功。</p>
<p>^] 不是输入的信息，是按下 ctrl + ] 会自动输入这个符号并退出telnet连接</p>
<p>quit 整体退出当前控制环境。</p>
<p>3、卸载telnet工具</p>
<h1 id="第三章-包-源管理命令"><a href="#第三章-包-源管理命令" class="headerlink" title="第三章 包&#x2F;源管理命令"></a>第三章 包&#x2F;源管理命令</h1><h2 id="3-1-本地源管理命令"><a href="#3-1-本地源管理命令" class="headerlink" title="3.1 本地源管理命令"></a>3.1 本地源管理命令</h2><p>yum命令：</p>
<p>yum命令来自英文词组yellow dog updater modified的缩写，其功能是在Linux系统中基于RPM技术</p>
<p>进行软件包的管理工作。yum技术通用于RHEL、CentOS、Fedora、OpenSUSE等主流系统，可以</p>
<p>让系统管理人员交互式地自动化更新和管理软件包，实现从指定服务器自动下载、更新、删除软件包</p>
<p>的工作。 yum软件仓库及命令能够自动处理软件依赖关系，一次性安装所需的全部软件，无须烦琐的操作。</p>
<p>语法格式：yum 参数 动作 软件包</p>
<p>常用参数</p>
<p>install 安装软件包 </p>
<p>update 更新软件包 </p>
<p>check-update 检查是否有可用的更新软件包</p>
<p>remove 删除软件包 </p>
<p>list 显示软件包的信息</p>
<p>search 搜索指定软件包 </p>
<p>info 显示指定软件包的描述和概要信息 </p>
<p>clean 清理过期的缓存</p>
<p>shell 设置使用的shell提示符</p>
<p> resolvedep 显示软件包的依赖关系</p>
<p>localinstall 安装本地软件包</p>
<p> localupdate 更新本地软件包</p>
<p>deplist 显示软件包的依赖关系</p>
<p>参考示例</p>
<p>yum clean all #清理原有的软件仓库信息缓存</p>
<p>yum makecache #建立最新的软件仓库信息缓存,默认连接原来的互联网源</p>
<p>yum install httpd #安装指定的服务及相关软件包</p>
<p>yum update httpd #更新指定的服务及相关软件包</p>
<p>yum remove httpd #卸载指定的服务及相关软件包</p>
<p>yum search httpd #使用YUM查找软件包</p>
<p>yum grouplist #显示可安装的软件包组列表</p>
<p>yum list #列出所有可安裝的软件清单</p>
<p>yum info httpd #显示指定服务的软件信息</p>
<p>yum check-update #列出所有可更新的软件清单</p>
<p>yum update #安装所有更新软件</p>
<p>yum list installed #列出所有已安装的软件包</p>
<p>yum info installed #出所有已安裝的软件包信息</p>
<p>yum本地源实现过程及原理：</p>
<p>先在yum服务器上创建 yum repository（仓库），在仓库中事先存储了众多rpm包，</p>
<p>以及包的相关的元数据文件（放置于特定目录repodata下），当yum客户端利用yum&#x2F;dnf工具进行</p>
<p>安装时会自动下载repodata中的元数据，查询元数据是否存在相关的包及依赖关系，自动从仓库中找到相关包下载并安装。</p>
<p>yum需要依赖于环境，依赖于服务端和客户端，允许跨网络。</p>
<p>（1）服务端需要的两个文件：</p>
<p>RPM包（Packages文件夹中）</p>
<p>元数据（repodata文件夹：目录（软件的目录），软件的依赖关系，软件的位置）</p>
<p>（2）客户端的配置文件中 ：</p>
<p>baseurl&#x3D;地址一定要写到这两个文件夹repodata和packages的上级目录</p>
<p>最终形成两个文件夹Packages (包文件夹一般取名packages)和repodata（元数据文件夹）</p>
<p>（3）仓库类型：</p>
<p>光盘的仓库基本仓库：比较常用的</p>
<p>epel扩展仓库：比较新</p>
<p>本地光盘仓库搭建过程：</p>
<p>1、虚拟机加载并连接系统安装光盘</p>
<p>2、挂载光盘到本地临时目录</p>
<p>mount &#x2F;dev&#x2F;sr0 &#x2F;mnt&#x2F;</p>
<p>mount 是挂载命令，也叫映射命令，可以将指定文件映射到另一个位置</p>
<p>&#x2F;dev&#x2F;sr0 &#x2F; 是根目录 dev&#x2F; 是&#x2F;目录下的一级子目录 dev sr0是dev目录下的光盘文件</p>
<p>&#x2F;mnt&#x2F; &#x2F; 是根目录 mnt&#x2F; 是&#x2F;目录下的一级子目录 mnt 因为这是系统临时挂载目录</p>
<p>如果映射成功</p>
<p>如果映射不成功，根据实际错误找解决方案。</p>
<p>记着，mount可能会失效，1、关机重启 2、光盘断开</p>
<p>如果要主动断开，用 umount &#x2F;mnt 会主动断开挂载。</p>
<p>3、如果有文件就备份本地原有配置，没有则跳过本操作</p>
<p>cd &#x2F;etc&#x2F;yum.repos.d&#x2F;</p>
<p>mkdir bak</p>
<p>mv *.repo bak&#x2F;</p>
<p>4、创建新的本地配置文件</p>
<p>要注意文件权限问题， sudo vim 打开或者 su root 再打开</p>
<p>vim local.repo #写入如下内容：</p>
<p>[RHEL9-BaseOS]</p>
<p>name&#x3D;RHEL9-BaseOS</p>
<p>baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;mnt&#x2F;BaseOS</p>
<p>gpgcheck&#x3D;0</p>
<p>[RHEL9-Appstream]</p>
<p>name&#x3D;RHEL9-Appstream</p>
<p>baseurl&#x3D;file:&#x2F;&#x2F;&#x2F;mnt&#x2F;AppStream</p>
<p>gpgcheck&#x3D;0</p>
<p>主配置文件：cat &#x2F;etc&#x2F;yum.conf</p>
<p>默认的yum仓库 是centos官方的yum源，需要联网才可以使用。 ls &#x2F;etc&#x2F;yum.repos.d&#x2F;</p>
<p>[main] #保存着yum的全局设置</p>
<p>gpgcheck&#x3D;1 #检查来源是否合法,需要有制作者的公钥信息</p>
<p>installonly_limit&#x3D;3 #同时可以安装3个软件包、最小为2，设置为0或者1则不限制</p>
<p>clean_requirements_on_remove&#x3D;True #删除包时，是否将不再使用的包删除</p>
<p>best&#x3D;True #升级时，自动选择安装最新版，即使缺少包的依赖</p>
<p>skip_if_unavailable&#x3D;False #不解决依赖安装</p>
<p>5、刷新缓存</p>
<p>yum clean all </p>
<p>yum makecache</p>
<p>yum 本地光盘源仓库创建成功。</p>
<p>6、测试安装软件</p>
<p>yum install httpd</p>
<h2 id="3-2-网络源管理命令"><a href="#3-2-网络源管理命令" class="headerlink" title="3.2 网络源管理命令"></a>3.2 网络源管理命令</h2><p>局域网yum源配置: 建设一个本地网络仓库给本地局域网用户提供下载安装。</p>
<p>第三方yum源配置: 在线获取最新安装文件的通道。</p>
<hr>
<p>1、局域网Web方式yum源配置：</p>
<p>服务器提供yum安装服务：</p>
<p>yum install -y httpd #安装并启动httpd</p>
<p>setenforce 0 #关闭SELinux</p>
<p>#getenforce # 查看当前状态</p>
<p>Permissive #关闭状态的效果</p>
<p>systemctl stop firewalld #临时关闭防火墙</p>
<p>systemctl status firewalld #查看防火墙状态，空圈表示关闭，绿点表示开启</p>
<p>q 按键退出查看状态命令</p>
<p>systemctl start httpd # 启动httpd</p>
<p>systemctl status httpd #查看httpd是否启动，查看完毕用q键退出。</p>
<p>httpd服务的目录文件在 &#x2F;var&#x2F;www&#x2F;html</p>
<p>进入该目录，创建文件夹：mkdir rhiso，挂载光盘到 rhiso</p>
<p>mount &#x2F;dev&#x2F;sr0 &#x2F;var&#x2F;www&#x2F;html&#x2F;rhiso</p>
<p>在浏览器输入本机ip&#x2F;rhiso，比如：<a target="_blank" rel="noopener" href="http://127.0.0.1/rhiso/">http://127.0.0.1/rhiso/</a> 出现下面页面</p>
<p>代表配置完成</p>
<p>中文乱码解决方法 在 &#x2F;etc&#x2F;httpd&#x2F;conf&#x2F;httpd.conf 配置文件中加入</p>
<p>IndexOptions Charset&#x3D;UTF-8</p>
<p>客户端访问服务器的yum源：</p>
<p>当在上一台机器已经配置好httpd后，我们选择同一网段内网其他机器配置yum源去访问此台服务器</p>
<p>如果使用拿不到ip地址，是因为我们都是同一个虚拟机拷贝的，会出现地址冲突</p>
<p>mv &#x2F;var&#x2F;lib&#x2F;NetworkManager &#x2F;var&#x2F;lib&#x2F;NetworkManager.bak #网络接口备份</p>
<p>reboot #重启虚拟机机器，设备在重启阶段会自动创建一个新的接口。</p>
<p>有ip地址后，测试一下，当前客户机是否与服务器联通情况，</p>
<p>ping 192.168.x.x #测试当前主机是否与服务器连接畅通</p>
<p>cd &#x2F;etc&#x2F;yum.repos.d&#x2F;</p>
<p>vim local.repo 加入如下内容：</p>
<p>[RHEL9-BaseOS]</p>
<p>name&#x3D;RHEL9-BaseOS</p>
<p>baseurl&#x3D;<a target="_blank" rel="noopener" href="http://172.16.80.63/rhiso/BaseOS">http://172.16.80.63/rhiso/BaseOS</a></p>
<p>gpgcheck&#x3D;0</p>
<p>[RHEL9-Appstream]</p>
<p>name&#x3D;RHEL9-Appstream</p>
<p>baseurl&#x3D;<a target="_blank" rel="noopener" href="http://172.16.80.63/rhiso/AppStream">http://172.16.80.63/rhiso/AppStream</a></p>
<p>gpgcheck&#x3D;0</p>
<p>yum clean all #清理旧缓存</p>
<p>yum makecache #建立新缓存</p>
<p>yum repolist #查看仓库列表</p>
<p>测试安装：</p>
<p>yum install telnet</p>
<p>2、建立第三方网络源，要求互联网要畅通。</p>
<p>阿里云网络源，aliyun的镜像站点为<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/">https://mirrors.aliyun.com/</a></p>
<p>redhat 9.0 版本是在 centos 里，点击centos</p>
<p>[root@master ~]# cat &#x2F;etc&#x2F;redhat-release</p>
<p>Red Hat Enterprise Linux release 9.3 (Plow)</p>
<p>注：此处先查看自己的发行版本信息，选择相应的仓库。</p>
<p>#仓库文件可以自己写也可以从aliyun网站下载</p>
<p>[root@master ~]# vim &#x2F;etc&#x2F;yum.repos.d&#x2F;aliyun.repo</p>
<p>[appstream]</p>
<p>name&#x3D;appstream</p>
<p>#baseurl&#x3D;<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/centos-stream/9-stream/-AppStream/x86_64/os/">https://mirrors.aliyun.com/centos-stream/9-stream/-AppStream/x86_64/os/</a></p>
<p>baseurl&#x3D;<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/AppStream/x86_64/os/">https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/AppStream/x86_64/os/</a></p>
<p>gpgcheck&#x3D;0</p>
<p>[baseos]</p>
<p>name&#x3D;baseos</p>
<p>#baseurl&#x3D;<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/centos-stream/9-stream/BaseOS/x86_64/os/">https://mirrors.aliyun.com/centos-stream/9-stream/BaseOS/x86_64/os/</a></p>
<p>baseurl&#x3D;<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/BaseOS/x86_64/os/">https://mirrors.tuna.tsinghua.edu.cn/centos-stream/9-stream/BaseOS/x86_64/os/</a></p>
<p>gpgcheck&#x3D;0</p>
<p>#验证互联网源是否配置成功</p>
<p>[root@kongd ~]# yum clean all #删除旧缓存</p>
<p>[root@kongd ~]# yum makecache #创建新缓存</p>
<p>#验证能否装包成功</p>
<p>[root@master ~]# yum install gcc -y</p>
<p>gcc -v</p>
<p>最后显示如下表示编译器 gcc 安装成功</p>
<p>gcc 版本 11.4.1 20231218 (Red Hat 11.4.1-3) (GCC)</p>
<p>- 清华源镜像站点为<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/">https://mirrors.tuna.tsinghua.edu.cn/</a></p>
<p>- 中国科技大学镜像站点<a target="_blank" rel="noopener" href="https://mirrors.ustc.edu.cn/">https://mirrors.ustc.edu.cn/</a></p>
<p>- 网易开源镜像站<a target="_blank" rel="noopener" href="http://mirrors.163.com/">http://mirrors.163.com/</a></p>
<p>- ……等等很多大学开源镜像站点……</p>
<p>扩展源EPEL是 yum 的一个软件源, 里面包含了许多基本源里没有的软件</p>
<p>yum install <a target="_blank" rel="noopener" href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm">https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm</a></p>
<p>然后可以安装其他扩展软件：</p>
<p>yum install sl</p>
<p>yum install tmux</p>
<p>git clone <a target="_blank" rel="noopener" href="https://github.com/dustinkirkland/hollywood.git./hollywood/bin/hollywood">https://github.com/dustinkirkland/hollywood.git./hollywood/bin/hollywood</a> &amp; </p>
<h2 id="3-3-源码管理命令"><a href="#3-3-源码管理命令" class="headerlink" title="3.3 源码管理命令"></a>3.3 源码管理命令</h2><p>源码包的安装</p>
<p>编译需要编译环境，开发环境，开发库，开发工具。</p>
<p>常用的编译环境有c、c++、perl、java、python 5种</p>
<p>c环境的编译器：gcc（GNU C Complier）</p>
<p>c++环境的编译器：g++</p>
<p>make（进行编译的动作）编译命令：c、c++的统一项目管理工具，</p>
<p>编译时有可能调用gcc也有可能调用g++。</p>
<p>使用makefile文件定义make按何种次序去编译源程序文件中的源程序</p>
<p>源码安装三部曲（常见）：</p>
<p>第一步: .&#x2F;configure（定制组件）</p>
<p>1.指定安装路径，例如 –prefix&#x3D;&#x2F;opt&#x2F;nginx-1.12</p>
<p>2.启用或禁用某项功能, 例如 –enable-ssl</p>
<p>3.和其它软件关联，例如–with-pcre</p>
<p>4.检查安装环境，例如是否有编译器 gcc，是否满足软件的依赖需求</p>
<p>5.检测通过后生成Makefile文件</p>
<p>第二步: make （生成程序）</p>
<p>1.执行make命令进行编译, 可以使用-j指定CPU核心数进行编译</p>
<p>2.按Makefile文件进行编译, 编译成可执行二进制文件</p>
<p>3.生成各类模块和主程序</p>
<p>第三步: make install</p>
<p>1.按Makefile定义好的路径拷贝至安装目录中</p>
<p>上面介绍的源码三部曲不能百分百通用于所有源码包, 也就是说源码包的安装并</p>
<p>非存在标准安装步骤，</p>
<p>但是大部分源码安装都是类似的步骤</p>
<p>建议:</p>
<p>拿到源码包解压后，然后进入到目录找相关的帮助文档，通常会以INSTALL或者</p>
<p>README为文件名</p>
<p>vim 编辑器 &#x3D;&#x3D;》写代码</p>
<p>gcc 编译器 &#x3D;&#x3D;》编代码</p>
<p>gdb 调试器 &#x3D;&#x3D;》调程序</p>
<p>&#x3D;==&#x3D;&#x3D;》平台：Linux 操作系统</p>
<p>源码包编译实例1：</p>
<p>下面通过编译安装nginx来深入理解源码包安装</p>
<p>1.基础环境准备 [root@localhost ~]# </p>
<p>编译器：yum -y install gcc gcc-c++ make wget</p>
<p>依赖包：yum -y install zlib zlib-devel openssl pcre pcre-devel</p>
<p>2.下载源码包(源码包一定要上官方站点下载，其他站点不安全)</p>
<p> [root@localhost ~]# cd &#x2F;usr&#x2F;src</p>
<p> [root@localhost src]# wget <a target="_blank" rel="noopener" href="http://nginx.org/download/nginx-1.12.2.tar.gz">http://nginx.org/download/nginx-1.12.2.tar.gz</a></p>
<p>&#x2F;&#x2F;3.解压源码包,并进入相应目录</p>
<p>[root@localhost src]# tar -zxvf nginx-1.12.2.tar.gz</p>
<p>[root@localhost src]# cd nginx-1.12.2</p>
<p>&#x2F;&#x2F;4.配置相关的选项，并生成Makefile</p>
<p>[root@localhost nginx-1.12.2]# .&#x2F;configure –prefix&#x3D;&#x2F;opt&#x2F;-nginx-1.12.2 #配置编译环境</p>
<p>#以上结果就是Makefile文件生成，请检查，如果没有就是configure失败。</p>
<p>&#x2F;&#x2F;5.编译并安装</p>
<p>[root@localhost nginx-1.12.2]# make #开始编译源码，成功就有程序在obj目录生成。</p>
<p>[root@localhost nginx-1.12.2]# make install #开始安装程序</p>
<p>&#x2F;&#x2F;6.建立软链接</p>
<p>[root@localhost nginx-1.12.2]# ln -s &#x2F;opt&#x2F;nginx-1.12.2 &#x2F;opt&#x2F;nginx</p>
<p>&#x2F;&#x2F;7.测试效果</p>
<p>systemctl stop httpd #停止Apache 的httpd </p>
<p>cd objs #进入当前生成的程序目录</p>
<p>.&#x2F;nginx #启动nginx程序，它也是一个web服务器，可以通过浏览器访问。</p>
<p>打开浏览器，输入127.0.0.1 </p>
<p>可能出现的错误：</p>
<p>1、not found .&#x2F;configure: error: C compiler cc is not found</p>
<p>&#x2F;&#x2F;解决方案</p>
<p>[root@localhost ~]# yum -y install gcc gcc-c++ make</p>
<p>2.&#x2F;configure: error: the HTTP rewrite module requires the PCRE library.</p>
<p>&#x2F;&#x2F;解决方案</p>
<p>[root@localhost ~]# yum install -y pcre-devel</p>
<p>3.&#x2F;configure: error: the HTTP gzip module requires the zlib library.</p>
<p>&#x2F;&#x2F;解决方案:</p>
<p>[root@localhost ~]# yum -y install zlib-devel</p>
<p>4.&#x2F;configure: error: SSL modules require the OpenSSL library.</p>
<p>&#x2F;&#x2F;解决方案</p>
<p>[root@localhost ~]# yum -y install openssl-devel</p>
<p>5.error: ‘struct crypt_data’ has no member named ‘current_salt’</p>
<p> cd.current_salt[0] &#x3D; ~salt[0];</p>
<p>&#x2F;&#x2F;解决方案</p>
<p>vim src&#x2F;os&#x2F;unix&#x2F;ngx_user.c</p>
<p>将36行 **cd.current_salt[0] &#x3D; ~salt[0];**注释掉</p>
<p>6、ngx_http_script.c:698:18: error: cast between incompatible function</p>
<p>&#x2F;&#x2F;解决方案</p>
<p>进入objs目录下修改Makefile文件</p>
<p>CFLAGS &#x3D; -pipe -O -W -Wall -Wpointer-arith -Wno-unused-parameter <strong>-Werror</strong> -g</p>
<p>将 <strong>- Werror</strong> 去掉</p>
<p>源码包安装示例2：</p>
<p>linux-安装cmatrix（黑客帝国矩阵效果）</p>
<p>1、安装aalib</p>
<p>wget <a target="_blank" rel="noopener" href="https://nchc.dl.sourceforge.net/project/aa-project/aa-lib/1.4rc5/-aalib-1.4rc5.tar.gz">https://nchc.dl.sourceforge.net/project/aa-project/aa-lib/1.4rc5/-aalib-1.4rc5.tar.gz</a></p>
<p>tar xf aalib-1.4rc5.tar.gz</p>
<p>cd aalib-1.4.0&#x2F;</p>
<p>.&#x2F;configure</p>
<p>make</p>
<p>make install</p>
<p>2、安装aview</p>
<p>wget <a target="_blank" rel="noopener" href="http://prdownloads.sourceforge.net/aa-project/-aview-1.3.0rc1.tar.gz">http://prdownloads.sourceforge.net/aa-project/-aview-1.3.0rc1.tar.gz</a></p>
<p>tar xf aview-1.3.0rc1.tar.gz</p>
<p>cd aview-1.3.0 </p>
<p>.&#x2F;configure </p>
<p>make </p>
<p>make install</p>
<p>3、安装ImageMagick</p>
<p>yum install ImageMagick</p>
<p>yum install ncurses-devel</p>
<p>4、安装cmatrix</p>
<p>wget <a target="_blank" rel="noopener" href="https://jaist.dl.sourceforge.net/project/cmatrix/cmatrix/1.2a/-cmatrix-1.2a.tar.gz">https://jaist.dl.sourceforge.net/project/cmatrix/cmatrix/1.2a/-cmatrix-1.2a.tar.gz</a></p>
<p>tar xf cmatrix-1.2a.tar.gz</p>
<p>cd cmatrix-1.2a</p>
<p>.&#x2F;configure </p>
<p>make </p>
<p>make install</p>
<p>验证程序是否可以执行：</p>
<p>cmatrix</p>
<p>cmatrix -b -u 3 -C blue 退出程序按q键</p>
<p>可能出现的错误：</p>
<p>1、cmatrix.c:86：对‘curs_set’未定义的引用</p>
<p>报错：致命错误：curses.h：没有那个文件或目录</p>
<p>原因：主要因为系统中没有找到ncurses-devel软件包</p>
<p>解决：yum install -y ncurses-devel</p>
<p>2、cmatrix.c:516：对‘LINES’未定义的引用</p>
<p>报错：make: *** [cmatrix] 错误 1</p>
<p>原因：需要的包都安装了，可能是软件配置时出现了问题</p>
<p>解决：删除该目录，重新解压，重新配置</p>
<hr>
<p>扩展：</p>
<p>在选择Web服务器时，Nginx和Apache都是备受推崇的选择。然而，对于许多开发者和管理员来说，</p>
<p>选择哪一个可能会成为一个难以解决的问题。因此，我们需要对两者进行比较，以确定哪一个更适合我们的需求。</p>
<p>首先，Nginx以其高效的性能而闻名。它是一个轻量级的Web服务器，可以处理大量并发连接。</p>
<p>相比之下，Apache是一个成熟的Web服务器，但它在处理并发连接时可能会出现性能瓶颈。因此，</p>
<p>如果您需要处理大量并发连接，Nginx可能是更好的选择。</p>
<p>其次，Nginx具有更好的负载均衡功能。它可以在多个服务器之间均衡地分配流量，以提高性能和可靠性。Apache也可以实现负载均衡，但相对来说要更为复杂。</p>
<p>最后，Nginx的配置文件比Apache更为简单和易于理解。这意味着您可以更快地配置服务器并更快地上线。</p>
<p>相比之下，Apache的配置可能会更加复杂，需要更多的时间和精力</p>
<h1 id="第四章-网络管理命令"><a href="#第四章-网络管理命令" class="headerlink" title="第四章 网络管理命令"></a>第四章 网络管理命令</h1><h2 id="4-1-网络基础知识"><a href="#4-1-网络基础知识" class="headerlink" title="4.1 网络基础知识"></a>4.1 网络基础知识</h2><p>OSI 7层模型</p>
<p>应用层     应用程序及接口</p>
<p>表示层     对数据进行转换、加密和压缩<br>会话层     建立、管理和终止会话·</p>
<p>传输层   提供可靠的端到端的报文传输和差错控制</p>
<p>网络层    将分组从源端传送到目的端;提供网络互联</p>
<p>数据链路层   将分组数据封装成帧;提供节点到节点方式的传输</p>
<p>物理层      在媒体上传输比特;提供机械的和电气的规约</p>
<p>TCP&#x2F;IP 4层模型</p>
<p>应用层、表示层、会话层     应用层：DNS, URI, HTML, HTTP,TLS&#x2F;SSL, SMTP, POP, IMAP,MIME, TELNET, SSH, FTP,SNMP, MIB, SIP, RTP, LDAP    应用程序</p>
<p>传输层       传输层TCP, UDP, UDP-Lite, SCTP, DCCP    </p>
<p>网络层        互联网层ARP, IP, ICMP                                               操作系统</p>
<p>数据链路层    网卡层</p>
<p>物理层            (硬件)                                                  设备驱动程序与网络接口</p>
<p>MAC地址:每一个设备都拥有唯一的MAC地址，共48位，使用十六进制表示。以太网协议:是一种使用广泛的局域网技术，是一种应用于数据链路层的协议，使用以太网可以完成相邻设备的数据帧传输:</p>
<table>
<thead>
<tr>
<th>目的地址</th>
<th>源地址</th>
<th>类型</th>
<th>帧数据</th>
<th>CRC</th>
</tr>
</thead>
<tbody><tr>
<td>6</td>
<td>6</td>
<td>2</td>
<td>46~1500</td>
<td>4</td>
</tr>
</tbody></table>
<p>LAN,WAN,MAN,PAN的划分：按照网络的作用范围进行分类，</p>
<p>分别为：广域网WAN（几十到几千公里）、城域网MAN（5~50KM）、局域网LAN（1km左右）、个人局域网PAN（10米左右）</p>
<p>IP地址：分类IP地址；互联网中的IP地址，特殊IP地址（网络地址，广播地址）</p>
<p>A类地址：0.0.0.0~127.255.255.255</p>
<p>B类地址：128.0.0.0~191.255.255.255</p>
<p>C类地址：192.0.0.0~223.255.255.255</p>
<p>D类地址：224.0.0.0~239.255.255.255</p>
<p>E类地址：240.0.0.0~255.255.255.255</p>
<p>互联网中的IP地址：有两个字段组成，</p>
<p>第一个字段是网络号，标志着主机（或路由器）要连接到的网络；</p>
<p>第二个字段是主机号，标志着一台主机号在他前面的网络号所指明的网络范围内</p>
<p> 必须是唯一的特殊IP地址（网络地址，广播地址等） ：</p>
<p>网络号特定值；主机号全是0：网络地址，表示一个网络，如：10.0.0.0</p>
<p>网络号特定值，主机号全是1：直接广播地址，指特定网络中的所有主机，如：10.255.255.255</p>
<p>网络号主机号都为1，有限广播地址，指本网络中的所有主机：255.255.255.255</p>
<p>网络号主机号都为0，未获取UO地址的主机或路由表中的默认路由。</p>
<p>网络号127，主机号全0或全1除外的任何数，环回地址，用于本主机软件环回测试。</p>
<p>网络号169.254，主机号全0或全1除外的任何数，当不能DHCP正常得到IP地址时，系统自动分配的地址。</p>
<p>单播：单个源节点向单个目的结点发送分组；</p>
<p>广播：单个源节点向同网络中的所有结点发送分组；</p>
<p>多播：单个源节点向多个目的结点发送分组；</p>
<p>任播：单个源节点向多个目的结点中距离最近的单个结点发送分组；</p>
<p>UDP和TCP的特点：</p>
<p>TCP:传输控制协议（TCP）</p>
<p>仅单播，不支持多播、广播</p>
<p>面向连接，可靠按序</p>
<p>流量控制（发送速率不超过接收方的接收能力）</p>
<p>拥塞控制（网络过载时限制发送方的发送速率）</p>
<p>UDP:用户数据报协议（UDP）</p>
<p>支持单播、多播、广播</p>
<p>无连接，不可靠</p>
<p>可以任何速率发送数据</p>
<h2 id="4-2-接口管理命令"><a href="#4-2-接口管理命令" class="headerlink" title="4.2 接口管理命令"></a>4.2 接口管理命令</h2><p>自动化运维：</p>
<p>系统运维： Linux 操作系统，管理，配置，日志，权限……</p>
<p>DB 运维： 数据库，MYSQL ,ORACLE,REDIS,DB2 …….</p>
<p>安全运维： 系统安全，应用软件安全，已知漏洞，攻击防御……</p>
<p>网络运维： 交换机，路由器，三层设备，wifi ……..</p>
<p>ip命令 字符终端,可以立即生效但系统重启后配置会丢失.</p>
<p>nmcli命令 字符终端,可以立即生效且系统重启后配置也不会丢失.</p>
<p>nmtui命令 可视化终端,立即生效，重启有效。</p>
<hr>
<p>ip命令：</p>
<p> ip指令可以显示或操作路由、网路设备，设置路由策略和通道。</p>
<p> 此命令的适用范围：RedHat、RHEL、Ubuntu、CentOS、SUSE、openSUSE、Fedora。</p>
<p>ip [选项] OBJECT COMMAND [help]</p>
<p>OBJECT对象可以是：link，网络设备；addr，设备的协议地址；route，路由表；rule，策略；neigh，arp缓存；tunnel，ip通道；maddr，多播地址；mroute，多播路由</p>
<p>COMMAND是操作命令，不同的对象有不同的命令配置。</p>
<p>link对象支持的命令：set、show。</p>
<p>addr对象支持的命令：add、del、flush、show。</p>
<p>route对象支持的命令：list、flush、get、add、del、change、append、replace、monitor。</p>
<p>rule对象支持的命令：list、add、del、flush。</p>
<p>neigh对象支持的命令：add、del、change、replace、show、flush。</p>
<p>tunnel对象支持的命令：add、change、del、show。</p>
<p>maddr支持的命令：add、del。</p>
<p>mroute支持的命令：show</p>
<p>其中选项列表</p>
<p> -V | -Version 显示版本信息</p>
<p> –help 显示帮助信息</p>
<p> -s | -stats | -statistics 显示详细的信息</p>
<p> -f | -family 指定协议类型</p>
<p> -4 等同-family inet</p>
<p> -6 等同-family inet6</p>
<p> -0 等同-family link</p>
<p> -o | -oneline 每条记录输出一行</p>
<p> -r | -resove 使用系统名字解析DNS</p>
<p>使用 ip 命令可以配置临时网络的连接信息，相关命令示例如下：</p>
<p>ip link #显示网络设备运行状态</p>
<p>ip address #协议地址管理</p>
<p>ip route #路由表管理</p>
<p>ip -s link： 显示更详细的设备信息</p>
<p>ip link show [网络设备名]： 仅显示指定的网络设备名的信息</p>
<p>ip link show ens160</p>
<p>ip link set [网络设备名] down：将指定的网络设备下线</p>
<p>ip link set ens160 down</p>
<p>ip link set [网络设备名] up： 将指定的网络设备下线</p>
<p>ip link set ens160 up</p>
<p>ip addr|a show [网络设备名]：</p>
<p>查看指定网络设备（网卡名称）的配置信息，如果加了 -s 选项，</p>
<p>ip -s addr show #会添加相关的统计信息，如果接收到的或传送的数据包等</p>
<p>ip [-4] addr|a add IP地址[&#x2F;掩码] dev [网络设备名]：</p>
<p>添加一个临时的 IPv4 的地址（重启后失效）</p>
<p>ip -4 a add 192.168.72.120&#x2F;24 dev ens160</p>
<p>添加完成查看效果</p>
<p>ip a show ens160</p>
<p>ip [-4] addr|a del IP地址[&#x2F;掩码] dev [网络设备名]：删除网卡的临时IPv4地址</p>
<p>ip -4 a del 192.168.72.120&#x2F;24 dev ens160</p>
<p>删除完成查看效果</p>
<p>ip a show ens160</p>
<p>也可以修改配置文件添加地址，但是</p>
<p>在 redhat 9 中，已经不推荐修改配置文件了，而推荐使用命令的方式来进行配置。</p>
<p>要修改配置文件，</p>
<p>我们需要编辑 &#x2F;etc&#x2F;NetworkManager&#x2F;system-connections 目录下ens160.nmconnection 文件中。</p>
<p>注意：不同的电脑，这个文件的名称可能不同。</p>
<p>下面我们把这个文件编辑一下，把我们固定 IP 写到这个文件中，并指定dns 和 网关。</p>
<p>#省略</p>
<p>[ipv4]</p>
<p>address&#x3D;192.168.72.121&#x2F;24,192.168.72.2</p>
<p>dns&#x3D;8.8.8.8;192.168.72.2;61.134.1.4;114.114.114.114</p>
<p>method&#x3D;manual</p>
<p># 其他省略 保持不变</p>
<p>常用：</p>
<p>ip -s a show ens160</p>
<p>ip -4 a add 192.168.72.120&#x2F;24 dev ens160</p>
<p>ip -4 a del 192.168.72.120&#x2F;24 dev ens160</p>
<p>ip link set ens160 down</p>
<p>ip link set ens160 up</p>
<p>ip link show dev ens160 </p>
<p>ip -s link</p>
<p>其他详见附件 ip 命令</p>
<p>nmcli 命令:</p>
<p>NetworkManager Client </p>
<p>自动把配置写到 &#x2F;etc&#x2F;NetworkManager&#x2F;system-connections&#x2F;-ens160.nmconnection</p>
<p>接口(device)是物理设备，一个物理设置可以拥有多个配置文件，但只能有一个配置文件</p>
<p>属于使用(active)状态；配置文件的生成与使用状态均由NetworkManager控制。</p>
<p>查看网卡设备</p>
<p>语法： nmcli device 或者简写为 nmcli d</p>
<p>使用示例：</p>
<p>[root@localhost system-connections]# nmcli device</p>
<p>[root@localhost system-connections]# nmcli d</p>
<p>[root@localhost system-connections]# nmcli d show </p>
<p>[root@localhost system-connections]# nmcli d show ens160 #显示指定设备的详细信息</p>
<p>[root@localhost system-connections]# nmcli d connect ens160 #连接网络，就是激活ens160设备</p>
<p>[root@localhost system-connections]# nmcli d disconnect ens160 # 断开网络，也就是把网卡禁用了</p>
<p>查看网卡配置</p>
<p>语法： nmcli connectioin 或简写为 nmcli c</p>
<p>[root@localhost ~]# nmcli connection # 查看网卡信息</p>
<p>[root@localhost ~]# nmcli c show ens160 | grep -i gateway # 查看自动获取的网关地址</p>
<p>[root@localhost ~]# nmcli c show ens160 | grep -i dns # 查看当前网卡的dns配置</p>
<p>配置网卡IP：</p>
<p>1）非交互式</p>
<p>需求：修改 ens160 的 ip 地址为 192.168.72.128，并且是 ipv4，自动连接，</p>
<p>dns为 114.114.114.114，网关为 192.168.72.2，子网掩码为255.255.255.0</p>
<p>然后再添加一个 ip 地址：192.168.72.125</p>
<p>[root@localhost ~]# nmcli c modify ens160 ipv4.method manual autoconnect yes</p>
<p>ipv4.addresses 192.168.72.128&#x2F;24 ipv4.gateway 192.168.72.2 ipv4.dns</p>
<p>114.114.114.114 +ipv4.addresses 192.168.72.125&#x2F;24</p>
<p>如果没有立即生效，需要重启服务： systemctl restart NetworkManager</p>
<p>[root@localhost ~]# cat &#x2F;etc&#x2F;NetworkManager&#x2F;systemconnections&#x2F;-ens160.nmconnection</p>
<p>命令说明：</p>
<p>nmcli c modify ens160： 表示要修改的网卡</p>
<p>ipv4.method manual： 表示网络连接方式为手动配置</p>
<p>autoconnect yes： 表示自动连接，即系统一启动网络就可以用</p>
<p>ipv4.addresses 192.168.72.128&#x2F;24：配置 ipv4 格式的 IP 地址和子网掩码</p>
<p>ipv4.gateway 192.168.72.2： 配置网关信息,就是路由指向下一跳</p>
<p>ipv4.dns 114.114.114.114： 配置dns服务，域名解析服务</p>
<p>+ipv4.addresses 192.168.72.125&#x2F;24：表示再添加一个 IP 地址</p>
<p>-ipv4.addresses 192.168.72.125&#x2F;24：表示删除一个 IP 地址</p>
<p>2）交互式</p>
<p>[root@localhost ~]# nmcli c edit ens160</p>
<p>nmcli&gt;goto ipv4</p>
<p>nmcli ipv4&gt; set dns 192.168.72.2</p>
<p>nmcli ipv4&gt; save</p>
<p>nmcli ipv4&gt; activate</p>
<p>nmcli ipv4&gt; quit</p>
<p>nmcli c show ens160 | grep -i dns</p>
<p>nmcli c up ens160 # 连接网络，即让网卡可用并使设置立即生效</p>
<p>nmcli c down ens160 # 断开网络</p>
<p>nmcli c delete ens160 # 删除网络，注意这个命令不要执行</p>
<p>说明：</p>
<p>在NM里，有2个维度：连接（connection）和设备（device），</p>
<p>这是多对一的关系。想给某个网卡配ip，首先NM要能纳管这个网卡。</p>
<p>设备里存在的网卡（即 nmcli d可以看到的），就是NM纳管的。接着，可以为一个设备配置</p>
<p>多个连接（即 nmcli c可以看到的），每个连接可以理解为一个ifcfg配置文件。</p>
<p>同一时刻，一个设备只能有一个连接活跃。可以通过 nmcli c up切换连接。</p>
<p>nmcli d &#x3D;&#x3D;&gt;device 是设备的意思，一般都是某个网卡设备</p>
<p>nmcli c &#x3D;&#x3D;&gt;connect 是连接的意思，一般都是某个配置文件</p>
<p>一个d可以有多个c，但是一个c一定只有一个d</p>
<p>常用：</p>
<p>nmcli d show ens160</p>
<p>nmcli d connect ens160 #让命令立即生效</p>
<p>nmcli d disconnect ens160</p>
<p>nmcli d modify ens160 +ipv4.addresses 192.168.0.2&#x2F;24</p>
<p>nmcli c show ens160 | grep -i gateway </p>
<p>nmcli c up ens160 # 连接网络，让命令立即生效</p>
<p>nmcli c down ens160 # 断开网络</p>
<p>nmcli c mod ens160 +ipv4.addresses 192.168.0.2&#x2F;24</p>
<p>最后也可以通过如下方式让命令生效，需要重新取消激活&#x2F;激活，或者重启网络服务才能使之生效。</p>
<p>systemctl restart NetworkManager</p>
<p>nmtui 命令：</p>
<p>NetworkManager Termial user interface</p>
<p>这个命令是用于可视化的方式来进行配置。</p>
<p>网络问题汇总：</p>
<p>1、连接激活失败 No suitable device found for this</p>
<p>解决方案：</p>
<p>mv &#x2F;var&#x2F;lib&#x2F;NetworkManager &#x2F;var&#x2F;lib&#x2F;NetworkManager.bak</p>
<p>reboot</p>
<h1 id="第五章-系统维护命令"><a href="#第五章-系统维护命令" class="headerlink" title="第五章 系统维护命令"></a>第五章 系统维护命令</h1><h2 id="5-1网络维护命令"><a href="#5-1网络维护命令" class="headerlink" title="5.1网络维护命令"></a>5.1网络维护命令</h2><p>ssh命令：</p>
<p>netstat命令：</p>
<p>dhclient命令：</p>
<p>ifconfig 命令：</p>
<p>ping 命令：</p>
<p>iptables命令：</p>
<hr>
<p>ssh命令：</p>
<p>ssh命令的功能是安全地远程连接服务器主机系统，作为OpenSSH套件中的客户端连接工具，</p>
<p>ssh命令可以让我们轻松地基于SSH加密协议进行远程主机访问，从而实现对远程服务器的管理工作。</p>
<p>rhel9 默认已经安装openssh-server软件包， systemctl status sshd 查看状态。</p>
<p>前提：</p>
<p>1、网络要畅通</p>
<p>2、服务器上要的ssh服务要启动</p>
<p>语法格式：ssh 参数 域名或IP地址</p>
<p>常用参数：</p>
<p>-1 使用SSH协议版本1 </p>
<p>-2 使用SSH协议版本2 </p>
<p>-4 基于IPv4网络协议 </p>
<p>-6 基于IPv6网络协议 </p>
<p>-a 关闭认证代理连接转发功能 </p>
<p>-A 开启认证代理连接转发功能 </p>
<p>-b 设置本机对外提供服务的IP地址 </p>
<p>-c 设置会话的密码算法</p>
<p>-C 压缩所有数据</p>
<p>-i 设置密钥文件</p>
<p>-l 设置登录用户名</p>
<p>-N 不执行远程指令</p>
<p>-o 设置配置参数选项</p>
<p>-p 设置远程服务器上的端口号</p>
<p>-q 静默执行模式</p>
<p>-s 请求远程主机上的子系统调用</p>
<p> -v 显示执行过程详细信息</p>
<p> -V 显示版本信息</p>
<p>参考示例</p>
<p>基于SSH协议，远程访问服务器主机系统：</p>
<p>ssh 172.16.80.64 #用默认的root身份访问目标服务器</p>
<p><a href="mailto:&#114;&#x6f;&#x6f;&#x74;&#64;&#x31;&#55;&#x32;&#x2e;&#x31;&#54;&#46;&#56;&#48;&#46;&#54;&#x34;">&#114;&#x6f;&#x6f;&#x74;&#64;&#x31;&#55;&#x32;&#x2e;&#x31;&#54;&#46;&#56;&#48;&#46;&#54;&#x34;</a>‘s password: #这里输入root的密码</p>
<p>ssh -l update 172.16.80.64 #使用指定的用户身份登录远程服务器主机系统</p>
<p>ssh 172.16.80.64 “free -m” #登录远程服务器主机系统后执行一条命令，然后直接返回当前用户：</p>
<p>ssh -1 172.16.80.64 #强制使用v1版本的SSH加密协议连接远程服务器主机</p>
<p>也可以用xshell等可视化的工具直接通过ssh的22号端口连接访问。</p>
<p>netstat命令：</p>
<p>netstat命令来自英文词组network statistics的缩写，其功能是显示各种网络相关信息，</p>
<p>例如网络连接状态、路由表信息、接口状态、NAT、多播成员等。</p>
<p>netstat命令不仅应用于Linux系统，而且Windows XP、Windows 7、Windows 10及Windows 11均已默认支持，</p>
<p>并且可用参数也相同，有经验的运维人员可以直接上手。</p>
<p>语法格式：netstat 参数</p>
<p>常用参数：</p>
<p>-a 显示所有连接中的接口信息 </p>
<p>-A 设置网络连接类型 </p>
<p>-c 持续显示网络状态 </p>
<p>-C 显示路由配置信息 </p>
<p>-F 显示路由缓存信息 </p>
<p>-g 显示多重广播功能群组成员名单 </p>
<p>-h 显示帮助信息 </p>
<p>-i 显示网络界面信息表单 </p>
<p>-l 仅显示正在监听的服务状态 </p>
<p>-n 直接使用IP地址，而不是域名</p>
<p>-N 显示网络硬件外围设备的符号链接名称</p>
<p>-o 显示计时器数据信息</p>
<p>-p 显示正在使用接口的程序</p>
<p>-r 显示路由表信息</p>
<p>-s 显示网络工作信息统计表信息</p>
<p>-t 显示TCP传输协议的连线状态</p>
<p>-u 显示UDP传输协议的连线状态</p>
<p>-V 显示版本信息</p>
<p>参考示例</p>
<p>netstat -a #显示系统网络状态中的所有连接信息：</p>
<p>netstat -nu #显示系统网络状态中的UDP连接信息</p>
<p>netstat -apu #显示系统网络状态中的UDP连接端口号使用信息：</p>
<p>netstat -i #显示网卡当前状态信息：</p>
<p>netstat -r #显示网络路由表状态信息</p>
<p>netstat -ap | grep ssh #找到某个服务对应的连接信息</p>
<p>对照学习：ss 指令</p>
<p>ss -a #显示所有套接字</p>
<p>ss -l #显示处于监听状态的套接字</p>
<p>ss -n #不解析服务名称，以数字形式显示</p>
<p>ss -p #显示使用套接字的进程</p>
<p>ss -t #显示TCP协议的套接字</p>
<p>ss -u #显示UDP协议的套接字</p>
<p>ss -tunl #参数输出(常用)</p>
<p>dhclient命令：</p>
<p>dhclient命令来自英文词组DHCP client的缩写，其功能是动态获取或释放IP地址。</p>
<p>使用dhclient命令前，需要将网卡模式设置成DHCP自动获取，</p>
<p>否则静态模式的网卡不会主动向服务器获取如IP地址等网卡信息。</p>
<p>1、redhat 默认没有安装这个命令，需要手动安装， yum install dhcp client</p>
<p>2、命令在dhcp包中子模块，属于动态网络地址管理单元。</p>
<p>语法格式：dhclient 参数 网卡名</p>
<p>常用参数：</p>
<p>-4 基于IPv4网络协议 </p>
<p>-6 基于IPv6网络协议 </p>
<p>-d 以前台方式运行 </p>
<p>-F 设置向DHCP服务器发送的FQDN </p>
<p>-H 设置向DHCP服务器发送的主机名 </p>
<p>-n 不配置任何接口 </p>
<p>-p 设置DHCP客户端监听的端口号 </p>
<p>-q 静默执行模式 </p>
<p>-r 释放IP地址</p>
<p>-s 在获取IP地址前指定DHCP服务器</p>
<p>-v 显示执行过程详细信息</p>
<p>-V 设置要发送给DHCP服务器的厂商类标识符</p>
<p>-w 即使没有找到广播接口，也继续运行</p>
<p>-x 停止DHCP客户端，而不释放当前租约</p>
<p>–timeout 设置最大响应超时时间</p>
<p>–version 显示版本信息</p>
<p>参考用例：</p>
<p>dhclient ens160 #通过指定网卡发起DHCP请求，获取网卡参数</p>
<p>dhclient -r #释放系统中已获取的网卡参数</p>
<p>dhclient -s 192.168.10.10 #向指定的服务器请求获取网卡参数</p>
<p>dhclient -x #手动停止执行dhclient服务进程</p>
<p>ifconfig命令：</p>
<p>ifconfig命令来自英文词组network interfaces configuring的缩写，其功能是显示或设置网络设备参数信息。</p>
<p>在Windows系统中，与之类似的命令为ipconfig，同样的功能可以使用ifconfig去完成。 通常不建议使用</p>
<p>ifconfig命令配置网络设备的参数信息，因为一旦服务器重启，配置过的参数会自动失效，因此还是编写到配置文件中更稳妥。</p>
<p>语法格式：ifconfig 参数 网卡名 动作</p>
<p>常用参数：</p>
<p>-a 显示所有网卡状态</p>
<p>-s 显示简短状态列表</p>
<p>-v 显示执行过程详细信息</p>
<p>常用动作：</p>
<p>add 设置网络设备的IP地址 </p>
<p>del 删除网络设备的IP地址 </p>
<p>down 关闭指定的网络设备</p>
<p>up 启动指定的网络设备</p>
<p>参考示例：</p>
<p>ifconfig #显示系统的网络设备信息</p>
<p>ifconfig ens160 down</p>
<p>ifconfig ens160 up #对指定的网卡设备依次进行关闭和启动操作</p>
<p>ifconfig ens160 192.168.10.20 netmask 255.255.255.0 #对指定的网卡设备执行IP地址修改操作</p>
<p>ifconfig ens160 hw ether 00:aa:bb:cc:dd:ee #对指定的网卡设备执行MAC地址修改操作</p>
<p>ifconfig ens160 -arp</p>
<p>ifconfig ens160 arp #对指定的网卡设备依次进行ARP协议关闭和开启操作</p>
<p>ifconfig ens160 192.168.42.129&#x2F;24 up</p>
<p>ens160 就是实际网卡名称</p>
<p>192.168.42.129 你要配置的ip地址</p>
<p>24 配置给ip地址的子网掩码24就是24个1，</p>
<p>11111111 11111111 11111111 0000000</p>
<p>up 配置ip和mask后启动改网卡</p>
<p>ifconfig ens160 down 网卡停用</p>
<p>ifconfig ens160 192.168.42.129&#x2F;24 网卡重新配置</p>
<p>ifconfig ens160 up 网卡启动</p>
<p>对照学习：ip addr </p>
<p>ping命令：</p>
<p>ping命令的功能是测试主机间网络的连通性，它发送出基于ICMP传输协议的数据包，要求对方主机予以回复。若对方主机的网络功能没有问题且防火墙放行流量，则就会回复该信息，</p>
<p>我们也就可得知对方主机系统在线并运行正常了。 不过值得注意的是，ping命令在Linux下与在Windows下有一定差异，Windows系统下的ping命令会发送出去4个请求后自动结束该命令；而Linux系统则不会自动终止，需要用户手动按下Ctrl+C组合键才能结束，或是发起命令时加入-c参数限定发送数据包的个数。</p>
<p>语法格式：ping 参数 域名或IP地址</p>
<p>常用参数：</p>
<p>-4 基于IPv4网络协议 </p>
<p>-6 基于IPv6网络协议 </p>
<p>-a 发送数据时发出鸣响声 </p>
<p>-b 允许ping一个广播地址 </p>
<p>-c 设置发送数据包的次数 </p>
<p>-I 使用指定的网络接口送出数据包</p>
<p>-n 仅输出数值</p>
<p>-p 设置填满数据包的范本样式</p>
<p>-q 静默执行模式</p>
<p>-R 记录路由过程信息</p>
<p>参考示例:</p>
<p>ping <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> #测试与指定域名之间的网络连通性（需手动按下Ctrl+C组合键结束命令）</p>
<p>ping -c 4 172.16.80.64 #测试与指定主机之间的网络连通性，发送请求包限定为4个</p>
<p>ping -c 4 <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a> #测试与指定域名之间的网络连通性，发送请求包限定为4个</p>
<p>ping -c 3 -i 0.2 -W 3 192.168.10.10 </p>
<p>#测试与指定主机之间的网络连通性，发送3个请求包，每次间隔0.2s，最长等待时间为3s</p>
<p>互联网出故障的解决流程：</p>
<p>1、ping 自己的网卡 ，确认网卡工作正常。 ping 192.168.42.128 </p>
<p>《&#x3D;&#x3D;&#x3D; ifconfig &#x3D;&#x3D; ens160的ip</p>
<p>2、ping 自己的网关， 确认下一跳工作正常。ping 192.168.42.2 </p>
<p>《&#x3D;&#x3D;nmcli d show ens160 &#x3D;&#x3D; gateway</p>
<p>3、ping dns服务器，确认互联网能工作组成。ping 114.114.114.114 </p>
<p>国内域名解析服务器</p>
<p>&#x2F;etc&#x2F;-resolv.conf </p>
<p>ping  8.8.8.8 国外域名解析服务器</p>
<p>ping 61.134.1.4 陕西省的域名解析服务器</p>
<p>4、ping 公共网站，比如 <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a> ping <a target="_blank" rel="noopener" href="http://www.sina.com/">www.sina.com</a> 测试与外网服务器的联通</p>
<p>添加网关(路由)指令：route add default gw 192.168.42.1</p>
<p> route del deault gw 192.168.42.1</p>
<p>iptables命令：</p>
<p>iptables是一个防火墙策略管理工具的命令，同时也是一个基于内核级别的防火墙服务，</p>
<p>用户可以基于它来对数据包进行过滤操作，拒绝掉危险的外部请求流量，保护内网的安全。</p>
<p>iptables命令默认仅支持ipv4协议，如需ipv6协议支持需使用ip6tables命令。</p>
<p>语法格式：iptables [参数] [对象] </p>
<p>常用参数：</p>
<p>-A 向规则链中追加条目 </p>
<p>-c 初始化包计数器和字节计数器</p>
<p>-D 从规则链中删除条目 </p>
<p>-E 重命名指定的用户自定链</p>
<p>-F 清除规则链中的现有条目 </p>
<p>-t 设置要管理的表</p>
<p>-h 显示帮助信息 </p>
<p>-i 设置数据包进入本机的网络接口</p>
<p>-j 设置要跳转的目标 </p>
<p>-I 向规则链中插入条目</p>
<p>-L 显示规则链中的已有条目 </p>
<p>-N 创建新的用户自定义规则链</p>
<p>-o 设置数据包离开本机所使用的网络接口 </p>
<p>-p 设置要匹配数据包的协议类型</p>
<p>-P 设置规则链中的默认目标策略 </p>
<p>-R 替换规则链中的指定条目</p>
<p>-s 设置要匹配数据包的源IP地址 </p>
<p>-v 显示执行过程详细信息</p>
<p>-X 删除指定的用户自定链 </p>
<p>-Z 清空规则链中的包计数器和字节计数器</p>
<p>参考示例：</p>
<p>iptables -L #显示当前防火墙策略中全部的过滤表信息：</p>
<p>iptables -L -t nat #显示当前防火墙策略中指定的NAT表信息</p>
<p>iptables -I INPUT -s 192.168.10.10 -j DROP #禁止指定的远程主机访问本地全部的服务，通通禁止</p>
<p>iptables -I INPUT -s 192.168.10.10 -p tcp –dport 22 -j</p>
<p>DROP </p>
<p>#禁止指定的远程主机访问本地的某个端口，其余允许</p>
<p>iptables -F 清理后全部放开同行</p>
<h2 id="5-2-进程管理命令"><a href="#5-2-进程管理命令" class="headerlink" title="5.2 进程管理命令"></a>5.2 进程管理命令</h2><p>ps 命令</p>
<p>pstree命令</p>
<p>top 命令</p>
<p>kill 命令</p>
<hr>
<p>ps命令：</p>
<p>ps命令来自英文单词process的缩写，中文译为“进程”，其功能是显示当前系统的进程状态。</p>
<p>使用ps命令可以查看到进程的所有信息，例如进程的号码、发起者、系统资源、使用占比、</p>
<p>运行状态等。ps命令可帮助我们及时发现哪些进程出现“僵死”或“不可中断”等异常情况。</p>
<p>ps命令经常会与kill命令搭配使用，以中断和删除不必要的服务进程，避免服务器的资源浪费。</p>
<p>语法格式：ps 参数</p>
<p>常用参数：</p>
<p>-a 显示所有进程信息 </p>
<p>-c 不显示程序路径 </p>
<p>-d 不显示阶段作业程序 </p>
<p>-e 显示环境变量信息 </p>
<p>-f 用ASCII字符显示树状结构 </p>
<p>-g 显示所有程序及其所属组的程序 </p>
<p>-t 显示属于指定终端主机的程序状态</p>
<p>-T 显示当前终端主机下的所有程序</p>
<p>-u 使用用户为主的格式来显示程序状态</p>
<p>-U 显示属于指定用户的程序状态</p>
<p>-v 使用虚拟内存的格式显示程序状态</p>
<p>-w 使用宽阔的格式显示程序状态</p>
<p>参考示例：</p>
<p> ps aux #显示系统中全部的进程信息，含详细信息 CPU,MEM占用率</p>
<p> ps -ef #显示系统中全部的进程信息，含详细信息 PID,PPID </p>
<p>ps -ef | grep ssh #结合管道操作符，将当前系统运行状态中指定的进程信息过滤出来</p>
<p>ps -u root #将当前系统运行状态中指定用户的进程信息过滤出来</p>
<p> ps aux | sort -rnk 3 #结合管道操作符与sort命令，依据处理器使用量</p>
<p>（第三列）情况降序排序</p>
<p> ps -aux –sort -pcpu | less #通过cpu和内存使用来查看占用资源的进程</p>
<p> ps -aux –sort -pcpu,+pmem | head -n 10 </p>
<p> #根据 CPU 使用来升序、内存使用 来升序 排序 并通过管道显示前10个结果</p>
<p>pstree命令：</p>
<p>pstree命令来自英文词组“display a tree of processes”的缩写，</p>
<p>其功能是用于以树状图形式显示进程信息，</p>
<p>帮助管理员更好地了解进程间的关系。Linux系统中常用ps命令查看进程状态信息，</p>
<p>但是却无法了解进程之间的依赖关系，哪个是父进程，哪个是子进程？</p>
<p>这些信息则可通过pstree命令进行查看。</p>
<p>语法格式： pstree [参数] </p>
<p>常用参数：</p>
<p>-a 显示完整信息 </p>
<p>-A 使用ASCII字符绘制树</p>
<p>-c 不使用精简标示法 </p>
<p>-g 显示进程组ID </p>
<p>-G 使用VT100终端机的列绘图字符 </p>
<p>-h 特别标明现在执行的程序</p>
<p>-I 使用长格式显示树状图 </p>
<p>-n 依据PID排序上下级进程</p>
<p>参考示例：</p>
<p> pstree #以树状图的形式显示当前系统中全部进程（默认）</p>
<p>pstree -p #以树状图的形式显示当前系统中全部进程（带有进程号）</p>
<p> pstree -a #以更完整、更丰富的信息样式显示每个进程：</p>
<p>top命令：</p>
<p>top 是一个在 Linux 和其他类 Unix 系统上常用的实时系统监控工具。</p>
<p>它提供了一个动态的、交互式的实时视图，显示系统的整体性能信息以及正在运行的进程的相关信息。</p>
<p>语法格式：</p>
<p>top [-] [d delay] [q] [c] [S] [s] [i] [n] [b]</p>
<p>参数说明：</p>
<p>-d &lt;秒数&gt;：指定 top 命令的刷新时间间隔，单位为秒。</p>
<p>-n &lt;次数&gt;：指定 top 命令运行的次数后自动退出。</p>
<p>-p &lt;进程ID&gt;：仅显示指定进程ID的信息。</p>
<p>-u &lt;用户名&gt;：仅显示指定用户名的进程信息。</p>
<p>-H：在进程信息中显示线程详细信息。</p>
<p>-i：不显示闲置（idle）或无用的进程。</p>
<p>-b：以批处理（batch）模式运行，直接将结果输出到文件。</p>
<p>-c：显示完整的命令行而不截断。</p>
<p>-S：累计显示进程的 CPU 使用时间</p>
<p>参考示例：</p>
<p>top </p>
<p>#显示进程信息</p>
<p>top -c #显示完整命令</p>
<p>top -d 3 #设置信息更新时间为3秒</p>
<p>top -p 139 #显示进程号为139的进程信息，CPU、内存占用率等</p>
<p>补充：</p>
<p>在top命令下 按以下大写字母，分别按不同的维度进行排序</p>
<p>M 根据内存使用情况排序</p>
<p>P 根据CPU使用情况排序</p>
<p>N 根据进程ID排序</p>
<p>T 根据进程使用CPU的时间排序</p>
<p>当然你也可以在命令启动时，直接对top加参数。比如以cpu使用情况排序</p>
<p>top -o %CPU</p>
<p>kill 命令：</p>
<p>kill命令的功能是杀死（结束）进程。Linux系统中如需结束某个进程，</p>
<p>既可以使用如service或systemctl这样的管理命令来结束服务，</p>
<p>也可以使用kill命令直接结束进程信息。</p>
<p>如使用kill命令后进程并没有结束，则可以使用信号9进行强制杀死动作。</p>
<p>语法格式：kill 参数 进程号</p>
<p>常用参数：</p>
<p>-a 不限制命令名与进程号的对应关系 </p>
<p>-p 不发送任何信号</p>
<p>-l 显示系统支持的信号列表 </p>
<p>-s 设置向进程发送的信号</p>
<p>参考示例</p>
<p>kill -l #列出系统支持的全部信号列表：</p>
<p>kill 518 #结束某个指定的进程（数字为对应的PID值）</p>
<p>kill -9 518 #强制结束某个指定的进程（数字为对应的PID值）：</p>
<p>扩展：killall 命令</p>
<p>该命令非常强大，它通过支持进程名而不是PID来结束进程。Killall命令也支持通配符。</p>
<p>使用时候要小心,有可能结束的重要的系统进程,也可以批量结束进程。</p>
<p> killall mysql*</p>
<p> killall mysqld</p>
<h2 id="5-3-系统管理命令"><a href="#5-3-系统管理命令" class="headerlink" title="5.3 系统管理命令"></a>5.3 系统管理命令</h2><p>find 命令</p>
<p>whereis命令</p>
<p>which命令</p>
<p>uname命令</p>
<p>history 命令</p>
<p>关机重启命令</p>
<hr>
<p>find命令：</p>
<p>find命令的功能是根据给定的路径和条件查找相关文件或目录，其参数灵活方便，且支持正则表达式，</p>
<p>结合管道符后能够实现更加复杂的功能，是Linux系统运维人员必须掌握的命令之一。</p>
<p>find命令通常进行的是从根目录（&#x2F;）开始的全盘搜索，</p>
<p>有别于whereis、which、locate等有条件或部分 文件的搜索。</p>
<p>对于服务器负载较高的情况，建议不要在高峰时期用find命令的模糊搜索，这会消耗较多的系统资源。</p>
<p>语法格式：find 路径 条件 文件名</p>
<p>常用参数：</p>
<p> -name 匹配文件名 </p>
<p>-nouser 匹配无所属主的文件</p>
<p> -perm 匹配文件权限 </p>
<p>-nogroup 匹配无所属组的文件</p>
<p> -user 匹配文件所属主 </p>
<p>-newer 匹配比指定文件更新的文件</p>
<p> -group 匹配文件所属组 </p>
<p>-type 匹配文件类型</p>
<p> -mtime 匹配最后修改文件内容时间 </p>
<p>-size 匹配文件大小</p>
<p>操作示例：</p>
<p> find &#x2F; -name sshd.conf #全盘搜索系统中所有以.conf结尾的文件</p>
<p> find &#x2F; -name *conf | grep ssh #全盘搜索并从结果中展示有关ssh相关的内容</p>
<p> find &#x2F;etc -size +1M #在&#x2F;etc目录中搜索所有大于1MB的文件</p>
<p> find &#x2F;home -user caoqb #在&#x2F;home目录中搜索所有属于指定用户的文件：</p>
<p> find . #列出当前工作目录中的所有文件、目录以及子文件信息</p>
<p> find &#x2F;var&#x2F;log -name “*.log” #在&#x2F;var&#x2F;log目录下搜索所有指定后缀的文件</p>
<p> find . -mtime +7  #搜索当前工作目录中所有近7天被修改过的文件</p>
<p> find &#x2F; -type d -perm 1777 #全盘搜索系统中所有类型为目录，且权限为1777的目录文件</p>
<p> find &#x2F; -type f -perm &#x2F;a&#x3D;x #全盘搜索系统中所有类型为普通文件，且可以执行的文件信息</p>
<p>find &#x2F; -name “*.mp4” -exec rm -rf {} ;</p>
<p> #全盘搜索系统中所有后缀为.mp4的文件，并删除所有查找到的文件：</p>
<p>whereis命令：</p>
<p>whereis命令来自英文词组“Where is”的拼写，其功能是用于显示命令及相关文件的路径位置信息，</p>
<p>能够找到命令（二进制程序）、命令源代码、man帮助手册等相关的文件路径位置信息，帮助我们更好地管理这些文件。 有别于find命令进行的全盘搜索，whereis命令查找速度非常快，因为它不是在磁盘中乱找，而是在指定数据库中查询，该数据库是Linux系统自动创建的，包含有本地所有文件的信息，每天自动更新一次。但正因为这样，whereis命令的搜索结果会不及时，比如刚添加的文件可能搜不到，原因就是该数据库文件没有被更新，管理人员则手动执行updatedb命令进行更新即可。</p>
<p>语法格式：whereis [参数] 命令名</p>
<p>常用参数：</p>
<p> -b 查找二进制程序或命令文件 </p>
<p>-m 查找man帮助手册文件</p>
<p>-s 仅查找源代码文件 </p>
<p>-u 查找可执行文件、源代码及帮助文档</p>
<p>参考示例：</p>
<p> whereis poweroff #查找指定命令程序及相关文件所在位置：</p>
<p>whereis -b poweroff #仅查找指定命令程序文件所在位置</p>
<p>whereis -m poweroff #仅查找指定命令的帮助文件所在位置</p>
<p>which命令：</p>
<p>which命令的功能是用于查找命令文件，能够快速搜索二进制程序所对应的位置。</p>
<p>如果我们既不关心同名文件（find与locate），也不关心命令所对应的源代码和帮助文件（whereis），</p>
<p>仅仅是想找到命令本身所在的路径，那么这个which命令就太合适了。</p>
<p>语法格式：which [参数] 文件名</p>
<p>常用参数：</p>
<p>-a 显示PATH变量中所有匹配的可执行文件 </p>
<p>-n 设置文件名长度（不含路径）</p>
<p>-p 设置文件名长度（含路径） </p>
<p>-V 显示版本信息</p>
<p>-w 设置输出时栏位的宽度</p>
<p>参考示例：</p>
<p>which reboot #查找某个指定命令文件所在位置</p>
<p> which shutdown poweroff #查找多个指定命令文件所在位置</p>
<p>uname命令：</p>
<p>Linux uname（英文全拼：unix name）命令用于显示操作系统信息，</p>
<p>例如内核版本、主机名、处理器类型等。。</p>
<p>uname 可显示电脑以及操作系统的相关信息</p>
<p>语法： uname [-amnrsv][–help][–version]</p>
<p>参数说明：</p>
<p>-a 或–all 显示全部的信息，包括内核名称、主机名、操作系统版本、处理器类型等。</p>
<p>-m 或–machine 显示处理器类型。</p>
<p>-n 或–nodename 显示主机名。</p>
<p>-r 或–release 显示内核版本号。</p>
<p>-s 或–sysname 显示操作系统名称。</p>
<p>-v 显示操作系统的版本。</p>
<p>–help 显示帮助。</p>
<p>操作示例：</p>
<p>uname -a #显示系统信息：</p>
<p>uname -m #显示计算机类型：</p>
<p>uname -n #显示计算机名：</p>
<p>uname -r #显示操作系统发行编号：</p>
<p>uname -s #显示操作系统名称：</p>
<p>注意区别：发行版版本号</p>
<p>cat &#x2F;etc&#x2F;redhat-release 或者 cat &#x2F;etc&#x2F;issue</p>
<p>Red Hat Enterprise Linux release 9.3 (Plow)</p>
<p>history命令：</p>
<p>history命令的功能是显示与管理历史命令记录。Linux系统默认会记录用户执行过的有命令，可以使用history命令查阅它们，也可以对其记录进行修改和删除操作。</p>
<p>语法格式： history 参数</p>
<p>常用参数：</p>
<p>-a 保存命令记录 </p>
<p>-r 读取命令记录到缓冲区</p>
<p>-c 清空命令记录 </p>
<p>-s 添加命令记录到缓冲区</p>
<p>-d 删除指定序号的命令记录 </p>
<p>-w 将缓冲区信息写入历史文件</p>
<p>-n 读取命令记录</p>
<p>操作示例：</p>
<p> history #显示执行过的全部命令记录</p>
<p> history 5 #显示最近执行过的5条命令</p>
<p> history -w #将本次缓存区信息写入历史文件（~&#x2F;.bash_history）</p>
<p>history -r #将历史文件中的信息读入当前缓冲区：</p>
<p> history -c #清空本次缓冲区及历史文件中的信息</p>
<p>关机重启命令：</p>
<p>重启命令：</p>
<p>1、reboot</p>
<p>2、shutdown -r now 立刻重启(root用户使用)</p>
<p>3、shutdown -r 10 过10分钟自动重启(root用户使用) </p>
<p>4、shutdown -r 20:35 在时间为20:35时候重启(root用户使用)</p>
<p>如果是通过shutdown命令设置重启的话，可以用shutdown -c命令取消重启</p>
<p>关机命令：</p>
<p>1、halt 立刻关机</p>
<p>2、poweroff 立刻关机</p>
<p>3、shutdown -h now 立刻关机(root用户使用)</p>
<p>4、shutdown -h 10 10分钟后自动关机</p>
<p>如果是通过shutdown命令设置关机的话，可以用shutdown -c命令取消重启</p>
<h2 id="5-4-磁盘管理命令"><a href="#5-4-磁盘管理命令" class="headerlink" title="5.4 磁盘管理命令"></a>5.4 磁盘管理命令</h2><p>lsblk (英文全称：list block devices) ：其功能是查看系统的磁盘使用情况</p>
<p>df (英文全称：disk free)：列出文件系统的整体磁盘使用量</p>
<p>du (英文全称：disk used)：检查磁盘空间使用量</p>
<p>fdisk：用于磁盘分区</p>
<p>mkfs： 创建并构建一个文件系统</p>
<p>mount: 挂载分区</p>
<hr>
<p>lsblk</p>
<p>lsblk命令来自英文词组list block devices的缩写，其功</p>
<p>能是查看系统的磁盘使用情况。</p>
<p>语法格式：lsblk 参数</p>
<p>常用参数：</p>
<p> -a 显示所有设备信息 </p>
<p>-m 显示权限信息</p>
<p> -b 显示以字节为单位的设备大小 </p>
<p>-n 不显示标题</p>
<p> -e 排除指定设备 </p>
<p>-o 输出列信息</p>
<p>参考示例：</p>
<p> lsblk #查看磁盘信息</p>
<p> #添加一个 20G 的 Sata 类型的磁盘一个 30G 的 NVME 类型的磁盘。</p>
<p> #注意：要添加磁盘，我们先关闭虚拟机。添加好上面的两个磁盘后，然后再查看磁盘信息：</p>
<p> # sda：表示第一块 Sata 硬盘，如果是第二块则名称为 sdb，第三块为 sdc，依次类推</p>
<p>sr0：表示第一块光盘，如果是 sr1 则表示第二块光盘</p>
<p>nvme0n1：表示第一块 nvme 类型的硬盘，</p>
<p>nvme0n2 表示第二块 nvme 类型的硬盘</p>
<p>lsblk -m #显示系统中磁盘设备的归属及权限信息：</p>
<p>lsblk -nl #以列表格式显示磁盘设备信息，并且不显示标题：</p>
<p>df</p>
<p>df命令参数功能：检查文件系统的磁盘空间占用情况。</p>
<p>可以利用该命令来获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p>
<p>语法：df [-ahikHTm] [目录或文件名]</p>
<p>选项与参数：</p>
<p>-a ：列出所有的文件系统，包括系统特有的 &#x2F;proc 等文件系统；</p>
<p>-k ：以 KBytes 的容量显示各文件系统；</p>
<p>-m ：以 MBytes 的容量显示各文件系统；</p>
<p>-h ：以人们较易阅读的 GBytes, MBytes,KBytes 等格式自行显示；</p>
<p>-H ：以 M&#x3D;1000K 取代 M&#x3D;1024K 的进位方式；</p>
<p>-T ：显示文件系统类型, 连同该 partition 的filesystem 名称 (例如 ext3) 也列出；</p>
<p>-i ：不用硬盘容量，而以 inode 的数量来显示</p>
<p>参考示例：</p>
<p>df #将系统内所有的文件系统列出来！</p>
<p>df -h #将容量结果以易读的容量格式显示出来</p>
<p>df -aT #将系统内的所有特殊文件格式及名称都列出来</p>
<p>df -h &#x2F;etc #将 &#x2F;etc 底下的可用的磁盘容量以易读的容量格式显示</p>
<p>df -T #查看文件系统类型</p>
<p>扩展：</p>
<p>xfs是一个全64-bit的文件系统，可以支持上百万T字节的存储空间。对于特大文件及小尺寸文件的</p>
<p>支持都表现很出众，支持特大数量的目录。最大可支持的文件大小为263&#x3D;9x1018&#x3D;9exabytes，</p>
<p>最大文件系统尺寸为18exabytes。</p>
<p>xfs支持大文件和大分区。读写文件速度快。其中的ext4和xfs</p>
<p>文件系统的区别：xfs的使用比ext4好。</p>
<p>硬盘文件系统：</p>
<p>xfs（主流）</p>
<p>ext4—centos6</p>
<p>ext3—centos5</p>
<p>tmpfs — 基于内核的虚拟内存的动态文件系统，断电易失 速度快</p>
<p>网络文件系统</p>
<p>nfs：network file system</p>
<p>tfs：taobao file system；淘宝内部使用的专门用来存放淘宝的图片和文件的文件系统，分布式的</p>
<p>gfs：google存放搜索数据存放的文件系统。分布式</p>
<p>hdfs：Hadoop file system</p>
<p>Linux中分区的查看：</p>
<p>scsi接口盘一般是以sd开头的。</p>
<p>ide接口的盘：hd开头。</p>
<p>虚拟云磁盘：vd开头。</p>
<p>du</p>
<p>Linux du 命令也是查看使用空间的，但是与 df 命令不同的是 Linux du 命令是对文件和目录磁盘</p>
<p>使用的空间的查看，还是和df命令有一些区别的，这里介绍Linux du 命令。</p>
<p>语法：du [-ahskm] 文件或目录名称</p>
<p>选项与参数：</p>
<p>-a ：列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。</p>
<p>-h ：以人们较易读的容量格式 (G&#x2F;M) 显示；</p>
<p>-s ：仅显示指定目录或文件的总大小，而不显示其子目录的大小。</p>
<p>-S ：包括子目录下的总计，与 -s 有点差别。</p>
<p>-k ：以 KBytes 列出容量显示；</p>
<p>-m ：以 MBytes 列出容量显示；</p>
<p>参考示例</p>
<p>du #只列出当前目录下的所有文件夹容量（包括隐藏文件夹）</p>
<p>du -h test #方便阅读的格式显示test目录所占空间情况</p>
<p>du -a #将文件的容量也列出来</p>
<p>du -sm &#x2F;* #检查根目录底下每个目录所占用的容量</p>
<p>du log2012.log #显示指定文件所占空间</p>
<p>如果我们想要在系统里面新增一颗硬盘时，应该有哪些动作需要做的呢：</p>
<p>\1. 对磁盘进行分割，以建立可用的partition ，可以用fdisk命令完成；</p>
<p>\2. 对该 partition 进行行格式化(mkfs)，以建立系统可用的filesystem；</p>
<p>\3. 若想要仔细一点，则可对刚刚建立好的 filesystem 进行检验；</p>
<p>\4. 在 Linux 系统上，需要建立挂载点 ( 亦即是目录)，并将他挂载上来；</p>
<p>fdisk</p>
<p>fdisk 是 Linux 的磁盘分区表操作工具。</p>
<p>语法： </p>
<p>fdisk [-l] 装置名称</p>
<p>选项与参数：</p>
<p>-l ：输出后面接的装置所有的分区内容。若仅有fdisk -l 时，则系统将会把整个系统内能够搜寻到的装置的分区均列出来。</p>
<p>-b 指定每个硬盘分区的大小,可用数值为512,1024, 2048 or 4096</p>
<p>-c 兼容模式:’dos’或’nondos’(默认)</p>
<p>-h 显示帮助信息</p>
<p>-u 搭配”-l”参数列表，会用分区数目取代柱面数目，来表示每个分区的起始地址</p>
<p>-v 显示版本信息</p>
<p>-s 将指定的分区大小输出到标准输出上，以块（block）为单位</p>
<p>-C [cyls]:指定硬盘的柱面数（number ofcylinders）；</p>
<p>参考示例：</p>
<p>fdisk -lu #列出所有分区信息</p>
<p>df &#x2F;</p>
<p>fdisk &#x2F;dev&#x2F;hdc #找出你系统中的根目录所在磁盘，并查阅该硬盘内的相关信息</p>
<p>一般常规选项：</p>
<p>* d 删除一个分区</p>
<p>* g 将分区格式转化为GPT</p>
<p>* o 将分区格式转化为[DOS|MBR]</p>
<p>* n 添加一个分区</p>
<p>* p 打印分区表信息</p>
<p>* w 保存并退出</p>
<p>* q 退出</p>
<p>比如:</p>
<p>1.运行以下命令对数据盘进行分区。</p>
<p>fdisk -lu </p>
<p>我们看到有一个&#x2F;dev&#x2F;sda的设备信息如下：</p>
<p>接下来，我们给这个设备进行分区：</p>
<p>fdisk -u &#x2F;dev&#x2F;sda</p>
<p>2.输入p查看数据盘的分区情况。</p>
<p>本示例中，数据盘没有分区。</p>
<p>3.输入n创建一个新分区。</p>
<p>4.输入p选择分区类型为主分区。</p>
<p> 说明 创建一个单分区数据盘可以只创建主分区。如果要创建四个以上分区，</p>
<p> 您应该至少选择一次e（extended），创建至少一个扩展分区。</p>
<p>5.输入分区编号，按回车键。</p>
<p>本示例中，仅创建一个分区，直接按回车键，采用默认值1。</p>
<p>6.输入第一个可用的扇区编号，按回车键。</p>
<p> 本示例中，直接按回车键，采用默认值2048。</p>
<p>7.输入最后一个扇区编号，按回车键。</p>
<p> 本示例中，仅创建一个分区，直接按回车键，采用默认值。</p>
<p>8.输入p查看该数据盘的规划分区情况。</p>
<p>9.输入w开始分区，并在完成分区后退出。</p>
<p>执行 fdisk -l &#x2F;dev&#x2F;sda命令后发现这个分区已经建好</p>
<p>mkfs</p>
<p>mkfs 磁盘格式化</p>
<p>磁盘分割完毕后自然就是要进行文件系统的格式化，格式化的命令非常的简单，</p>
<p>使用 mkfs（make filesystem） 命令。</p>
<p>语法：mkfs [-t 文件系统格式] 装置文件名</p>
<p>选项与参数：</p>
<p>-t ：可以接文件系统格式，例如 ext3, ext2,vfat 等(系统有支持才会生效)</p>
<p>参考示例：</p>
<p> mkfs -t ext3 &#x2F;dev&#x2F;hdc6 </p>
<p> #将分区 &#x2F;dev&#x2F;hdc6（可指定你自己的分区） 格式化为ext3 文件系统：</p>
<p>我们继续以上分区后的操作：</p>
<p>然后开始格式化系统，使用mkfs：</p>
<p>mkfs -t ext4 &#x2F;dev&#x2F;sda1</p>
<p>扩展：</p>
<p>mkfs.ext4 -c &#x2F;dev&#x2F;sdb #检查指定的磁盘设备并进行ext4格式化操作</p>
<p> mkfs.ext4 -m 5 &#x2F;dev&#x2F;sdb #对指定的磁盘设备进行格式化操作，保留5%容量给管理员：</p>
<p> mkfs.ext4 -L ‘Linuxflag’ -b 2048 &#x2F;dev&#x2F;-sdb #对磁盘设备进行格式化操作，添加卷标识，并修改块大小</p>
<p>使用ls -l &#x2F;dev&#x2F;sda* 这个命令查询时，发现所有的分区实际上还是一个块设备：</p>
<p>需要将它挂载到linux文件系统的某个已存在的目录下，这个时候就需要使用mount命令</p>
<p>mount 命令：</p>
<p>Linux 的磁盘挂载使用 mount 命令，卸载使用 umount 命令。</p>
<p>磁盘挂载语法： </p>
<p>mount [-t 文件系统] [-L Label名] [-o 额外选项] [-n] 装置文件名 挂载点</p>
<p>磁盘卸载命令</p>
<p>umount 语法：umount [-fn] 装置文件名或挂载点</p>
<p>-f ：强制卸除！可用在类似网络文件系统 (NFS)无法读取到的情况下；</p>
<p>-n ：不升级 &#x2F;etc&#x2F;mtab 情况下卸除。</p>
<p>操作示例：</p>
<p>mount &#x2F;dev&#x2F;sda1 &#x2F;mnt&#x2F;linux</p>
<p>上述命令将&#x2F;dev&#x2F;sda1挂载到了&#x2F;mnt&#x2F;linux这个目录下并且&#x2F;mnt&#x2F;linux这个目录占用的空间是在&#x2F;dev&#x2F;sda1上面的。</p>
<p>mount &#x2F;dev&#x2F;hdc6 &#x2F;mnt&#x2F;hdc6 #用默认的方式，将 &#x2F;dev&#x2F;hdc6 挂载到 &#x2F;mnt&#x2F;hdc6 上面</p>
<p> umount &#x2F;dev&#x2F;hdc6 #卸载&#x2F;dev&#x2F;hdc6</p>
<p> mount #查看当前系统中已有的文件系统信息</p>
<p> mount -a #挂载&#x2F;etc&#x2F;fstab文件中所有已定义的设备文件</p>
<p> mount -t xfs &#x2F;dev&#x2F;sdb &#x2F;Dir #强制以XFS文件系统挂载硬盘设备到指定目录</p>
<p>以上都是临时一次性操作，如果需要永久挂载</p>
<p>方案一</p>
<p>这这个目录下自动挂载 系统启动文件</p>
<p>#这个目录下</p>
<p>vim &#x2F;etc&#x2F;fstab</p>
<p>#写入挂载信息</p>
<p>&#x2F;dev&#x2F;sdb1 &#x2F;mnt&#x2F;disk1 ext4 defaults 0 0</p>
<p>#一定要检查自己有没有写错</p>
<p>mount -a</p>
<p>#注意：&#x2F;etc&#x2F;fstab这个文件一旦写错 则服务器将无法启动，一定要谨慎使用这个操作</p>
<p>#第二种写法，</p>
<p>使用</p>
<p>blkid &#x2F;dev&#x2F;sdc1</p>
<p>可以查看到UUID号</p>
<p>&#x2F;dev&#x2F;sdc1:</p>
<p>UUID&#x3D;”e225854f-0677-496b-8000-2a59dd8043bd”</p>
<p>TYPE&#x3D;”ext4” </p>
<p>使用 UUID 号写入</p>
<p>UUID&#x3D;f5cc6554-74fa-48bb-972d-5dd371496ced &#x2F;boot xfs defaults 0 0</p>
<p>方案二 (最优)</p>
<p>在&#x2F;etc&#x2F;rc.local 文件中写入 挂载命令，加上执行权限，每次启动系统就会进行自动挂载</p>
<p># 这两个目录随便修改一个 即可</p>
<p>vim &#x2F;etc&#x2F;rc.local</p>
<p>vim &#x2F;etc&#x2F;rc.d&#x2F;rc.local</p>
<p># 写入挂载命令</p>
<p>mount -t ext4 &#x2F;dev&#x2F;sdc1 &#x2F;mnt&#x2F;diskc1</p>
<p># 给文件&#x2F;etc&#x2F;rc.d&#x2F;rc.local 加上执行权限 这样每次系统在启动的时候都会执行这个文件的命令</p>
<p>chmod +x &#x2F;etc&#x2F;rc.d&#x2F;rc.local</p>
<p>方案三</p>
<p>在文件&#x2F;root&#x2F;.bashrc 加入挂载命令</p>
<p>启动的时候就可以自动加载文件中的挂载命令</p>
<p>#手动挂载</p>
<p>vim &#x2F;root&#x2F;.bashrc</p>
<p>#把手动挂载写入到开机启动的文件中</p>
<p>mount -t ext4 &#x2F;dev&#x2F;sdc1 &#x2F;mnt&#x2F;diskc1</p>
<p>卸载分区挂载点（umount）</p>
<p>umount {挂载点}</p>
<p>#强行卸载</p>
<p>umount -l {挂载点}</p>
<p>#安装fuser</p>
<p>yum -y install findutiles</p>
<p>fuser {挂载点}</p>
<p>会获得一个类似于uid</p>
<p>kill -9 {获得的uid}</p>
<h2 id="5-5-逻辑卷管理"><a href="#5-5-逻辑卷管理" class="headerlink" title="5.5 逻辑卷管理"></a>5.5 逻辑卷管理</h2><p>逻辑卷由以下几个部分组成：</p>
<p>物理设备，一般指的是系统存储设备，如：&#x2F;dev&#x2F;sda1、&#x2F;dev&#x2F;sda2等</p>
<p>物理卷（physical volume, PV），它是由多个分区或整个硬盘组成</p>
<p>卷组 （Volume Group VG), 它可以看成单独的逻辑磁盘，一个卷组中至少包括一个 PV，在卷组创建好后，可以动态添加 PV 到卷组中。</p>
<p>逻辑卷（Logical Volume LV)，相当于物理分区，它是建立在卷组之上。</p>
<p>常用的LVM部署命令如下</p>
<table>
<thead>
<tr>
<th>功能</th>
<th>物理卷管理</th>
<th>卷组管理</th>
<th>逻辑卷管理</th>
</tr>
</thead>
<tbody><tr>
<td>扫描</td>
<td>pvscan</td>
<td>vgscan</td>
<td>lvscan</td>
</tr>
<tr>
<td>建立</td>
<td>pvcreate</td>
<td>vgcreate</td>
<td>lvcreate</td>
</tr>
<tr>
<td>显示</td>
<td>pvdisplay</td>
<td>vgdisplay</td>
<td>lvdisplay</td>
</tr>
<tr>
<td>删除</td>
<td>pvremove</td>
<td>vgremove</td>
<td>lvremove</td>
</tr>
</tbody></table>
<p>1、# 创建物理卷的命令为 <code>pvcreate 要创建物理卷的设备或分区</code></p>
<p>2、# 查看 pvs</p>
<p># 如果希望查看详细的物理卷信息，我们使用 pvdisplay</p>
<p>3、 卷组管理（VG）</p>
<p># 卷组创建的命令是：<code>vgcreage 物理卷名称</code></p>
<p>4、逻辑卷管理（LV）</p>
<p># 逻辑卷的创建命令为：lvcreate -n 逻辑卷名称 -L 逻辑卷大小 卷组名称</p>
<p>5、查看逻辑卷 lvs </p>
<p>如果希望查看 lvtest 的详细信息</p>
<p>6、格式化逻辑卷</p>
<p># 我们将 &#x2F;dev&#x2F;vgtest&#x2F;lvtest 逻辑卷格式化为 xfs 类型的文件系统</p>
<p>7、挂载逻辑卷</p>
<p># 我们将格式化好的 &#x2F;dev&#x2F;vgtest&#x2F;lvtest 逻辑卷挂载到 &#x2F;mnt&#x2F;mount1 目录上</p>
<p>8、删除逻辑卷，卷组和物理卷</p>
<p># 查看</p>
<p>[root@bogon &#x2F;]# df -h</p>
<p># 卸载</p>
<p>[root@bogon &#x2F;]# umount &#x2F;dev&#x2F;mapper&#x2F;vgtest-lvtest</p>
<p># 验证是否卸载成功</p>
<p>[root@bogon &#x2F;]# df -h</p>
<p># 删除逻辑卷，命令的格式为：lvremove 逻辑卷路径</p>
<p>[root@bogon &#x2F;]# lvremove &#x2F;dev&#x2F;vgtest&#x2F;lvtest</p>
<p># 删除卷组，命令的格式为：vgremove 卷组名称</p>
<p>[root@bogon &#x2F;]# vgremove vgtest</p>
<p># 删除物理卷</p>
<p>[root@bogon &#x2F;]# pvremove &#x2F;dev&#x2F;sdb</p>
<p>交换分区管理也有相应的命令：</p>
<p>mkswap 分区设备名： 将指定的分区格式化为 swap 交换文件系统（交换分区）</p>
<p>swapon 交换分区设备名： 启用指定的交换分区</p>
<p>swapoff 交换分区设备名： 禁用指定的交换分区</p>
<p>swapon -s： 查看交换分区的使用情况</p>
<p>free -m：以兆字节为单位显示物理内存、交换分区的使用情况</p>
<h1 id="第六章-用户管理命令"><a href="#第六章-用户管理命令" class="headerlink" title="第六章 用户管理命令"></a>第六章 用户管理命令</h1><h2 id="6-1-用户管理命令"><a href="#6-1-用户管理命令" class="headerlink" title="6.1 用户管理命令"></a>6.1 用户管理命令</h2><p>useradd 用户增加命令</p>
<p>usermod 用户修改命令</p>
<p>passwd 密码修改命令</p>
<p>userdel 用户删除命令</p>
<p>su 用户提权命令</p>
<hr>
<p>useradd 命令：</p>
<p>useradd命令的功能是创建并设置用户信息。使用useradd命令可以自动完成用户信息、基本组、家目录等的创建工作，并在创建过程中对用户初始信息进行定制。</p>
<p>语法格式：useradd 参数 用户名</p>
<p>常用参数：</p>
<p>-c 添加备注文字 </p>
<p>-d 设置新用户登录时所使用的家目录 </p>
<p>-D 设置新用户的预设值 </p>
<p>-e 设置用户的终止日期 </p>
<p>-f 设置用户过期几日后永久停权 </p>
<p>-g 设置用户对应的基本用户组 </p>
<p>-G 设置用户对应的扩展用户组 </p>
<p>-h 显示帮助信息 </p>
<p>-M 不建立用户家目录</p>
<p>-n 不建立以用户名称为名的组</p>
<p>-o 允许创建重复UID的用户</p>
<p>-p 设置用户的密码</p>
<p>-r 建立系统用户</p>
<p>-R 设置根目录</p>
<p>-s 设置1&#x2F;8新用户的默认Shell终端</p>
<p>-u 设置用户ID</p>
<p>参考示例：</p>
<p>useradd test1#创建指定的用户信息</p>
<p>useradd -M -s &#x2F;sbin&#x2F;nologin test2 #创建指定的用户信息，但不创建家目录，亦不让登录系统</p>
<p>useradd -u 6688 test3 #创建指定的用户信息，并自定义UID值</p>
<p>useradd -G root test4 #创建指定的用户信息，并追加指定组为该用户的扩展组</p>
<p>useradd -e “2025&#x2F;01&#x2F;01” test5 #创建指定的用户信息，并指定过期时间</p>
<p>扩展：</p>
<p>#新建用户并将其加入指定用户组,作为其主用户组</p>
<p>（每个用户有且只有一个主用户组）</p>
<p>useradd -g &lt;用户组名称&gt; &lt;用户名称&gt;</p>
<p>#或者 新建用户并将其加入指定附属用户组，附属用户组可以有多个，多个附属组名称用逗号分隔即可</p>
<p>useradd -G &lt;用户组名称&gt; &lt;用户名称&gt;</p>
<p>passwd 命令：</p>
<p>passwd命令来自英文单词password的缩写，其功能是修改用户的密码值；</p>
<p>同时也可以对用户进行锁定等操作，但需要管理员身份才可以执行。</p>
<p>当使用 useradd 命令来添加用户后，默认该用户还不能登录，因为没有为该用户设置密码。</p>
<p>只有设置了密码后，才可以登录。而设置密码的命令是passwd，</p>
<p>常用格式：passwd 参数 用户名</p>
<p>常用参数：</p>
<p>-d 清除已有密码</p>
<p>-e 下次登录时强制修改密码</p>
<p>-f 强制执行操作而不询问</p>
<p>-k 设置用户在期满后能仍能正常使用 </p>
<p>-l 锁定用户的密码值，不允许修改</p>
<p>-S 显示当前密码状态</p>
<p>-u 解锁用户的密码值，允许修改</p>
<p>-w 设置密码到期前几天收到警告信息</p>
<p>-x 设置最大密码有效期</p>
<p>–help 显示帮助信息</p>
<p>参考示例：</p>
<p>passwd #修改当前登录用户的密码值，注意输入过程中密码不可见。</p>
<p>passwd test1 #修改指定用户的密码值</p>
<p>passwd -l test1 #锁定指定用户的密码值，不允许其进行修改：</p>
<p>passwd -u test1 #解锁指定用户的密码值，允许其进行修改</p>
<p>passwd -e test2 #强制指定的用户在下次登录时必须重置其密码</p>
<p>passwd -d test2 #删除指定用户的密码值</p>
<p>passwd -S test3 #查看指定用户的密码状态</p>
<p>扩展：网上搜索不同平台的如下方法</p>
<p>重置root密码方法：</p>
<p>1、首先重新启动系统，然后快速按下 e 键进入GRUB界面.</p>
<p>2、然后再最后一行之前输入 rd.break ，如图：</p>
<p>3、输入好后，按 ctrl + x 来重启系统。</p>
<p>重启启动后，按任意键继续，然后在第一个命令提示符下输入</p>
<p>mount -o remount,rw &#x2F;sysroot </p>
<p>输入好后回车，再输入</p>
<p>mount | grep sysroot </p>
<p>后回车。如下图所示</p>
<p>然后在命令提示符下输入如下命令：</p>
<p>chroot &#x2F;sysroot&#x2F;</p>
<p>echo 123 | passwd –stdin root</p>
<p>touch &#x2F;.autorelabel</p>
<p>然后再后面的命令提示符下输入两次exit 来退出。</p>
<p>然后系统会自动重新启动。启动好后输入root 和 123 后就可以登录了。</p>
<p>usermod 命令：</p>
<p>usermod命令来自英文词组user modify的缩写，其功能是修改用户信息中的各项参数。</p>
<p>在创建用户后如果发现信息错误，可以不用删除，而是用usermod命令直接修改用户信息，并且参数会立即生效。</p>
<p>语法格式：usermod 参数 用户名</p>
<p>常用参数：</p>
<p>-a 将用户添加至扩展组中</p>
<p>-L 锁定用户密码，使密码立即失效</p>
<p>-c 修改用户的备注文字</p>
<p>-m 将用户家目录内容移动到新位置</p>
<p>-d 修改用户登录时的家目录</p>
<p>-o 允许重复的用户ID </p>
<p>-e 修改用户的有效期限</p>
<p>-p 设置用户的新密码</p>
<p>-f 设置在密码过期多少天后关闭该用户</p>
<p>-s 修改用户登录后使用的Shell终端</p>
<p>-g 修改用户所属的基本群</p>
<p>-u 修改用户的ID</p>
<p>参考示例：</p>
<p>usermod -d &#x2F;home&#x2F;testA test1 #修改指定用户的家目录路径,注意:不能有用户正在使用该账号</p>
<p>usermod -u 6688 test1 #修改指定用户的ID</p>
<p>usermod -l newname test1 #修改指定用户的名称为newname</p>
<p>usermod -L test1 #锁定指定的用户，临时不允许登录系统</p>
<p>usermod -U test1 #解锁指定的用户，再次允许登录系统</p>
<p>扩展：</p>
<p>将已有用户添加到指定用户组</p>
<p>#将已有用户添加到指定用户组，作为其附属用户组</p>
<p># -a 代表append，和 -G 一起使用，将用户添加到新用户组中而不必来开原有的其他用户组</p>
<p>usermod -a -G &lt;用户组名称&gt; &lt;用户名称&gt;</p>
<p>#将已有用户的主用户组改为新的用户组</p>
<p>usermod -g &lt;新的用户组名称&gt; &lt;用户名称&gt;</p>
<p>usedel 命令：</p>
<p>userdel命令来自英文词组user delete的缩写，其功能是删除用户信息。</p>
<p>在Linux系统中，一切都是文件，用户信息被保存到了&#x2F;etc&#x2F;-passwd、</p>
<p>&#x2F;etc&#x2F;shadow以及&#x2F;etc&#x2F;group文件中，</p>
<p>因此使用userdel命令实际上就是删除指定用户在上述3个文件中的对应信息。</p>
<p>语法格式：userdel 参数 用户名</p>
<p>常用参数：</p>
<p>-f 强制删除用户而不询问</p>
<p>-r 删除用户的家目录及其内全部子文件</p>
<p>-h 显示帮助信息 </p>
<p>-Z 删除用户的SELinux映射用户</p>
<p>参考示例：</p>
<p>userdel test1 #删除指定的用户信息</p>
<p>userdel -r test2 #删除指定的用户信息及家目录，注意：删除的时候要慎重</p>
<p>扩展：</p>
<p>#将用户从该用户的附属组中删除</p>
<p>gpasswd -d &lt;用户名称&gt; &lt;用户组名称&gt;</p>
<p>su 命令：</p>
<p>su命令来自英文单词switch user的缩写，其功能是切换用户身份。</p>
<p>将管理员切换至任意用户身份时无须密码验证，而将普通用户切换至任意用户身份时均需密码验证。</p>
<p>另外，添加单个减号（-）参数表示完全的身份变更，不保留之前用户的任何环境变量信息。</p>
<p>语法格式：su 参数 用户名</p>
<p>常用参数：</p>
<p>— 完全地切换身份 </p>
<p>-m 切换身份时，不变更环境变量</p>
<p>-c 执行完命令后，自动恢复原来的身份</p>
<p>-s 设置要执行的Shell终端</p>
<p>-f 不读取启动文件（适用于csh和tsch） </p>
<p>–help显示帮助信息</p>
<p>-l 切换身份时，同时变更工作目录</p>
<p>–version 显示版本信息</p>
<p>参考示例</p>
<p>su root #变更至指定的用户身份</p>
<p>su - root #完全变更至指定的用户身份</p>
<p>它们之间的区别：</p>
<p>在使用su root命令时，不会加载root用户的环境变量。您仍然会保留当前用户的权限和环境设置，只是切换到root用户的身份。</p>
<p>使用su - root命令时，会加载root用户的完整环境变量。这意味着您将切换到root用户的身份，并使用root用户的环境设置</p>
<p>有部分用户提示，</p>
<p>xxx 不在 sudoers 文件中。此事将被报告。</p>
<p>修改如下文件即可。</p>
<p>1、切换到root身份： su root</p>
<p>2、修改文件权限： chmod 777 &#x2F;etc&#x2F;sudoers</p>
<p>3、修改文件内容： test6 ALL&#x3D;(ALL) ALL</p>
<p>4、保存退出后，恢复文件权限： chmod 440 &#x2F;etc&#x2F;-sudoers</p>
<p>5、返回自己的身份： exit</p>
<p>6、再次执行 sudo xxx 指令验证效果。</p>
<p>sudo 权限在 &#x2F;etc&#x2F;sudoers 文件中，该文件默认权限是440 </p>
<h2 id="6-2-用户组管理命令"><a href="#6-2-用户组管理命令" class="headerlink" title="6.2 用户组管理命令"></a>6.2 用户组管理命令</h2><p>groupadd 用户组添加命令</p>
<p>groupmod 用户组修改命令</p>
<p>gpasswd 用户组密码设置命令</p>
<p>groupdel 用户组删除命令</p>
<hr>
<p>groupadd 命令：</p>
<p>groupadd命令的功能是创建新的用户组。每个用户在创建时都有一个与其同名的基本组，</p>
<p>后期可以使用groupadd命令创建出新的用户组信息，让多个用户加入指定的扩展组，</p>
<p>从而为后续的工作提供了良好的文档共享环境。</p>
<p>语法格式：groupadd 参数 用户组</p>
<p>常用参数：</p>
<p>-f 若用户组已存在，则以成功状态退出</p>
<p>-o 允许创建重复ID的用户组</p>
<p>-g 设置用户组ID</p>
<p>-p 设置用户组密码</p>
<p>-h 显示帮助信息</p>
<p>-r 创建系统用户组</p>
<p>参考示例：</p>
<p>groupadd newgroup1 #创建一个新的用户组</p>
<p>groupadd -g 6688 newgroup2 #创建一个新的用户组，并指定用户组ID</p>
<p>groupadd -r newgroup3 #创建一个新的用户组，设定为系统工作组</p>
<p>#1000以内的编号是系统组，1000普通用户组</p>
<p>扩展：</p>
<p>#新建用户并将其加入指定用户组,作为其主用户组（每个用户有且只有一个主用户组）</p>
<p>useradd -g &lt;用户组名称&gt; &lt;用户名称&gt; </p>
<p>useradd -g xxx yyy # -g 是加入主要组</p>
<p>#或者新建用户并将其加入指定附属用户组，附属用户组可以有多个，多个附属组名称用逗号分隔即可</p>
<p>useradd -G &lt;用户组名称&gt; &lt;用户名称&gt;</p>
<p>useradd -G xxx zzz # -G 是加入附属组</p>
<p>1.主要群组：</p>
<p>每个文件都必须有一个组所有者，因此必须有个与每个用户相关的默认组，</p>
<p>这个默认组成为新建文件的组所有者，被称作用户的主要群组，、用户的主要群组在passwd文件中的第四个字段中定义。</p>
<p>2.次要群组：</p>
<p>除了主要群组，用户也可以根据需要在隶属于其他群组，这些群组被称为次要群组，在group文件中第四个字段中定义 </p>
<p> #将已有用户添加到指定用户组</p>
<p>#将已有用户添加到指定用户组，作为其附属用户组</p>
<p># -a 代表append，和 -G 一起使用，将用户添加到新用户组中而不必来开原有的其他用户组</p>
<p>usermod -a -G &lt;已有用户组名称&gt; &lt;已有用户名称&gt;</p>
<p>#将已有用户的主用户组改为新的用户组</p>
<p>usermod -g &lt;新的用户组名称&gt; &lt;已有用户名称&gt;</p>
<p>通过： id username 可以查看用户id和组id</p>
<p>比如：</p>
<p>[update@localhost ~]$ id caoqb </p>
<p>用户id&#x3D;1000(update) 组id&#x3D;1000(update) 组&#x3D;1000(update),10(wheel)</p>
<p>[test1@localhost ~]$ id test1</p>
<p>用户id&#x3D;1004(test1) 组id&#x3D;6694(mytest) 组</p>
<p>&#x3D;6694(mytest)</p>
<p>目录的t权限：</p>
<p>t权限一般只用在目录上，用在文档上起不到什么作用。</p>
<p>在一个目录上设了t权限位后，（如&#x2F;home，权限为1777)任何的用户都能够在这个目录下创建文档，但只能删除自己创建的文档(root除外)，这就对任何用户能写的目录下的用户文档 启到了保护的作用。</p>
<p>可以通过chmod +t filename 来设置t权限</p>
<p>groupmod命令</p>
<p>groupmod命令来自英文词组“group modify”的缩写，其功能是用于更改群组属性。</p>
<p>Linux系统中的群组信息一般不建议更改，因为涉及已加入用户的归属问题，</p>
<p>尤其是群组名称、组GID，一定要确认好后再操作。</p>
<p>语法格式：groupmod 参数 群组名</p>
<p>常用参数：</p>
<p>-g 设置群组识别码</p>
<p>-h 显示帮助信息</p>
<p>-n 设置群组名称</p>
<p>-o 允许重复使用群组识别码</p>
<p>-p 设置群组密码</p>
<p>参考示例：</p>
<p>groupmod -n newgroupA oldgroupB #更改指定用户组的名称（原名oldgroupB）：</p>
<p>groupmod -g 8888 newgroupA #更改指定用户组的识别码</p>
<p>groupdel 命令：</p>
<p>groupdel命令来自英文词组“delete a group”的缩写，其功能是用于删除用户组。</p>
<p>Linux系统中的用户组信息被保存在&#x2F;ect&#x2F;group和&#x2F;ect&#x2F;-gshadow文件中，</p>
<p>手动删除对应信息即可，亦可以用groupdel命令删除。</p>
<p>语法格式：groupdel [参数] 群组名</p>
<p>常用参数：</p>
<p>-f 强制删除而不询问 </p>
<p>-h 显示帮助信息</p>
<p>参考实例</p>
<p> groupdel newgroup #删除指定名称的用户组：</p>
<p> groupdel -f newgroup #强制删除指定名称的用户组</p>
<h2 id="6-3-用户配置"><a href="#6-3-用户配置" class="headerlink" title="6.3 用户配置"></a>6.3 用户配置</h2><p>在 Linux 中，用户名、密码、用户组和用户组密码都是在保存在不同的文件配置文件中。</p>
<p>&#x2F;etc&#x2F;passwd： 用于保存用户账号文件</p>
<p>&#x2F;etc&#x2F;shadow： 用户保存用户的密码文件 &#x3D;&#x3D;》useradd</p>
<p>&#x2F;etc&#x2F;group： 用于保存用户组的文件</p>
<p>&#x2F;etc&#x2F;gshadow： 用于保存用户组密码的文件 &#x3D;&#x3D;》groupadd</p>
<p>&#x2F;etc&#x2F;skel： 保存用户家目录文件隐藏文件</p>
<p>&#x2F;etc&#x2F;default&#x2F;useradd：用户定义添加用户的信息文件 &#x3D;&#x3D;》用户配置文件</p>
<hr>
<p>&#x2F;etc&#x2F;passwd:</p>
<p>passwd 是一个文本文件，用于定义系统的用户账号，由于这个文件是所有用户都对需要读取的权限，</p>
<p>所以文件中只定义用户的账号，而不保存用户密码。</p>
<p>在这个文件中，每一行记录了一个用户信息，而用户信息是以 : 英文冒号来进行分隔的 7 个部分组成，</p>
<p>这 7 个部分的意义说明如下：</p>
<p>root : x : 0 : 0 : root : &#x2F;</p>
<p>root : &#x2F;bin&#x2F;bash</p>
<p>redhat : x : 1000 : 1000 : redhat : &#x2F;home&#x2F;</p>
<p>redhat :&#x2F;bin&#x2F;bash</p>
<p>1 2 3 4 5 6 7</p>
<p>1 用户名</p>
<p>2 用户登录密码的占位符，如果为 x 表示有密码，如果为空或* 表示没有密码</p>
<p>3 用户的 ID，即 uid</p>
<p>4 用户所属组 ID，即 gid</p>
<p>5 用户的个人信息，包含用户的完整名称、地址、办公电话、家庭住址等个人信息</p>
<p>6 用户的家目录</p>
<p>7 用户的默认登录所能使用的 shell类型</p>
<p>Linux中每个用户是通过 User Id （UID）来唯一标识的</p>
<p>管理员：root, 0</p>
<p>普通用户：1-60000 自动分配</p>
<p>系统用户：1-499 （CentOS 6以前）, 1-999 （CentOS 7以后）</p>
<p>对守护进程获取资源进行权限分配</p>
<p>登录用户：500+ （CentOS6以前）, 1000+（CentOS7以后）</p>
<p>给用户进行交互式登录使用</p>
<p> &#x2F;etc&#x2F;shadow:</p>
<p>这个文件是用户保存用户密码的文件，我们可以通过如下的命令来查看这个文件：</p>
<p>tail -2 &#x2F;etc&#x2F;shadow</p>
<p>这个文件每一行记录了一个用户的密码信息，它们共有 9 个字段，分别表示如下：</p>
<p>root:$6$hS4yqJu7WQfGlk0M$Xj&#x2F;-</p>
<p>SCS5z4BWSZKN0raNncu6VMuWdUVbDScMYxOgB7mX</p>
<p>Uj.&#x2F;dXJN0zADAXQUMg0CuWVRyZUu6npPLWoyv8eXPA.::-</p>
<p>0:99999:7::: ftp:*:16659</p>
<p>:0:99999:7::: nobody:*:16659:0:99999:7:::</p>
<p>longshuai:$6$8LGe6Eh6$vox9.</p>
<p>OF3J9nD0KtOYj2hE9DjfU3iRN.v3up4PbKKGWLOy3k1Up50bbo7Xii&#x2F;-</p>
<p>Uti05hlqhktAf&#x2F;</p>
<p>dZFy2RrGp5W&#x2F;:17323:0:99999:7:::</p>
<p>第一列：用户名。</p>
<p>第二列：加密后的密码。但是这一列是有玄机的，有些特殊的字符表示特殊的意义。</p>
<p>①.该列留空，即”::”，表示该用户没有密码。</p>
<p>②.该列为”!”，即”:!:”，表示该用户被锁，被锁将无法登陆，但是可能其他的登录方式是不受限制的</p>
<p>③.该列为”<em>“，即”:</em>:”，也表示该用户被锁，和”!”效果是一样的。</p>
<p>④.该列以”!”或”!!”开头，则也表示该用户被锁。</p>
<p>⑤.该列为”!!”，即”:!!:”，表示该用户从来没设置过密码。</p>
<p>⑥.如果格式为”$id$salt$hashed”，则表示该用户密码正常。其中$id$的id表示密码的加密算法，</p>
<p>$1$表示使用MD5算法，$2a$表示使用Blowfish算</p>
<p>法，”$2y$“是另一算法长度的Blowfish,</p>
<p>“$5$“表示SHA-256算法，而”$6$“表示SHA-512算法，可见上面的结果中都是使用sha-512算法的。</p>
<p>$5$和$6$这两种算法的破解难度远高于MD5。$salt$是加密时使用的salt，$hashed才是真正的密码部分。</p>
<p>第三列：从1970年1月1日到上次密码修改经过的时间(天数)。通过计算现在离1970年1月1日的天数减去这个值，结果就是上次修改密码到现在已经经过了多少天，即现在的密码已经使用了多少天。</p>
<p>第四列：密码最少使用期限(天数)。省略或者0表示不设置期限。例如，刚修改完密码又想修改，可以限制多久才能再次修改</p>
<p>第五列：密码最大使用期限(天数)。超过了它不一定密码就失效，可能下一个字段设置了过期后的宽限天数。设置为空时将永不过期，后面设置的提醒和警告将失效。root等一些用户的已经默认设置为了99999，表示永不过期。如果值设置小于最短使用期限,用户将不能修改密码。</p>
<p>第六列：密码过期前多少天就开始提醒用户密码将要过期。空或0将不提醒。</p>
<p>第七列：密码过期后宽限的天数，在宽限时间内用户无法使用原密码登录，必须改密码或者联系管理员。</p>
<p>设置为空表示没有强制的宽限时间，可以过期后的任意时间内修改密码。</p>
<p>第八列：帐号过期时间。从1970年1月1日开始计算天数。设置为空帐号将永不过期，不能设置为0。不同于密码过期，密码过期后账户还有效，改密码后还能登录；帐号过期后帐号失效，修改密码重设密码都无法使用该帐号。</p>
<p>第九列：保留字段。</p>
<p> &#x2F;etc&#x2F;group:</p>
<p>这个文件中存储是用户组信息，我们可以通过如下的命令来进行查看：</p>
<p> tail -3 &#x2F;etc&#x2F;group</p>
<p> dnsmasq: x:977:</p>
<p>tcpdump: x:72:</p>
<p>redhat: x:1000:</p>
<p>在这文件中每一行记录了一个组信息，使用英文冒号分隔成 4个字段，分别代表如下：</p>
<p> redhat : x : 1000 :</p>
<p>1 2 3 4</p>
<p>1 表示组名称</p>
<p>2 表示组的密码占位符，真正的密码保存在 &#x2F;etc&#x2F;gshadow文件中</p>
<p>3 表示组的 id 值</p>
<p>4 表示附加组中的用户列表，以英文逗号分隔，如果为空表示没有附加用户</p>
<p> &#x2F;etc&#x2F;gshadow:</p>
<p>这个文件是用于保存组的密码信息，通过如下命令来查看：</p>
<p>tail -3 &#x2F;etc&#x2F;gshadow</p>
<p>dnsmasq:!::</p>
<p>tcpdump:!::</p>
<p>redhat:!::</p>
<p>在这个文件中每一行代表一个组的密码信息，通过英文冒号分隔为 4 段，分别表示如下：</p>
<p>redhat : ! : :</p>
<p>1 2 3 4</p>
<p>1 组名称，与 &#x2F;etc&#x2F;group 文件中第一列相同</p>
<p>2 组密码，如果值为 ！ 表示没有密码</p>
<p>3 组管理的用户名，很少使用</p>
<p>4 组中附加用户，也 &#x2F;etc&#x2F;group 中第 4 列相同</p>
<p>&#x2F;etc&#x2F;skel：</p>
<p>这个文件中记录是用户家目录下的相关隐藏文件。默认情况下，当新创建好一个用户后，</p>
<p>会在这个用户的家目录下新建一个隐藏文件，而这些隐藏文件就是从这个文件中拷贝过来的</p>
<p>ls -a &#x2F;etc&#x2F;skel</p>
<p>..&#x2F;</p>
<p>.&#x2F;</p>
<p>.mozilla&#x2F;</p>
<p>.bash_logout</p>
<p>.bash_profile</p>
<p>.bashrc</p>
<p> &#x2F;etc&#x2F;default&#x2F;useradd：</p>
<p>在这个文件中记录了创建用户的相关信息。</p>
<p>vim &#x2F;etc&#x2F;default&#x2F;useradd</p>
<p># useradd defaults file</p>
<p>GROUP&#x3D;100 </p>
<p>这个选项用于建立用户的默认组，它是公有组，而目录使用的是私有组，</p>
<p> 所以它无效</p>
<p>HOME&#x3D;&#x2F;home </p>
<p>用于指定所创建的用户所在的家目录，它是创建普通用户的家目录</p>
<p>INACTIVE&#x3D;-1 </p>
<p>用于指定密码过期的宽限时间，如果值为 -1 表示不限制，</p>
<p>它与&#x2F;etc&#x2F;shadow 文件中第 7 个字段对应</p>
<p>EXPIRE&#x3D; </p>
<p>用于指定密码的过期时间，它与 &#x2F;etc&#x2F;shadow 文件中的第 8 个字段对应，</p>
<p>如果值为空表示永久有效</p>
<p>SHELL&#x3D;&#x2F;bin&#x2F;bash </p>
<p>用于指定用户登录后的操作，它与 &#x2F;etc&#x2F;passwd 文件中第 7 个字段对应</p>
<p>SKEL&#x3D;&#x2F;etc&#x2F;skel </p>
<p>用于指定用户所在家目录下的隐藏文件的拷贝来源</p>
<p>CREATE_MAIL_SPOOL&#x3D;yes 用于给新建的用户指定邮箱地址，</p>
<p> 它与 &#x2F;etc&#x2F;login.defs 文件中MAIL_DIR 指向的地址相同</p>
<h1 id="第七章-基础项目演练"><a href="#第七章-基础项目演练" class="headerlink" title="第七章 基础项目演练"></a>第七章 基础项目演练</h1><h2 id="搭建FTP文件共享服务器"><a href="#搭建FTP文件共享服务器" class="headerlink" title="搭建FTP文件共享服务器"></a>搭建FTP文件共享服务器</h2><p>一、实验目的及要求</p>
<p>1、掌握vsftpd服务器的配置方法。</p>
<p>2、熟悉FTP客户端工具的使用。</p>
<p>3、掌握常见的FTP服务器的故障排除。</p>
<p>二、实验项目背景</p>
<p>某企业想构建一台FTP服务器，为企业局域网中的计算机提供文件传送任务，</p>
<p>为财务部门、销售部门和OA系统提供异地数据备份。要求能够对FTP服务器设置连接限制、</p>
<p>日志记录、消息、验证客户端身份等属性，并能创建用户隔离的FTP站点。</p>
<p>三、实验的环境：</p>
<p>1、window系统版本： Windows 10 或者 Window11 系统；</p>
<p>2、VMware软件版本： VMware® Workstation 17 Pro ；</p>
<p>3、Linux 系统版本： Red Hat Enterprise Linux 9.3 64 位</p>
<p>四、实验方法和步骤：</p>
<p>（1）安装ftp服务器：</p>
<p>离线安装：rpm -ivh vsftpd-1.1.3-8.i386.rpm</p>
<p>在线安装：yum install vsftpd</p>
<p>（2）修改配置文件，匿名账户具有访问、上传和创建目录的权限</p>
<p>vim &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd.conf</p>
<p>vsftpd.conf 文件说明：</p>
<p>local_enable&#x3D;NO|YES #本地登陆控制，NO表示禁止，YES表示允许</p>
<p>anonymous_enable&#x3D;yes&#x2F;no #是否允许匿名用户访问 。 yes表示允许，no表示不允许</p>
<p>anon_upload_enable&#x3D;YES&#x2F;NO #上传控制 YES表示同意，NO表示否定</p>
<p>anon_world_readable_only&#x3D;NO&#x2F;YES #下载控制，NO表示可以下载不可读文件，YES表示不能下载</p>
<p>anon_mkdir_write_enable&#x3D;YES|NO #目录创建控制</p>
<p>max_clients&#x3D;2 #表示最大同时访问数为2</p>
<p>local_root&#x3D;&#x2F;mnt #家目录控制，默认进入的家目录是进入登录用户的家目录</p>
<p>write_enable&#x3D;NO|YES #写权限控制，NO表示不允许写，YES表示允许</p>
<p>chroot_local_user&#x3D;YES #锁定用户到自己的家目录中</p>
<p>（3）重启FTP服务</p>
<p>systemctl restart vsftpd.service</p>
<p>systemctl status vsftpd.service</p>
<p>（4）测试</p>
<p>在win10 的地址栏输入： <a href="ftp://-linuxServer:ip">ftp://-linuxServer:ip</a></p>
<p>可以看到默认的共享文件 pub。</p>
<p>（5）匿名登录ftp，查看及创建目录</p>
<p>如果需要创建目录上传资料，需要如下修改。</p>
<p>1、关闭 SELinux</p>
<p>setenforce 0</p>
<p>getenfoce 查看是否关闭：Permissive 是关闭状态</p>
<p>或者：vim &#x2F;etc&#x2F;-sysconfig&#x2F;selinux 将 SELINUX&#x3D;enforcing 改为SELINUX&#x3D;disabled 然后重启</p>
<p>2、关闭 防火墙</p>
<p>systemctl stop firewalld #关闭防火墙</p>
<p>systemctl status  firewalled</p>
<p>systemctl disable firewalld #关闭防火墙开机启动</p>
<p>3、修改 vsftpd 配置文件</p>
<p>vim &#x2F;etc&#x2F;vsftpd&#x2F;-vsftpd.conf</p>
<p>anon_upload_enable&#x3D;YES</p>
<p>anon_mkdir_write_enable&#x3D;YES</p>
<p>4、修改本地上传目录权限</p>
<p>cd &#x2F;var&#x2F;ftp&#x2F;pub</p>
<p>mkdir </p>
<p>chmod 777 &#x2F;var&#x2F;ftp&#x2F;pub&#x2F;-upload</p>
<p>chmod 777 &#x2F;var&#x2F;ftp&#x2F;pub</p>
<p>&#x2F;etc&#x2F;vsftpd&#x2F;ftpusers##放入的用户永久黑名单</p>
<p>&#x2F;etc&#x2F;vsftpd&#x2F;user_list##放入的用户默认黑名单</p>
<p>vsftpd.conf 配置文件里新写入此参数：</p>
<p>userlist_deny&#x3D;NO 表示允许user_list的用户登录，则user_list变白名单。</p>
<p>扩展：虚拟用户访问:</p>
<p>1、建立认证文件模板</p>
<p>建立模板需要在&#x2F;etc&#x2F;vsftp&#x2F;的目录下完成</p>
<p>我们建立 “vim &#x2F;etc&#x2F;vsftpd&#x2F;ftp_auth_file”</p>
<p>我们写了3个虚拟用户和密码，注意写的时候注意后面的空格，在这里空格也是会被计算在内的。</p>
<p>2、加密认证文件</p>
<p>然后我们把写出的文件，转换成系统可识别的认证文件</p>
<p>cd &#x2F;etc&#x2F;vsftpd&#x2F;</p>
<p>“ db_load -T -t hash -f ftp_auth_fileftp_auth_file.db”</p>
<p>3、建立pam认证文件</p>
<p>pam是我们系统中的一个插件程序，用来确认配对信息，例如我们用ftp登录主机用户获取信息是，</p>
<p>需要先输入用户名，然后输入密码才可以进入，可以来查看pam 的配置目录里的文件内容。</p>
<p>在pam.d目录里是有vsftp的认证文件的，文件内容我们列出来了，所以我们建立的虚拟用户也</p>
<p>需要建立这样的认证文件才可以让别人访问建立文件 vim &#x2F;etc&#x2F;pam.d&#x2F;test ，test这个文件名可以自定义</p>
<p>[root@localhost pam.d]# cat test </p>
<p>account required </p>
<p>pam_userdb.so db&#x3D;&#x2F;etc&#x2F;vsftpd&#x2F;ftp_auth_file</p>
<p>auth required </p>
<p>pam_userdb.so db&#x3D;&#x2F;etc&#x2F;vsftpd&#x2F;ftp_auth_file</p>
<p>我们来分析一下这个文件内容：</p>
<p>account：账户</p>
<p>auth：认证，也就是密码</p>
<p>required：必须通过，强制认证</p>
<p>pam_userdb.so：pam的插件名称</p>
<p>db&#x3D;&#x2F;etc&#x2F;vsftpd&#x2F;ftp_auth_file：</p>
<p> 指定pam插件认证的文件，注意的是我们刚转换的格式ftp_auth_file.db，</p>
<p>但是这里默认找的就是后缀为 .db 的文件，所以不需要加 .db</p>
<p>4、编辑vsftp主配置文件</p>
<p>vim &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd.conf</p>
<p>pam_service_name&#x3D;test：指定认证的文件，之前用的是&#x2F;etc&#x2F;pam.d&#x2F;vsftp</p>
<p>guest_enable&#x3D;YES：指定虚拟用户功能开启</p>
<p>guest_username&#x3D;ftp：指定虚拟用户在ftp服务器上的用户身份，ftp的家目录就是&#x2F;var&#x2F;vsftp</p>
<p>ftp的家目录可以查看&#x2F;etc&#x2F;passwd里的内容找到</p>
<p>完成这些设定后就完成了虚拟用户的建立， 重启服务</p>
<p>systemctl restart vsftpd</p>
<p>就可以测试登录查看。</p>
<p>5、测试登录</p>
<p>我们使用另一台主机登录这些虚拟用户。</p>
<p>参考来源：vsftpd服务程序的三种认证模式(匿名开</p>
<p>放模式、本地用户模式、虚拟用户模式)</p>
<p><a target="_blank" rel="noopener" href="http://runxinzhi.com/xingyu666-p-14265425.html">http://runxinzhi.com/xingyu666-p-14265425.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Howei__/article/-details/104398783">https://blog.csdn.net/Howei__/article/-details/104398783</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_53308294/-article/details/130350472">https://blog.csdn.net/weixin_53308294/-article/details/130350472</a></p>
<p>再延伸：</p>
<p>虚拟用户家目录的独立设定</p>
<p>默认的虚拟用户我们登录的家目录都在&#x2F;var&#x2F;ftp里，那他们创建的目录上传的东西都会在一起，</p>
<p>如果要删除某个虚拟用户的文件，找起来就很麻烦了，所以为了方便管理我们将这些虚拟用户建立分开的家目录。</p>
<p>首先我们去给每个虚拟用户建立他们的家目录</p>
<p>mkdir &#x2F;home&#x2F;ftp{1..3}</p>
<p>touch &#x2F;home&#x2F;ftp1&#x2F;abc1</p>
<p>touch &#x2F;home&#x2F;ftp2&#x2F;abc2</p>
<p>touch &#x2F;home&#x2F;ftp3&#x2F;abc3</p>
<p>编辑配置文件：vim &#x2F;etc&#x2F;vsftpd&#x2F;vsftpd.conf</p>
<p>写入两条配置</p>
<p>local_root&#x3D;&#x2F;home&#x2F;$USER： 指定用户的登录的家目录，$USER是系统对于用户的一个变量指代</p>
<p>user_sub_token&#x3D; $USER：指定上面写的 $USER是我们系统中的，否则vsftp无法识别</p>
<p>完成后，依然是重启服务</p>
<p>systemctl restart vsftpd</p>
<p>就可以测试登录查看。</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">渊</div><div class="post-copyright__author_desc">乖乖，我永远希望你能开心</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2024/04/05/RHCSA/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2024/04/05/RHCSA/')">RHCSA</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/img/reward/wx.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/wx.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/reward/zfb.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/reward/zfb.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div><div class="reward-link mode"><a class="reward-link-button" href="/wechat/"><i class="anzhiyufont anzhiyu-icon-plant-fill"></i>运营模式与责任</a></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2024/04/05/RHCSA/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=RHCSA&amp;url=http://example.com/2024/04/05/RHCSA/&amp;pic=/img/default_cover1.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">渊</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__category-list"><a class="post-meta__box__categoryes" href="/categories/%E5%A4%A7%E5%AD%A6/"><span class="categoryes-punctuation"> <i class="anzhiyufont anzhiyu-icon-inbox"></i></span>大学<span class="categoryesPageCount">6</span></a></div><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E5%9F%BA%E7%A1%80/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>基础<span class="tagsPageCount">5</span></a><a class="post-meta__box__tags" href="/tags/Linux/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Linux<span class="tagsPageCount">5</span></a></div></div><div class="post_share"><div class="social-share" data-image="/img/default_cover1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/04/05/HCIP/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">HCIP</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/06/%E5%8E%9F%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81%20%E8%AF%A6%E8%A7%A3%EF%BC%81/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">原码、反码、补码 详解！</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2024/04/05/HCIA/" title="HCIA"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-04-05</div><div class="title">HCIA</div></div></a></div><div><a href="/2024/03/30/SQL%E5%9F%BA%E7%A1%80/" title="SQL基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-03-30</div><div class="title">SQL基础</div></div></a></div><div><a href="/2024/03/25/Web%E6%8A%80%E6%9C%AF/Web%E5%9F%BA%E7%A1%80/" title="Web基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-03-25</div><div class="title">Web基础</div></div></a></div><div><a href="/2024/03/24/python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/python/" title="Python基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-03-24</div><div class="title">Python基础</div></div></a></div><div><a href="/2021/09/01/Linux%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F1/" title="Linux网络操作系统1"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-09-01</div><div class="title">Linux网络操作系统1</div></div></a></div><div><a href="/2021/09/08/Linux%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F3/" title="Linux网络操作系统3"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-09-08</div><div class="title">Linux网络操作系统3</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description">落魄谷中寒风吹,春秋蝉鸣少年归 荡魂山处石人泪,定仙游走魔向北 逆流河上万仙退,爱情不敌坚持泪 宿命天成命中败,仙尊悔而我不悔</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">渊</h1><div class="author-info__desc">乖乖，我永远希望你能开心</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/updateyuan" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/1807133884" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">天若有情天亦老,大道无情情至公</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-Linux%E7%B3%BB%E7%BB%9F%E5%85%A5%E9%97%A8"><span class="toc-number">1.</span> <span class="toc-text">第一章 Linux系统入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Linux%E7%B3%BB%E7%BB%9F%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 Linux系统简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8E%AF%E5%A2%83"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 虚拟机环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E8%BF%9C%E7%A8%8B%E5%85%B1%E4%BA%AB%E6%90%AD%E5%BB%BA"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 远程共享搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-1-%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%AE%BE%E7%BD%AE%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1 虚拟机设置共享文件夹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-2-Xshell%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2 Xshell共享文件夹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-3-Xftp%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3 Xftp文件共享</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 基本命令格式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.</span> <span class="toc-text">第二章 文件管理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">2.1.</span> <span class="toc-text">2.1目录管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 文件管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E7%BC%96%E8%BE%91%E5%99%A8vim%E5%91%BD%E4%BB%A4"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 编辑器vim命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 压缩解压缩文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-%E7%A6%BB%E7%BA%BF%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 离线管理命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%8C%85-%E6%BA%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">第三章 包&#x2F;源管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E6%9C%AC%E5%9C%B0%E6%BA%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 本地源管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E7%BD%91%E7%BB%9C%E6%BA%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 网络源管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E6%BA%90%E7%A0%81%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 源码管理命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">第四章 网络管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 网络基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E6%8E%A5%E5%8F%A3%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 接口管理命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E7%B3%BB%E7%BB%9F%E7%BB%B4%E6%8A%A4%E5%91%BD%E4%BB%A4"><span class="toc-number">5.</span> <span class="toc-text">第五章 系统维护命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1%E7%BD%91%E7%BB%9C%E7%BB%B4%E6%8A%A4%E5%91%BD%E4%BB%A4"><span class="toc-number">5.1.</span> <span class="toc-text">5.1网络维护命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 进程管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">5.3.</span> <span class="toc-text">5.3 系统管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">5.4.</span> <span class="toc-text">5.4 磁盘管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E9%80%BB%E8%BE%91%E5%8D%B7%E7%AE%A1%E7%90%86"><span class="toc-number">5.5.</span> <span class="toc-text">5.5 逻辑卷管理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">6.</span> <span class="toc-text">第六章 用户管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">6.1.</span> <span class="toc-text">6.1 用户管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">6.2.</span> <span class="toc-text">6.2 用户组管理命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE"><span class="toc-number">6.3.</span> <span class="toc-text">6.3 用户配置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E5%9F%BA%E7%A1%80%E9%A1%B9%E7%9B%AE%E6%BC%94%E7%BB%83"><span class="toc-number">7.</span> <span class="toc-text">第七章 基础项目演练</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%AD%E5%BB%BAFTP%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">7.1.</span> <span class="toc-text">搭建FTP文件共享服务器</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/04/17/hello-world/" title="Hello World"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2024/04/17/hello-world/" title="Hello World">Hello World</a><time datetime="2024-04-17T04:57:14.799Z" title="发表于 2024-04-17 12:57:14">2024-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/06/%E5%8E%9F%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81%20%E8%AF%A6%E8%A7%A3%EF%BC%81/" title="原码、反码、补码 详解！"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="原码、反码、补码 详解！"/></a><div class="content"><a class="title" href="/2024/04/06/%E5%8E%9F%E7%A0%81%E3%80%81%E5%8F%8D%E7%A0%81%E3%80%81%E8%A1%A5%E7%A0%81%20%E8%AF%A6%E8%A7%A3%EF%BC%81/" title="原码、反码、补码 详解！">原码、反码、补码 详解！</a><time datetime="2024-04-06T14:40:37.000Z" title="发表于 2024-04-06 22:40:37">2024-04-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/05/RHCSA/" title="RHCSA"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RHCSA"/></a><div class="content"><a class="title" href="/2024/04/05/RHCSA/" title="RHCSA">RHCSA</a><time datetime="2024-04-05T10:38:43.000Z" title="发表于 2024-04-05 18:38:43">2024-04-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/05/HCIP/" title="HCIP"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HCIP"/></a><div class="content"><a class="title" href="/2024/04/05/HCIP/" title="HCIP">HCIP</a><time datetime="2024-04-05T10:38:26.000Z" title="发表于 2024-04-05 18:38:26">2024-04-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/05/HCIA/" title="HCIA"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/default_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HCIA"/></a><div class="content"><a class="title" href="/2024/04/05/HCIA/" title="HCIA">HCIA</a><time datetime="2024-04-05T10:38:12.000Z" title="发表于 2024-04-05 18:38:12">2024-04-05</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://www.dogecloud.com/" style="margin-inline:5px" data-title="本站使用多吉云为静态资源提供CDN加速" title="本站使用多吉云为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/CDN-多吉云-3693F3.svg" alt="本站使用多吉云为静态资源提供CDN加速"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="渊" target="_blank">渊</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">83</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">22</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://index.anheyu.com/" title="个人主页"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/13/64d8c2748ef34.jpg" alt="个人主页"/><span class="back-menu-item-text">个人主页</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://updateyuan.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-dice-d20 faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Anaconda/" style="font-size: 0.88rem;">Anaconda<sup>10</sup></a><a href="/tags/Android/" style="font-size: 0.88rem;">Android<sup>2</sup></a><a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 0.88rem;">C语言<sup>1</sup></a><a href="/tags/FAT32%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" style="font-size: 0.88rem;">FAT32文件系统<sup>2</sup></a><a href="/tags/HCIP/" style="font-size: 0.88rem;">HCIP<sup>2</sup></a><a href="/tags/JAVA%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/" style="font-size: 0.88rem;">JAVA程序设计<sup>3</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem;">Linux<sup>5</sup></a><a href="/tags/MacOS/" style="font-size: 0.88rem;">MacOS<sup>1</sup></a><a href="/tags/Python/" style="font-size: 0.88rem;">Python<sup>2</sup></a><a href="/tags/SQL/" style="font-size: 0.88rem;">SQL<sup>3</sup></a><a href="/tags/VMware-Workstation/" style="font-size: 0.88rem;">VMware-Workstation<sup>1</sup></a><a href="/tags/Web/" style="font-size: 0.88rem;">Web<sup>1</sup></a><a href="/tags/Windows/" style="font-size: 0.88rem;">Windows<sup>1</sup></a><a href="/tags/Winhex/" style="font-size: 0.88rem;">Winhex<sup>7</sup></a><a href="/tags/hexo/" style="font-size: 0.88rem;">hexo<sup>13</sup></a><a href="/tags/python/" style="font-size: 0.88rem;">python<sup>10</sup></a><a href="/tags/%E4%B8%93%E5%8D%87%E6%9C%AC/" style="font-size: 0.88rem;">专升本<sup>1</sup></a><a href="/tags/%E5%8A%9E%E5%85%AC%E8%87%AA%E5%8A%A8%E5%8C%96/" style="font-size: 0.88rem;">办公自动化<sup>1</sup></a><a href="/tags/%E5%8D%8E%E4%B8%BA/" style="font-size: 0.88rem;">华为<sup>2</sup></a><a href="/tags/%E5%8D%8E%E4%B8%BA1-X/" style="font-size: 0.88rem;">华为1+X<sup>8</sup></a><a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 0.88rem;">基础<sup>5</sup></a><a href="/tags/%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" style="font-size: 0.88rem;">基础教程<sup>33</sup></a><a href="/tags/%E5%A4%A7%E5%AD%A6/" style="font-size: 0.88rem;">大学<sup>3</sup></a><a href="/tags/%E5%B1%80%E5%9F%9F%E7%BD%91%E7%BB%84%E5%BB%BA%E4%B8%8E%E7%BB%B4%E6%8A%A4/" style="font-size: 0.88rem;">局域网组建与维护<sup>2</sup></a><a href="/tags/%E5%BA%94%E7%94%A8%E5%AF%86%E7%A0%81%E6%8A%80%E6%9C%AF/" style="font-size: 0.88rem;">应用密码技术<sup>3</sup></a><a href="/tags/%E6%80%9D%E7%A7%91/" style="font-size: 0.88rem;">思科<sup>2</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 0.88rem;">操作系统<sup>1</sup></a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 0.88rem;">数学<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 0.88rem;">数据库<sup>2</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D/" style="font-size: 0.88rem;">数据恢复<sup>13</sup></a><a href="/tags/%E6%9B%B4%E6%96%B0/" style="font-size: 0.88rem;">更新<sup>13</sup></a><a href="/tags/%E6%9D%82%E8%AE%B0/" style="font-size: 0.88rem;">杂记<sup>1</sup></a><a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 0.88rem;">爬虫<sup>10</sup></a><a href="/tags/%E7%A1%AC%E4%BB%B6%E5%B7%A5%E7%A8%8B%E5%B8%88/" style="font-size: 0.88rem;">硬件工程师<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 0.88rem;">网络<sup>4</sup></a><a href="/tags/%E7%BE%8E%E5%8C%96/" style="font-size: 0.88rem;">美化<sup>13</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" style="font-size: 0.88rem;">计算机基础<sup>1</sup></a></div></div><hr/></div></div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keybordList"><div class="keybordItem"><div class="keyGroup"><div class="key">shift K</div></div><div class="keyContent"><div class="content">关闭快捷键功能</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift A</div></div><div class="keyContent"><div class="content">打开/关闭中控台</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift D</div></div><div class="keyContent"><div class="content">深色/浅色显示模式</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift S</div></div><div class="keyContent"><div class="content">站内搜索</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift R</div></div><div class="keyContent"><div class="content">随机访问</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift H</div></div><div class="keyContent"><div class="content">返回首页</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift F</div></div><div class="keyContent"><div class="content">友链鱼塘</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift L</div></div><div class="keyContent"><div class="content">友链页面</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift P</div></div><div class="keyContent"><div class="content">关于本站</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift I</div></div><div class="keyContent"><div class="content">原版/本站右键菜单</div></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.cbd.int/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 渊 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("04/01/2021 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.cbd.int/mathjax@3.2.2/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>